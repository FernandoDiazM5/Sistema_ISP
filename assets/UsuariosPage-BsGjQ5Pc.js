import{c as ae,a as x,r as l,D as te,n as c,p as k,j as e,w as we,l as Ee,h as Ce,X as K,L as D,M as Y,P as f,q as Se}from"./index-CE-Gmpg_.js";import{E as J,c as ke}from"./authAPI-DiofvNqM.js";import{S as Q}from"./shield-mZpxv49W.js";import{U as Z}from"./user-CDUevgP0.js";import{P as Ue}from"./plus-s4tdDMXz.js";import{S as Le}from"./search-Bst3wRDz.js";import{C as L}from"./circle-check-DQSjTMQg.js";import{M as ee}from"./mail-DOap4LbJ.js";import{C as Ae}from"./clock-DuAs5F5M.js";import{E as se}from"./eye-D7BEYtG0.js";import{P as Ie}from"./pen-line-T0-vujmF.js";import{T as Te}from"./trash-2-DeduKs7_.js";import{C as R}from"./circle-alert-DS_sviAW.js";const Pe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Me=ae("crown",Pe);const _e=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],De=ae("key-round",_e),Re={true:{bg:"bg-accent-green/15",text:"text-accent-green",icon:L},false:{bg:"bg-accent-red/15",text:"text-accent-red",icon:we}},U={[c.SUPER_ADMIN]:{badge:"bg-purple-500/15 text-purple-500",border:"border-purple-500 bg-purple-500/10",text:"text-purple-500"},[c.ADMIN]:{badge:"bg-blue-500/15 text-blue-500",border:"border-blue-500 bg-blue-500/10",text:"text-blue-500"},[c.TECNICO]:{badge:"bg-green-500/15 text-green-500",border:"border-green-500 bg-green-500/10",text:"text-green-500"},[c.VIEWER]:{badge:"bg-gray-500/15 text-gray-500",border:"border-gray-500 bg-gray-500/10",text:"text-gray-500"}},O={[f.NONE]:{label:"Sin Acceso",color:"text-gray-500"},[f.READ]:{label:"Lectura",color:"text-blue-500"},[f.WRITE]:{label:"Escritura",color:"text-green-500"},[f.ADMIN]:{label:"Admin",color:"text-purple-500"}},$={email:"",nombre:"",foto:"",rol:c.VIEWER,permisos:{...te[c.VIEWER]},authType:"google_oauth",password:""};function Je(){const N=x(s=>s.currentUser),o=x(s=>s.allUsers),re=x(s=>s.loadAllUsers),le=x(s=>s.createUser),z=x(s=>s.updateUser),ie=x(s=>s.deleteUser),ce=x(s=>s.toggleUserStatus),oe=x(s=>s.usersLoading),G=x(s=>s.canManageUsers),n=x(s=>s.addToast),[v,ne]=l.useState(""),[de,A]=l.useState(!1),[d,I]=l.useState(null),[t,m]=l.useState($),[V,T]=l.useState(null),[g,F]=l.useState(null),[me,y]=l.useState(!1),[W,q]=l.useState({}),[P,xe]=l.useState(!1),[w,E]=l.useState(!1),[C,B]=l.useState(!1),[S,X]=l.useState(!1),[i,j]=l.useState({});l.useEffect(()=>{G()&&re()},[]);const h=l.useMemo(()=>{const s=o.length,a=o.filter(u=>u.activo).length,r=s-a,p=o.filter(u=>u.rol===c.SUPER_ADMIN).length,b=o.filter(u=>u.rol===c.ADMIN).length,_=o.filter(u=>u.rol===c.TECNICO).length,ye=o.filter(u=>u.rol===c.VIEWER).length;return{total:s,activos:a,inactivos:r,superAdmins:p,admins:b,tecnicos:_,viewers:ye}},[o]),H=l.useMemo(()=>{if(!v)return o;const s=v.toLowerCase();return o.filter(a=>a.nombre.toLowerCase().includes(s)||a.email.toLowerCase().includes(s)||k[a.rol]?.label.toLowerCase().includes(s))},[o,v]),ue=()=>{I(null),m($),A(!0)},he=s=>{I(s.uid),m({email:s.email,nombre:s.nombre,foto:s.foto||"",rol:s.rol,permisos:{...s.permisos}}),A(!0)},M=()=>{A(!1),I(null),m($),j({}),E(!1)},pe=s=>{m(a=>({...a,rol:s,permisos:{...te[s]}}))},ge=()=>{const s={};return t.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(s.email="El email no es válido"):s.email="El email es obligatorio",(!t.nombre||t.nombre.trim().length<3)&&(s.nombre="El nombre debe tener al menos 3 caracteres"),t.rol||(s.rol="Debes seleccionar un rol"),!d&&t.authType==="email_password"&&(t.password?t.password.length<6&&(s.password="La contraseña debe tener al menos 6 caracteres"):s.password="La contraseña es obligatoria"),j(s),Object.keys(s).length===0},be=async s=>{if(s.preventDefault(),!ge()){n({type:"error",message:"Por favor corrige los errores en el formulario"});return}E(!0);try{if(d)await z(d,{nombre:t.nombre,foto:t.foto,rol:t.rol,permisos:t.permisos}),n({type:"success",message:`Usuario ${t.nombre} actualizado exitosamente`});else{let a=null;if(t.authType==="email_password"){const r=await ke(t.email,t.password);if(!r.success){n({type:"error",message:r.error||"Error al crear usuario en Firebase Auth"}),E(!1);return}a=r.uid}await le({email:t.email,nombre:t.nombre,foto:t.foto,rol:t.rol,permisos:t.permisos,authType:t.authType},N?.uid||"system",a),n({type:"success",message:`Usuario ${t.nombre} creado exitosamente`})}M()}catch(a){n({type:"error",message:a.message||"Error al guardar el usuario"})}finally{E(!1)}},fe=async s=>{B(!0);try{const a=o.find(r=>r.uid===s);await ie(s),n({type:"success",message:`Usuario ${a?.nombre||""} eliminado exitosamente`}),T(null)}catch(a){n({type:"error",message:a.message||"Error al eliminar el usuario"})}finally{B(!1)}},je=async s=>{try{const a=o.find(r=>r.uid===s);await ce(s),n({type:"success",message:`Usuario ${a?.nombre||""} ${a?.activo?"desactivado":"activado"} exitosamente`})}catch(a){n({type:"error",message:a.message||"Error al cambiar el estado del usuario"})}},Ne=s=>{F(s),q({...s.permisos}),y(!0)},ve=async()=>{if(g){X(!0);try{await z(g.uid,{permisos:W}),n({type:"success",message:`Permisos de ${g.nombre} actualizados exitosamente`}),y(!1),F(null)}catch(s){n({type:"error",message:s.message||"Error al actualizar los permisos"})}finally{X(!1)}}};return G()?e.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold flex items-center gap-2",children:[e.jsx(Z,{className:"w-8 h-8"}),"Gestión de Usuarios"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Control de acceso y permisos del sistema"})]}),e.jsxs("button",{onClick:ue,className:"btn-primary flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),"Crear Usuario"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Total"}),e.jsx("div",{className:"text-2xl font-bold",children:h.total})]}),e.jsxs("div",{className:"card p-4 border-l-4 border-accent-green",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Activos"}),e.jsx("div",{className:"text-2xl font-bold text-accent-green",children:h.activos})]}),e.jsxs("div",{className:"card p-4 border-l-4 border-accent-red",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Inactivos"}),e.jsx("div",{className:"text-2xl font-bold text-accent-red",children:h.inactivos})]}),e.jsxs("div",{className:"card p-4 border-l-4 border-purple-500",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Super Admins"}),e.jsx("div",{className:"text-2xl font-bold text-purple-500",children:h.superAdmins})]}),e.jsxs("div",{className:"card p-4 border-l-4 border-blue-500",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Admins"}),e.jsx("div",{className:"text-2xl font-bold text-blue-500",children:h.admins})]}),e.jsxs("div",{className:"card p-4 border-l-4 border-green-500",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Técnicos"}),e.jsx("div",{className:"text-2xl font-bold text-green-500",children:h.tecnicos})]}),e.jsxs("div",{className:"card p-4 border-l-4 border-gray-500",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Viewers"}),e.jsx("div",{className:"text-2xl font-bold text-gray-500",children:h.viewers})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o rol...",value:v,onChange:s=>ne(s.target.value),className:"input pl-10 w-full"})]}),e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-lighter border-b border-dark-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-medium text-gray-400",children:"Usuario"}),e.jsx("th",{className:"text-left p-4 font-medium text-gray-400",children:"Email"}),e.jsx("th",{className:"text-left p-4 font-medium text-gray-400",children:"Rol"}),e.jsx("th",{className:"text-left p-4 font-medium text-gray-400",children:"Estado"}),e.jsx("th",{className:"text-left p-4 font-medium text-gray-400",children:"Último Acceso"}),e.jsx("th",{className:"text-left p-4 font-medium text-gray-400",children:"Creado"}),e.jsx("th",{className:"text-right p-4 font-medium text-gray-400",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-dark-border",children:oe?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-400",children:"Cargando usuarios..."})}):H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-400",children:"No se encontraron usuarios"})}):H.map(s=>{const a=k[s.rol],r=Re[s.activo],p=r.icon;return e.jsxs("tr",{className:"hover:bg-dark-lighter/50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.foto?e.jsx("img",{src:s.foto,alt:s.nombre,className:"w-10 h-10 rounded-full"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-accent-blue/20 flex items-center justify-center",children:e.jsx(Z,{className:"w-6 h-6 text-accent-blue"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.nombre}),s.uid===N?.uid&&e.jsx("span",{className:"text-xs text-accent-blue",children:"(Tú)"})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx(ee,{className:"w-4 h-4"}),s.email]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${U[s.rol]?.badge||"bg-gray-500/15 text-gray-500"}`,children:[s.rol===c.SUPER_ADMIN&&e.jsx(Me,{className:"w-4 h-4"}),s.rol===c.ADMIN&&e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?.label})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${r.bg} ${r.text}`,children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s.activo?"Activo":"Inactivo"})]})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"text-sm text-gray-400",children:s.ultimoAcceso?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),new Date(s.ultimoAcceso).toLocaleDateString("es-PE")]}):"-"})}),e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"text-sm text-gray-400",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),new Date(s.createdAt).toLocaleDateString("es-PE")]})})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>Ne(s),className:"p-2 hover:bg-dark-lighter rounded-lg text-gray-400 hover:text-accent-blue",title:"Permisos",children:e.jsx(Ce,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>je(s.uid),className:`p-2 hover:bg-dark-lighter rounded-lg ${s.activo?"text-gray-400 hover:text-accent-red":"text-gray-400 hover:text-accent-green"}`,title:s.activo?"Desactivar":"Activar",disabled:s.uid===N?.uid,children:s.activo?e.jsx(J,{className:"w-5 h-5"}):e.jsx(se,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>he(s),className:"p-2 hover:bg-dark-lighter rounded-lg text-gray-400 hover:text-accent-blue",title:"Editar",children:e.jsx(Ie,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>T(s.uid),className:"p-2 hover:bg-dark-lighter rounded-lg text-gray-400 hover:text-accent-red",title:"Eliminar",disabled:s.uid===N?.uid,children:e.jsx(Te,{className:"w-5 h-5"})})]})})]},s.uid)})})]})})}),de&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:e.jsxs("div",{className:"card w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-slideUp",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:d?"Editar Usuario":"Crear Usuario"}),e.jsx("button",{onClick:M,className:"p-2 hover:bg-dark-lighter rounded-lg",children:e.jsx(K,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:be,className:"space-y-4",children:[!d&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Autenticación *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${t.authType==="google_oauth"?"border-blue-500 bg-blue-500/10":"border-dark-border hover:border-gray-500"}`,children:[e.jsx("input",{type:"radio",name:"authType",value:"google_oauth",checked:t.authType==="google_oauth",onChange:s=>m(a=>({...a,authType:s.target.value,password:""})),className:"hidden"}),e.jsx(ee,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-blue-500",children:"Google OAuth"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Inicia sesión con Google"})]}),t.authType==="google_oauth"&&e.jsx(L,{className:"w-5 h-5 text-blue-500"})]}),e.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${t.authType==="email_password"?"border-purple-500 bg-purple-500/10":"border-dark-border hover:border-gray-500"}`,children:[e.jsx("input",{type:"radio",name:"authType",value:"email_password",checked:t.authType==="email_password",onChange:s=>m(a=>({...a,authType:s.target.value})),className:"hidden"}),e.jsx(De,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-purple-500",children:"Email y Contraseña"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Usuario y clave"})]}),t.authType==="email_password"&&e.jsx(L,{className:"w-5 h-5 text-purple-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:t.email,onChange:s=>{m(a=>({...a,email:s.target.value})),i.email&&j(a=>({...a,email:""}))},className:`input w-full ${i.email?"border-accent-red focus:border-accent-red":""}`,required:!0,disabled:!!d}),i.email&&e.jsxs("p",{className:"text-xs text-accent-red mt-1 flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),i.email]}),!d&&!i.email&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t.authType==="google_oauth"?"El usuario se autenticará con su cuenta de Google":"Se usará este email para iniciar sesión"})]}),!d&&t.authType==="email_password"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contraseña *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:P?"text":"password",value:t.password,onChange:s=>{m(a=>({...a,password:s.target.value})),i.password&&j(a=>({...a,password:""}))},className:`input w-full pr-10 ${i.password?"border-accent-red focus:border-accent-red":""}`,placeholder:"Mínimo 6 caracteres",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>xe(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300 transition-colors",children:P?e.jsx(J,{className:"w-5 h-5"}):e.jsx(se,{className:"w-5 h-5"})})]}),i.password&&e.jsxs("p",{className:"text-xs text-accent-red mt-1 flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),i.password]}),!i.password&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"El usuario podrá cambiar su contraseña después"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nombre Completo *"}),e.jsx("input",{type:"text",value:t.nombre,onChange:s=>{m(a=>({...a,nombre:s.target.value})),i.nombre&&j(a=>({...a,nombre:""}))},className:`input w-full ${i.nombre?"border-accent-red focus:border-accent-red":""}`,required:!0}),i.nombre&&e.jsxs("p",{className:"text-xs text-accent-red mt-1 flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),i.nombre]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"URL de Foto (Opcional)"}),e.jsx("input",{type:"url",value:t.foto,onChange:s=>m(a=>({...a,foto:s.target.value})),className:"input w-full",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rol *"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.values(c).map(s=>{const a=k[s];return e.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${t.rol===s?U[s]?.border||"border-gray-500 bg-gray-500/10":"border-border hover:border-text-muted"}`,children:[e.jsx("input",{type:"radio",name:"rol",value:s,checked:t.rol===s,onChange:r=>pe(r.target.value),className:"hidden"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${U[s]?.text||"text-gray-500"}`,children:a.label}),e.jsx("div",{className:"text-sm text-text-muted",children:a.desc})]}),t.rol===s&&e.jsx(L,{className:`w-5 h-5 ${U[s]?.text||"text-gray-500"}`})]},s)})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:M,className:"btn-secondary flex-1",disabled:w,children:"Cancelar"}),e.jsxs("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center gap-2",disabled:w,children:[w&&e.jsx(D,{className:"w-5 h-5 animate-spin"}),w?d?"Guardando...":"Creando...":d?"Guardar Cambios":"Crear Usuario"]})]})]})]})}),me&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:e.jsxs("div",{className:"card w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-slideUp",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Permisos de ",g.nombre]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Rol: ",k[g.rol]?.label]})]}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-dark-lighter rounded-lg",children:e.jsx(K,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"space-y-4",children:Object.keys(Y).map(s=>{const a=Y[s],r=Se[a],p=W[a]||f.NONE;return e.jsxs("div",{className:"card bg-dark-lighter p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium",children:r}),e.jsx("div",{className:O[p].color,children:O[p].label})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.values(f).map(b=>e.jsx("button",{onClick:()=>q(_=>({..._,[a]:b})),className:`p-2 rounded-lg text-sm transition-all ${p===b?"bg-accent-blue text-white":"bg-dark hover:bg-dark-lighter text-gray-400"}`,children:O[b].label},b))})]},a)})}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("button",{onClick:()=>y(!1),className:"btn-secondary flex-1",disabled:S,children:"Cancelar"}),e.jsxs("button",{onClick:ve,className:"btn-primary flex-1 flex items-center justify-center gap-2",disabled:S,children:[S&&e.jsx(D,{className:"w-5 h-5 animate-spin"}),S?"Guardando...":"Guardar Permisos"]})]})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:e.jsxs("div",{className:"card w-full max-w-md animate-slideUp",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"¿Eliminar Usuario?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Esta acción no se puede deshacer. El usuario perderá acceso inmediatamente."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>T(null),className:"btn-secondary flex-1",disabled:C,children:"Cancelar"}),e.jsxs("button",{onClick:()=>fe(V),className:"btn-danger flex-1 flex items-center justify-center gap-2",disabled:C,children:[C&&e.jsx(D,{className:"w-5 h-5 animate-spin"}),C?"Eliminando...":"Eliminar"]})]})]})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Q,{className:"w-16 h-16 mx-auto mb-4 text-accent-red"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Acceso Denegado"}),e.jsx("p",{className:"text-gray-400",children:"No tienes permisos para gestionar usuarios."})]})}export{Je as default};
