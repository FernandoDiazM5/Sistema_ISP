import{r as u,k as S,j as r}from"./index-Bp4pvzRI.js";import{S as $}from"./search-Bb9dCE3k.js";import{L as E}from"./loader-circle-Du-ig97J.js";function A(d=[],o={}){const{searchFields:t=[],initialFilters:s={},pageSize:m=20}=o,[n,x]=u.useState(""),[c,g]=u.useState(""),[l,b]=u.useState(s),[y,p]=u.useState({pageIndex:0,pageSize:m});u.useEffect(()=>{const e=setTimeout(()=>{g(n),p(i=>({...i,pageIndex:0}))},300);return()=>clearTimeout(e)},[n]),u.useEffect(()=>{p(e=>({...e,pageIndex:0}))},[l]);const f=u.useMemo(()=>{let e=d;if(c&&t.length>0){const i=c.toLowerCase();e=e.filter(a=>t.some(h=>{const I=a[h];return String(I||"").toLowerCase().includes(i)}))}return Object.keys(l).forEach(i=>{const a=l[i];a&&a!=="all"&&(e=e.filter(h=>typeof a=="function"?a(h):String(h[i])===String(a)))}),e},[d,c,l,t]),w=()=>{x(""),g(""),b(s),p(e=>({...e,pageIndex:0}))},N=(e,i)=>{b(a=>({...a,[e]:i}))};return{filteredData:f,totalItems:d.length,filteredCount:f.length,searchInput:n,setSearchInput:x,hasActiveSearch:!!n,filters:l,updateFilter:N,setFilters:b,resetFilters:w,pagination:y,setPagination:p}}const F=S.memo(function({label:o,error:t,icon:s,className:m="",containerClassName:n="",type:x="text",...c}){return r.jsxs("div",{className:`flex flex-col gap-1.5 ${n}`,children:[o&&r.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wide",children:o}),r.jsxs("div",{className:"relative group",children:[s&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted group-focus-within:text-accent-blue transition-colors",children:r.jsx(s,{size:16})}),r.jsx("input",{type:x,className:`
            w-full rounded-xl bg-bg-secondary border border-border 
            text-sm text-text-primary placeholder:text-text-muted 
            outline-none transition-all duration-200
            focus:border-accent-blue focus:bg-bg-card
            disabled:opacity-50 disabled:cursor-not-allowed
            ${s?"pl-9":"pl-3"} 
            ${t?"border-red-500 focus:border-red-500":""}
            ${m}
            py-2.5
          `,...c})]}),t&&r.jsx("span",{className:"text-xs text-red-500",children:t})]})});S.memo(function({className:o="",...t}){return r.jsx(F,{icon:$,placeholder:"Buscar...",className:`rounded-full ${o}`,...t})});const j={primary:"bg-accent-blue text-white hover:opacity-90 border-transparent",secondary:"bg-bg-secondary text-text-primary border-border hover:bg-bg-card-hover",ghost:"bg-transparent text-text-muted hover:text-text-primary hover:bg-bg-secondary border-transparent",danger:"bg-red-500/10 text-red-500 border-transparent hover:bg-red-500/20",outline:"bg-transparent border-border text-text-secondary hover:border-text-muted",success:"bg-green-500/10 text-green-500 border-transparent hover:bg-green-500/20"},v={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"},L=S.memo(function({children:o,variant:t="primary",size:s="md",className:m="",isLoading:n=!1,disabled:x=!1,icon:c,type:g="button",onClick:l,...b}){const y="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 outline-none focus:ring-2 focus:ring-offset-1 focus:ring-accent-blue/50 disabled:opacity-50 disabled:cursor-not-allowed border",p=j[t]||j.primary,f=v[s]||v.md;return r.jsxs("button",{type:g,className:`${y} ${p} ${f} ${m}`,disabled:x||n,onClick:l,...b,children:[n?r.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}):c?r.jsx(c,{className:`mr-2 h-4 w-4 ${s==="sm"?"h-3 w-3":""}`}):null,o]})});export{L as B,F as I,A as u};
