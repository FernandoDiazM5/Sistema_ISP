import{c as V,a as N,r as n,j as e,g as $,U as C,T as A,X as O,o as _}from"./index-DkxSTD-9.js";import{a as Z,A as y}from"./Adjuntos-C2tfHk97.js";import{R as U}from"./ResolutionModal-GOTOIquJ.js";import{C as R,a as k}from"./CopyButton-B935DYgE.js";import{P as W}from"./plus-DXfKPIRb.js";import{Z as B}from"./zap-CE27zL5H.js";import{C as G}from"./circle-check-DJZXFKLl.js";import{S as K}from"./search-CuF6bJU4.js";import{M as X}from"./map-pin-5RE5zs1W.js";import{K as Y,A as z}from"./kanban-WHDVxjOB.js";import{P as H}from"./pencil-B7_abmLC.js";import"./upload-Wj2hy97V.js";import"./eye-DvE9GMPz.js";import"./download-360FgciG.js";import"./chevron-right-Cw9tRM1F.js";import"./check-P-5L82lY.js";const J=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Q=V("shield-alert",J),m={Activa:{bg:"bg-accent-red/20",text:"text-accent-red",dot:"bg-accent-red"},"En reparación":{bg:"bg-accent-yellow/20",text:"text-accent-yellow",dot:"bg-accent-yellow"},Coordinando:{bg:"bg-accent-blue/20",text:"text-accent-blue",dot:"bg-accent-blue"},Resuelta:{bg:"bg-accent-green/20",text:"text-accent-green",dot:"bg-accent-green"}};function ge(){const d=N(t=>t.averias),S=N(t=>t.addAveria),h=N(t=>t.updateAveria),[E,i]=n.useState(!1),[o,x]=n.useState(null),[s,c]=n.useState(null),[u,P]=n.useState("all"),[p,T]=n.useState(""),[w,b]=n.useState([]),[F,f]=n.useState(!1),[j,v]=n.useState(null);n.useEffect(()=>{if(s){const t=d.find(r=>r.id===s.id);t&&t!==s&&c(t)}},[d,s]);const M=n.useMemo(()=>{let t=u==="all"?d:d.filter(r=>r.estado===u);if(p){const r=p.toLowerCase();t=t.filter(a=>(a.tipo||"").toLowerCase().includes(r)||(a.zona||"").toLowerCase().includes(r)||(a.nodo||"").toLowerCase().includes(r)||(a.descripcion||"").toLowerCase().includes(r)||(a.tecnicoAsignado||"").toLowerCase().includes(r)||(a.id||"").toLowerCase().includes(r))}return t},[d,u,p]),g=n.useMemo(()=>({activas:d.filter(t=>t.estado==="Activa").length,enReparacion:d.filter(t=>t.estado==="En reparación").length,resueltas:d.filter(t=>t.estado==="Resuelta").length,totalAfectados:d.filter(t=>t.estado!=="Resuelta").reduce((t,r)=>t+(r.clientesAfectados||0),0)}),[d]),I=()=>{x(null),b([]),i(!0)},L=t=>{x(t),b(t.adjuntos||[]),c(null),i(!0)},q=t=>{t.preventDefault();const r=new FormData(t.target),a={tipo:r.get("tipo"),zona:r.get("zona"),nodo:r.get("nodo"),clientesAfectados:parseInt(r.get("afectados"))||0,prioridad:r.get("prioridad"),reportadoPor:r.get("reportado"),tecnicoAsignado:r.get("tecnico"),descripcion:r.get("descripcion"),adjuntos:w};o?h(o.id,{...a,_historyComment:"Avería editada manualmente"}):S({...a,estado:"Activa"}),i(!1),x(null),b([])},l=(t,r)=>{r==="Resuelta"?(v(t),f(!0)):h(t,{estado:r,_historyComment:"Cambio de estado manual desde detalle"})},D=({solucion:t,accionesRealizadas:r,adjuntosResolucion:a})=>{j&&(h(j,{estado:"Resuelta",fechaResolucion:new Date().toISOString().split("T")[0],solucion:t,accionesRealizadas:r,adjuntosResolucion:a,_historyComment:"Avería resuelta con informe de solución"}),f(!1),v(null))};return e.jsxs("div",{className:"animate-fade p-4 sm:p-6 sm:px-8 h-full overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-[26px] font-bold tracking-tight",children:"Averias e Incidencias"}),e.jsx("p",{className:"text-text-secondary text-sm mt-1",children:"Gestión de fallas de red e infraestructura"})]}),e.jsxs("button",{onClick:I,className:"py-2.5 px-4 rounded-xl bg-accent-red border-none text-white text-sm font-semibold cursor-pointer flex items-center justify-center gap-2 hover:opacity-90 transition-opacity w-full sm:w-auto",children:[e.jsx(W,{size:16})," Reportar Avería"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-bg-card rounded-xl p-4 border border-border flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center bg-accent-red/15 text-accent-red",children:e.jsx(B,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold font-mono",children:g.activas}),e.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Activas"})]})]}),e.jsxs("div",{className:"bg-bg-card rounded-xl p-4 border border-border flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center bg-accent-yellow/15 text-accent-yellow",children:e.jsx($,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold font-mono",children:g.enReparacion}),e.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"En reparación"})]})]}),e.jsxs("div",{className:"bg-bg-card rounded-xl p-4 border border-border flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center bg-accent-green/15 text-accent-green",children:e.jsx(G,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold font-mono",children:g.resueltas}),e.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Resueltas"})]})]}),e.jsxs("div",{className:"bg-bg-card rounded-xl p-4 border border-border flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center bg-accent-purple/15 text-accent-purple",children:e.jsx(C,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold font-mono",children:g.totalAfectados}),e.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Afectados"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-5",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(K,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"}),e.jsx("input",{type:"text",value:p,onChange:t=>T(t.target.value),placeholder:"Buscar por tipo, zona, nodo, técnico...",className:"w-full py-2 pl-9 pr-3 bg-bg-secondary border border-border text-text-primary rounded-lg text-xs outline-none focus:border-accent-blue placeholder:text-text-muted"})]}),e.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:["all","Activa","En reparación","Coordinando","Resuelta"].map(t=>e.jsx("button",{onClick:()=>P(t),className:`py-1.5 px-3 sm:px-4 rounded-lg text-[11px] sm:text-xs font-semibold border cursor-pointer transition-colors
                ${u===t?"bg-accent-blue/20 border-accent-blue text-accent-blue":"bg-bg-secondary border-border text-text-secondary hover:border-accent-blue/50"}`,children:t==="all"?"Todas":t},t))})]}),e.jsx("div",{className:"flex flex-col gap-3",children:M.map(t=>{const r=m[t.estado]||m.Activa;return e.jsxs("div",{onClick:()=>c(t),className:"bg-bg-card rounded-xl p-5 border border-border transition-all hover:border-accent-red/30 cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-accent-red/15 text-accent-red group-hover:bg-accent-red/25 transition-colors",children:e.jsx(A,{size:16})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-xs text-text-muted",children:t.id}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-bold ${r.bg} ${r.text}`,children:t.estado}),e.jsx("span",{className:`text-[11px] font-bold ${t.prioridad==="Crítica"?"text-accent-red":"text-accent-yellow"}`,children:t.prioridad})]}),e.jsx("p",{className:"text-sm font-semibold mt-0.5",children:t.tipo})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{getTextFn:()=>k(t,null)}),e.jsx("span",{className:"text-[11px] text-text-muted",children:t.fecha})]})]}),e.jsx("p",{className:"text-xs text-text-secondary mb-3",children:t.descripcion}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-[11px] text-text-muted",children:[e.jsxs("span",{children:["Zona: ",e.jsx("span",{className:"text-text-secondary font-medium",children:t.zona})]}),e.jsxs("span",{children:["Nodo: ",e.jsx("span",{className:"text-text-secondary font-medium font-mono",children:t.nodo})]}),e.jsxs("span",{children:["Afectados: ",e.jsx("span",{className:"text-accent-red font-bold",children:t.clientesAfectados})]}),e.jsxs("span",{children:["Técnico: ",e.jsx("span",{className:"text-text-secondary",children:t.tecnicoAsignado})]}),e.jsx(Z,{count:t.adjuntos?.length})]})]},t.id)})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{i(!1),x(null)},children:e.jsxs("div",{className:"bg-bg-card rounded-2xl p-6 w-full max-w-[500px] border border-border max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:o?"Editar Avería":"Reportar Avería"}),e.jsxs("form",{onSubmit:q,className:"flex flex-col gap-3",children:[e.jsxs("select",{name:"tipo",defaultValue:o?.tipo||"Corte de fibra",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue",children:[e.jsx("option",{value:"Corte de fibra",children:"Corte de fibra"}),e.jsx("option",{value:"Caída de nodo",children:"Caída de nodo"}),e.jsx("option",{value:"Interferencia",children:"Interferencia"}),e.jsx("option",{value:"Falla eléctrica",children:"Falla eléctrica"}),e.jsx("option",{value:"Daño de equipo",children:"Daño de equipo"}),e.jsx("option",{value:"Otra",children:"Otra"})]}),e.jsx("input",{name:"zona",defaultValue:o?.zona||"",placeholder:"Zona afectada (ej: PLANICIE 1)",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue"}),e.jsx("input",{name:"nodo",defaultValue:o?.nodo||"",placeholder:"Nodo/Torre afectado (ej: PLA1/ND2)",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue"}),e.jsx("input",{name:"afectados",defaultValue:o?.clientesAfectados||"",type:"number",placeholder:"Clientes afectados (estimado)",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue"}),e.jsxs("select",{name:"prioridad",defaultValue:o?.prioridad||"Crítica",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue",children:[e.jsx("option",{value:"Crítica",children:"Crítica"}),e.jsx("option",{value:"Alta",children:"Alta"}),e.jsx("option",{value:"Media",children:"Media"})]}),e.jsx("input",{name:"reportado",defaultValue:o?.reportadoPor||"",placeholder:"Reportado por",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue"}),e.jsx("input",{name:"tecnico",defaultValue:o?.tecnicoAsignado||"",placeholder:"Técnico asignado",required:!0,className:"w-full bg-bg-secondary border border-border text-text-primary rounded-lg p-2.5 text-sm outline-none focus:border-accent-blue"}),e.jsx("textarea",{name:"descripcion",defaultValue:o?.descripcion||"",placeholder:"Descripción de la avería...",className:"bg-bg-secondary border border-border text-text-primary p-3 rounded-lg text-sm min-h-[80px] resize-y outline-none focus:border-accent-blue w-full",required:!0}),e.jsx(y,{value:w,onChange:b,max:5}),e.jsxs("div",{className:"flex gap-3 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>{i(!1),x(null)},className:"flex-1 py-2.5 rounded-lg bg-bg-secondary border border-border text-text-secondary cursor-pointer text-sm hover:text-text-primary transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 py-2.5 rounded-lg bg-accent-red border-none text-white cursor-pointer text-sm font-semibold hover:opacity-90 transition-opacity",children:o?"Guardar Cambios":"Reportar"})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 backdrop-blur-sm p-4",onClick:()=>c(null),children:e.jsxs("div",{className:"bg-bg-card rounded-2xl p-4 sm:p-6 w-full max-w-[600px] border border-border max-h-[85vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm text-text-muted",children:s.id}),e.jsxs("h3",{className:"text-lg font-bold mt-1 text-accent-red flex items-center gap-2",children:[e.jsx(A,{size:20})," ",s.tipo]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${m[s.estado]?.bg||""} ${m[s.estado]?.text||""}`,children:s.estado}),e.jsx(R,{getTextFn:()=>k(s,null)}),e.jsx("button",{onClick:()=>c(null),className:"p-1.5 rounded-lg bg-bg-secondary border border-border text-text-muted cursor-pointer hover:text-text-primary transition-colors",children:e.jsx(O,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-5",children:[e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsxs("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1 flex items-center gap-1",children:[e.jsx(X,{size:10})," Zona / Nodo"]}),e.jsxs("p",{className:"text-sm font-medium",children:[s.zona," ",e.jsx("span",{className:"text-text-muted mx-1",children:"•"})," ",s.nodo]})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsxs("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1 flex items-center gap-1",children:[e.jsx(C,{size:10})," Clientes Afectados"]}),e.jsx("p",{className:"text-sm font-bold text-accent-red",children:s.clientesAfectados||0})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsxs("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1 flex items-center gap-1",children:[e.jsx(Q,{size:10})," Prioridad"]}),e.jsx("p",{className:`text-sm font-bold ${s.prioridad==="Crítica"?"text-accent-red":"text-accent-yellow"}`,children:s.prioridad})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsxs("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1 flex items-center gap-1",children:[e.jsx(_,{size:10})," Fecha Reporte"]}),e.jsx("p",{className:"text-sm font-medium",children:s.fecha})]}),s.tecnicoAsignado&&e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Técnico Asignado"}),e.jsx("p",{className:"text-sm font-medium",children:s.tecnicoAsignado})]}),s.reportadoPor&&e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Reportado Por"}),e.jsx("p",{className:"text-sm font-medium",children:s.reportadoPor})]}),s.fechaResolucion&&e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Fecha Resolución"}),e.jsx("p",{className:"text-sm font-medium text-accent-green",children:s.fechaResolucion})]})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("p",{className:"text-xs text-text-muted font-bold mb-2 uppercase tracking-wide",children:"Descripción del Problema"}),e.jsx("div",{className:"bg-bg-secondary rounded-lg p-3 border border-border/50 text-sm text-text-primary leading-relaxed",children:s.descripcion}),s.adjuntos&&s.adjuntos.length>0&&e.jsx("div",{className:"mt-3",children:e.jsx(y,{value:s.adjuntos,onChange:()=>{},readOnly:!0,max:5})})]}),s.solucion&&e.jsxs("div",{className:"mb-5 bg-accent-green/5 border border-accent-green/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-accent-green font-bold mb-2 uppercase tracking-wide",children:"Informe de Resolución"}),e.jsx("div",{className:"text-sm text-text-primary leading-relaxed mb-2",children:s.solucion}),s.accionesRealizadas&&s.accionesRealizadas.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Acciones Realizadas"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.accionesRealizadas.map((t,r)=>e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-accent-green/10 text-accent-green text-[10px] font-medium",children:t},r))})]}),s.adjuntosResolucion&&s.adjuntosResolucion.length>0&&e.jsx("div",{className:"mt-3",children:e.jsx(y,{value:s.adjuntosResolucion,onChange:()=>{},readOnly:!0,max:5})})]}),s.historial&&s.historial.length>0&&e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3 mb-5 border border-border/50",children:[e.jsxs("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-3 font-semibold flex items-center gap-1",children:[e.jsx(Y,{size:12})," Ruta de Atención"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[[...s.historial].reverse().map((t,r,a)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"group relative flex items-center gap-2 bg-bg-card border border-border/60 rounded-full px-3 py-1.5 cursor-help transition-colors hover:border-accent-blue/50 hover:bg-bg-secondary",title:t.motivo||"Sin motivo registrado",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${m[t.estadoNuevo]?.dot||"bg-gray-400"}`}),e.jsx("span",{className:"text-xs font-medium text-text-primary",children:t.estadoNuevo})]}),e.jsx("span",{className:"text-border mx-1",children:"|"}),e.jsx("span",{className:"text-[10px] text-text-muted font-mono leading-none",children:new Date(t.fecha).toLocaleString("es-PE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}),t.motivo&&e.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max max-w-[200px] hidden group-hover:block z-50",children:e.jsxs("div",{className:"bg-gray-900 text-white text-[10px] p-2 rounded shadow-xl border border-white/10 relative",children:[t.motivo,e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-[1px] border-4 border-transparent border-t-gray-900"})]})})]}),r<a.length-1&&e.jsx("div",{className:"mx-1 text-text-muted/40",children:e.jsx(z,{size:14,strokeWidth:1.5})})]},r)),e.jsx("div",{className:"mx-1 text-text-muted/40",children:e.jsx(z,{size:14,strokeWidth:1.5})}),e.jsx("div",{className:"px-2 py-1 rounded bg-accent-blue/10 border border-accent-blue/30 text-[10px] font-bold text-accent-blue uppercase tracking-wider",children:"Actual"})]})]}),e.jsxs("div",{className:"border-t border-border mt-5 pt-4",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide font-semibold mb-2",children:"Acciones"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.estado==="Activa"&&e.jsx("button",{onClick:()=>l(s.id,"En reparación"),className:"flex-1 py-2.5 rounded-lg bg-accent-yellow/20 text-accent-yellow border-none text-xs font-bold cursor-pointer hover:bg-accent-yellow/30 transition-colors",children:"Iniciar Reparación"}),s.estado==="En reparación"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(s.id,"Resuelta"),className:"flex-1 py-2.5 rounded-lg bg-accent-green/20 text-accent-green border-none text-xs font-bold cursor-pointer hover:bg-accent-green/30 transition-colors",children:"Marcar Resuelta"}),e.jsx("button",{onClick:()=>l(s.id,"Coordinando"),className:"flex-1 py-2.5 rounded-lg bg-accent-blue/20 text-accent-blue border-none text-xs font-bold cursor-pointer hover:bg-accent-blue/30 transition-colors",children:"Coordinando / Reprogramar"})]}),s.estado==="Coordinando"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(s.id,"En reparación"),className:"flex-1 py-2.5 rounded-lg bg-accent-yellow/20 text-accent-yellow border-none text-xs font-bold cursor-pointer hover:bg-accent-yellow/30 transition-colors",children:"Retomar Reparación"}),e.jsx("button",{onClick:()=>l(s.id,"Resuelta"),className:"flex-1 py-2.5 rounded-lg bg-accent-green/20 text-accent-green border-none text-xs font-bold cursor-pointer hover:bg-accent-green/30 transition-colors",children:"Marcar Resuelta"})]}),s.estado==="Resuelta"&&e.jsx("button",{onClick:()=>l(s.id,"Activa"),className:"flex-1 py-2.5 rounded-lg bg-accent-red/20 text-accent-red border-none text-xs font-bold cursor-pointer hover:bg-accent-red/30 transition-colors",children:"Reabrir Avería"}),s.estado!=="Resuelta"&&e.jsxs("button",{onClick:()=>L(s),className:"py-2.5 px-4 rounded-lg bg-accent-blue/20 text-accent-blue border-none text-xs font-bold cursor-pointer hover:bg-accent-blue/30 transition-colors flex items-center gap-1",children:[e.jsx(H,{size:12})," Editar"]}),e.jsx("button",{onClick:()=>c(null),className:"py-2.5 px-4 rounded-lg bg-bg-secondary border border-border text-text-secondary font-medium text-xs cursor-pointer hover:bg-bg-card-hover transition-colors",children:"Cerrar"})]})]})]})}),e.jsx(U,{open:F,onClose:()=>{f(!1),v(null)},onConfirm:D,title:"Resolver Avería",entityId:j,entityLabel:"Avería",newStatus:"Resuelta",accentColor:"accent-green"})]})}export{ge as default};
