const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-BiUfoeq2.js","assets/authAPI-DiofvNqM.js","assets/mail-DOap4LbJ.js","assets/eye-D7BEYtG0.js","assets/DashboardPage-CVLNsoVa.js","assets/KPICard-CSFGROyj.js","assets/circle-alert-DS_sviAW.js","assets/ClientesPage-C0WgG2FI.js","assets/Input-BKZ3FY7d.js","assets/search-Bst3wRDz.js","assets/arrow-up-down-CryYaAf7.js","assets/Adjuntos-DbgbGwAD.js","assets/upload-CEaKoOJe.js","assets/download-Cw6w29OZ.js","assets/chevron-right-BXu6dud9.js","assets/StatusBadge-Ba8VfPfe.js","assets/TicketCreateModal-Bs5GcZ-i.js","assets/map-pin-4WZjVaub.js","assets/Button-968YsXiv.js","assets/funnel-COOLWXbQ.js","assets/user-CDUevgP0.js","assets/ClienteDetalle-CBeIsEbq.js","assets/monitor-Bmvj6gVX.js","assets/clock-DuAs5F5M.js","assets/chevron-down-CdQiv8RK.js","assets/circle-check-DQSjTMQg.js","assets/gauge-yfzFrz9d.js","assets/radio-CxOXLECc.js","assets/zap-RU6zsrS6.js","assets/ImportacionPage-BGm_W9Or.js","assets/xlsx-CNerDvZX.js","assets/refresh-cw-Cee_SEPV.js","assets/history-DRsMs-kA.js","assets/pen-line-T0-vujmF.js","assets/trash-2-DeduKs7_.js","assets/plus-s4tdDMXz.js","assets/TicketsPage-DpMRH3wI.js","assets/ResolutionModal-C6kAN5h8.js","assets/CopyButton-BhO7EqnT.js","assets/Badge-CCQO8_pu.js","assets/Card-VciT5D7g.js","assets/kanban-D1UHcVit.js","assets/DiagnosticFields-C4m0r4X2.js","assets/activity-A4BkrXsq.js","assets/TicketsPage-D1-0B2xV.css","assets/AveriasPage-D-o5MXOQ.js","assets/pencil-C8GUL7hX.js","assets/SoporteRemotoPage-Bghm9yuF.js","assets/ReportesPage-piAPgOQl.js","assets/dollar-sign-ryxdqI5F.js","assets/EquiposPage-BHpmaZsW.js","assets/save-CqviR-Ir.js","assets/ConfiguracionPage-BqsaNPx6.js","assets/shield-mZpxv49W.js","assets/sparkles-Bbx8PC46.js","assets/WhatsAppPage-DSeaRmaz.js","assets/phone-B8AjfHjR.js","assets/TecnicosPage-6nXbCEG0.js","assets/VisitasTecnicasPage-4vTwzIeO.js","assets/arrow-right-BLsbWdpU.js","assets/InstalacionesPage-mN61ge8l.js","assets/PlantaExternaPage-C167db5B.js","assets/PostVentaPage-GwtMy0xX.js","assets/RequerimientosPage-CbdiEXQX.js","assets/UsuariosPage-BsGjQ5Pc.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function CR(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ap={exports:{}},lu={};var ME;function DR(){if(ME)return lu;ME=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:a,type:r,key:c,ref:o!==void 0?o:null,props:l}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var PE;function xR(){return PE||(PE=1,ap.exports=DR()),ap.exports}var X=xR(),sp={exports:{}},wt={};var LE;function VR(){if(LE)return wt;LE=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,j={};function nt(O,tt,ct){this.props=O,this.context=tt,this.refs=j,this.updater=ct||H}nt.prototype.isReactComponent={},nt.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},nt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function et(){}et.prototype=nt.prototype;function it(O,tt,ct){this.props=O,this.context=tt,this.refs=j,this.updater=ct||H}var gt=it.prototype=new et;gt.constructor=it,K(gt,nt.prototype),gt.isPureReactComponent=!0;var dt=Array.isArray;function vt(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(O,tt,ct){var ft=ct.ref;return{$$typeof:a,type:O,key:tt,ref:ft!==void 0?ft:null,props:ct}}function M(O,tt){return w(O.type,tt,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function L(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return tt[ct]})}var C=/\/+/g;function ue(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):tt.toString(36)}function qe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(vt,vt):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,tt,ct,ft,bt){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(xt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case a:case t:kt=!0;break;case v:return kt=O._init,Z(kt(O._payload),tt,ct,ft,bt)}}if(kt)return bt=bt(O),kt=ft===""?"."+ue(O,0):ft,dt(bt)?(ct="",kt!=null&&(ct=kt.replace(C,"$&/")+"/"),Z(bt,tt,ct,"",function(ba){return ba})):bt!=null&&(N(bt)&&(bt=M(bt,ct+(bt.key==null||O&&O.key===bt.key?"":(""+bt.key).replace(C,"$&/")+"/")+kt)),tt.push(bt)),1;kt=0;var je=ft===""?".":ft+":";if(dt(O))for(var ce=0;ce<O.length;ce++)ft=O[ce],xt=je+ue(ft,ce),kt+=Z(ft,tt,ct,xt,bt);else if(ce=x(O),typeof ce=="function")for(O=ce.call(O),ce=0;!(ft=O.next()).done;)ft=ft.value,xt=je+ue(ft,ce++),kt+=Z(ft,tt,ct,xt,bt);else if(xt==="object"){if(typeof O.then=="function")return Z(qe(O),tt,ct,ft,bt);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return kt}function ut(O,tt,ct){if(O==null)return O;var ft=[],bt=0;return Z(O,ft,"","",function(xt){return tt.call(ct,xt,bt++)}),ft}function St(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var jt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Yt={map:ut,forEach:function(O,tt,ct){ut(O,function(){tt.apply(this,arguments)},ct)},count:function(O){var tt=0;return ut(O,function(){tt++}),tt},toArray:function(O){return ut(O,function(tt){return tt})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=T,wt.Children=Yt,wt.Component=nt,wt.Fragment=e,wt.Profiler=o,wt.PureComponent=it,wt.StrictMode=r,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,tt,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ft=K({},O.props),bt=O.key;if(tt!=null)for(xt in tt.key!==void 0&&(bt=""+tt.key),tt)!R.call(tt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&tt.ref===void 0||(ft[xt]=tt[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ct;else if(1<xt){for(var kt=Array(xt),je=0;je<xt;je++)kt[je]=arguments[je+2];ft.children=kt}return w(O.type,bt,ft)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},wt.createElement=function(O,tt,ct){var ft,bt={},xt=null;if(tt!=null)for(ft in tt.key!==void 0&&(xt=""+tt.key),tt)R.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(bt[ft]=tt[ft]);var kt=arguments.length-2;if(kt===1)bt.children=ct;else if(1<kt){for(var je=Array(kt),ce=0;ce<kt;ce++)je[ce]=arguments[ce+2];bt.children=je}if(O&&O.defaultProps)for(ft in kt=O.defaultProps,kt)bt[ft]===void 0&&(bt[ft]=kt[ft]);return w(O,xt,bt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:d,render:O}},wt.isValidElement=N,wt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:St}},wt.memo=function(O,tt){return{$$typeof:g,type:O,compare:tt===void 0?null:tt}},wt.startTransition=function(O){var tt=I.T,ct={};I.T=ct;try{var ft=O(),bt=I.S;bt!==null&&bt(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(vt,jt)}catch(xt){jt(xt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),I.T=tt}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(O){return I.H.use(O)},wt.useActionState=function(O,tt,ct){return I.H.useActionState(O,tt,ct)},wt.useCallback=function(O,tt){return I.H.useCallback(O,tt)},wt.useContext=function(O){return I.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,tt){return I.H.useDeferredValue(O,tt)},wt.useEffect=function(O,tt){return I.H.useEffect(O,tt)},wt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(O,tt,ct){return I.H.useImperativeHandle(O,tt,ct)},wt.useInsertionEffect=function(O,tt){return I.H.useInsertionEffect(O,tt)},wt.useLayoutEffect=function(O,tt){return I.H.useLayoutEffect(O,tt)},wt.useMemo=function(O,tt){return I.H.useMemo(O,tt)},wt.useOptimistic=function(O,tt){return I.H.useOptimistic(O,tt)},wt.useReducer=function(O,tt,ct){return I.H.useReducer(O,tt,ct)},wt.useRef=function(O){return I.H.useRef(O)},wt.useState=function(O){return I.H.useState(O)},wt.useSyncExternalStore=function(O,tt,ct){return I.H.useSyncExternalStore(O,tt,ct)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.4",wt}var UE;function pg(){return UE||(UE=1,sp.exports=VR()),sp.exports}var q=pg();const kh=CR(q);var op={exports:{}},uu={},lp={exports:{}},up={};var zE;function NR(){return zE||(zE=1,(function(a){function t(Z,ut){var St=Z.length;Z.push(ut);t:for(;0<St;){var jt=St-1>>>1,Yt=Z[jt];if(0<o(Yt,ut))Z[jt]=ut,Z[St]=Yt,St=jt;else break t}}function e(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ut=Z[0],St=Z.pop();if(St!==ut){Z[0]=St;t:for(var jt=0,Yt=Z.length,O=Yt>>>1;jt<O;){var tt=2*(jt+1)-1,ct=Z[tt],ft=tt+1,bt=Z[ft];if(0>o(ct,St))ft<Yt&&0>o(bt,ct)?(Z[jt]=bt,Z[ft]=St,jt=ft):(Z[jt]=ct,Z[tt]=St,jt=tt);else if(ft<Yt&&0>o(bt,St))Z[jt]=bt,Z[ft]=St,jt=ft;else break t}}return ut}function o(Z,ut){var St=Z.sortIndex-ut.sortIndex;return St!==0?St:Z.id-ut.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,A=3,x=!1,H=!1,K=!1,j=!1,nt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function gt(Z){for(var ut=e(g);ut!==null;){if(ut.callback===null)r(g);else if(ut.startTime<=Z)r(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=e(g)}}function dt(Z){if(K=!1,gt(Z),!H)if(e(p)!==null)H=!0,vt||(vt=!0,L());else{var ut=e(g);ut!==null&&qe(dt,ut.startTime-Z)}}var vt=!1,I=-1,R=5,w=-1;function M(){return j?!0:!(a.unstable_now()-w<R)}function N(){if(j=!1,vt){var Z=a.unstable_now();w=Z;var ut=!0;try{t:{H=!1,K&&(K=!1,et(I),I=-1),x=!0;var St=A;try{e:{for(gt(Z),T=e(p);T!==null&&!(T.expirationTime>Z&&M());){var jt=T.callback;if(typeof jt=="function"){T.callback=null,A=T.priorityLevel;var Yt=jt(T.expirationTime<=Z);if(Z=a.unstable_now(),typeof Yt=="function"){T.callback=Yt,gt(Z),ut=!0;break e}T===e(p)&&r(p),gt(Z)}else r(p);T=e(p)}if(T!==null)ut=!0;else{var O=e(g);O!==null&&qe(dt,O.startTime-Z),ut=!1}}break t}finally{T=null,A=St,x=!1}ut=void 0}}finally{ut?L():vt=!1}}}var L;if(typeof it=="function")L=function(){it(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ue=C.port2;C.port1.onmessage=N,L=function(){ue.postMessage(null)}}else L=function(){nt(N,0)};function qe(Z,ut){I=nt(function(){Z(a.unstable_now())},ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(Z){switch(A){case 1:case 2:case 3:var ut=3;break;default:ut=A}var St=A;A=ut;try{return Z()}finally{A=St}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(Z,ut){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var St=A;A=Z;try{return ut()}finally{A=St}},a.unstable_scheduleCallback=function(Z,ut,St){var jt=a.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?jt+St:jt):St=jt,Z){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=St+Yt,Z={id:v++,callback:ut,priorityLevel:Z,startTime:St,expirationTime:Yt,sortIndex:-1},St>jt?(Z.sortIndex=St,t(g,Z),e(p)===null&&Z===e(g)&&(K?(et(I),I=-1):K=!0,qe(dt,St-jt))):(Z.sortIndex=Yt,t(p,Z),H||x||(H=!0,vt||(vt=!0,L()))),Z},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(Z){var ut=A;return function(){var St=A;A=ut;try{return Z.apply(this,arguments)}finally{A=St}}}})(up)),up}var kE;function OR(){return kE||(kE=1,lp.exports=NR()),lp.exports}var cp={exports:{}},on={};var BE;function MR(){if(BE)return on;BE=1;var a=pg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,v)},on.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:x}):v==="script"&&r.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},on.requestFormReset=function(p){r.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.4",on}var qE;function PR(){if(qE)return cp.exports;qE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),cp.exports=MR(),cp.exports}var jE;function LR(){if(jE)return uu;jE=1;var a=OR(),t=pg(),e=PR();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(r(188))}function g(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(r(188));return i!==n?null:n}for(var s=n,u=i;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return p(f),n;if(m===u)return p(f),i;m=m.sibling}throw Error(r(188))}if(s.return!==u.return)s=f,u=m;else{for(var _=!1,S=f.child;S;){if(S===s){_=!0,s=f,u=m;break}if(S===u){_=!0,u=f,s=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===s){_=!0,s=m,u=f;break}if(S===u){_=!0,u=m,s=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case nt:return"Profiler";case j:return"StrictMode";case dt:return"Suspense";case vt:return"SuspenseList";case w:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case H:return"Portal";case it:return n.displayName||"Context";case et:return(n._context.displayName||"Context")+".Consumer";case gt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:ue(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return ue(n(i))}catch{}}return null}var qe=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},jt=[],Yt=-1;function O(n){return{current:n}}function tt(n){0>Yt||(n.current=jt[Yt],jt[Yt]=null,Yt--)}function ct(n,i){Yt++,jt[Yt]=n.current,n.current=i}var ft=O(null),bt=O(null),xt=O(null),kt=O(null);function je(n,i){switch(ct(xt,i),ct(bt,n),ct(ft,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?iE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=iE(i),n=rE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}tt(ft),ct(ft,n)}function ce(){tt(ft),tt(bt),tt(xt)}function ba(n){n.memoizedState!==null&&ct(kt,n);var i=ft.current,s=rE(i,n.type);i!==s&&(ct(bt,n),ct(ft,s))}function Ds(n){bt.current===n&&(tt(ft),tt(bt)),kt.current===n&&(tt(kt),ru._currentValue=St)}var xs,Vs;function Si(n){if(xs===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);xs=i&&i[1]||"",Vs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+n+Vs}var rl=!1;function Ra(n,i){if(!n||rl)return"";rl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var F=Q}Reflect.construct(n,[],W)}else{try{W.call()}catch(Q){F=Q}n.call(W.prototype)}}else{try{throw Error()}catch(Q){F=Q}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===B.length)for(u=D.length-1,f=B.length-1;1<=u&&0<=f&&D[u]!==B[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==B[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==B[f]){var $=`
`+D[u].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=u&&0<=f);break}}}finally{rl=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Si(s):""}function al(n,i){switch(n.tag){case 26:case 27:case 5:return Si(n.type);case 16:return Si("Lazy");case 13:return n.child!==i&&i!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Ra(n.type,!1);case 11:return Ra(n.type.render,!1);case 1:return Ra(n.type,!0);case 31:return Si("Activity");default:return""}}function sl(n){try{var i="",s=null;do i+=al(n,s),s=n,n=n.return;while(n);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ce=Object.prototype.hasOwnProperty,Fe=a.unstable_scheduleCallback,Ir=a.unstable_cancelCallback,od=a.unstable_shouldYield,cc=a.unstable_requestPaint,dn=a.unstable_now,Ia=a.unstable_getCurrentPriorityLevel,ol=a.unstable_ImmediatePriority,ll=a.unstable_UserBlockingPriority,wr=a.unstable_NormalPriority,ld=a.unstable_LowPriority,hc=a.unstable_IdlePriority,fc=a.log,dc=a.unstable_setDisableYieldValue,ai=null,We=null;function jn(n){if(typeof fc=="function"&&dc(n),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(ai,n)}catch{}}var Ae=Math.clz32?Math.clz32:pc,mc=Math.log,Ns=Math.LN2;function pc(n){return n>>>=0,n===0?32:31-(mc(n)/Ns|0)|0}var Ai=256,wa=262144,De=4194304;function bi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ri(n,i,s){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=bi(u):(_&=S,_!==0?f=bi(_):s||(s=S&~n,s!==0&&(f=bi(s))))):(S=u&~m,S!==0?f=bi(S):_!==0?f=bi(_):s||(s=u&~n,s!==0&&(f=bi(s)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:f}function si(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ud(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(){var n=De;return De<<=1,(De&62914560)===0&&(De=4194304),n}function Ii(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ca(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cd(n,i,s,u,f,m){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,B=n.hiddenUpdates;for(s=_&~s;0<s;){var $=31-Ae(s),W=1<<$;S[$]=0,D[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}s&=~W}u!==0&&Da(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function Da(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ae(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function ul(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var u=31-Ae(s),f=1<<u;f&i|n[u]&i&&(n[u]|=i),s&=~f}}function cl(n,i){var s=i&-i;return s=(s&42)!==0?1:xa(s),(s&(n.suspendedLanes|i))!==0?0:s}function xa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ji(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yc(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:wE(n.type))}function oi(n,i){var s=ut.p;try{return ut.p=n,i()}finally{ut.p=s}}var li=Math.random().toString(36).slice(2),xe="__reactFiber$"+li,Qe="__reactProps$"+li,wi="__reactContainer$"+li,Os="__reactEvents$"+li,hd="__reactListeners$"+li,_c="__reactHandles$"+li,vc="__reactResources$"+li,Ci="__reactMarker$"+li;function Ms(n){delete n[xe],delete n[Qe],delete n[Os],delete n[hd],delete n[_c]}function Di(n){var i=n[xe];if(i)return i;for(var s=n.parentNode;s;){if(i=s[wi]||s[xe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=hE(n);n!==null;){if(s=n[xe])return s;n=hE(n)}return i}n=s,s=n.parentNode}return null}function Fn(n){if(n=n[xe]||n[wi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Dn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function xi(n){var i=n[vc];return i||(i=n[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(n){n[Ci]=!0}var hl=new Set,fl={};function Vi(n,i){Ni(n,i),Ni(n+"Capture",i)}function Ni(n,i){for(fl[n]=i,n=0;n<i.length;n++)hl.add(i[n])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function Ec(n){return Ce.call(pl,n)?!0:Ce.call(ml,n)?!1:dl.test(n)?pl[n]=!0:(ml[n]=!0,!1)}function Ps(n,i,s){if(Ec(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function xn(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Ne(n,i,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+u)}}function Ye(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gl(n,i,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Xt(n){if(!n._valueTracker){var i=Cr(n)?"checked":"value";n._valueTracker=gl(n,i,""+n[i])}}function Va(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return n&&(u=Cr(n)?n.checked?"true":"false":n.value),n=u,n!==s?(i.setValue(n),!0):!1}function Oi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Na=/[\n"\\]/g;function En(n){return n.replace(Na,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ls(n,i,s,u,f,m,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ye(i)):n.value!==""+Ye(i)&&(n.value=""+Ye(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?yl(n,_,Ye(i)):s!=null?yl(n,_,Ye(s)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Ye(S):n.removeAttribute("name")}function Tc(n,i,s,u,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xt(n);return}s=s!=null?""+Ye(s):"",i=i!=null?""+Ye(i):s,S||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Xt(n)}function yl(n,i,s){i==="number"&&Oi(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Dr(n,i,s,u){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Ye(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Sc(n,i,s){if(i!=null&&(i=""+Ye(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Ye(s):""}function xr(n,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(r(92));if(qe(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Ye(i),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),Xt(n)}function Tn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(n,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,s):typeof s!="number"||s===0||Ac.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function vl(n,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&s[f]!==u&&_l(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&_l(n,m,i[m])}function Us(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(n){return Vr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ui(){}var El=null;function Hn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nr=null,Mi=null;function Oa(n){var i=Fn(n);if(i&&(n=i.stateNode)){var s=n[Qe]||null;t:switch(n=i.stateNode,i.type){case"input":if(Ls(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==n&&u.form===n.form){var f=u[Qe]||null;if(!f)throw Error(r(90));Ls(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===n.form&&Va(u)}break t;case"textarea":Sc(n,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Dr(n,!!s.multiple,i,!1)}}}var ks=!1;function Or(n,i,s){if(ks)return n(i,s);ks=!0;try{var u=n(i);return u}finally{if(ks=!1,(Nr!==null||Mi!==null)&&(yh(),Nr&&(i=Nr,n=Mi,Mi=Nr=null,Oa(i),n)))for(i=0;i<n.length;i++)Oa(n[i])}}function ci(n,i){var s=n.stateNode;if(s===null)return null;var u=s[Qe]||null;if(u===null)return null;s=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(Gn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Ma=!1}var Pi=null,Tl=null,Pa=null;function Sl(){if(Pa)return Pa;var n,i=Tl,s=i.length,u,f="value"in Pi?Pi.value:Pi.textContent,m=f.length;for(n=0;n<s&&i[n]===f[n];n++);var _=s-n;for(u=1;u<=_&&i[s-u]===f[m-u];u++);return Pa=f.slice(n,1<u?1-u:void 0)}function La(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Wi(){return!0}function hi(){return!1}function tn(n){function i(s,u,f,m,_){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(s=n[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Wi:hi,this.isPropagationStopped=hi,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=tn(tr),Mr=T({},tr,{view:0,detail:0}),Al=tn(Mr),Pr,Bs,Ui,qs=T({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ui&&(Ui&&n.type==="mousemove"?(Pr=n.screenX-Ui.screenX,Bs=n.screenY-Ui.screenY):Bs=Pr=0,Ui=n),Pr)},movementY:function(n){return"movementY"in n?n.movementY:Bs}}),bl=tn(qs),Ua=T({},qs,{dataTransfer:0}),Rc=tn(Ua),Ic=T({},Mr,{relatedTarget:0}),za=tn(Ic),Rl=T({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),wc=tn(Rl),js=T({},tr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Cc=tn(js),Dc=T({},tr,{data:0}),zi=tn(Dc),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Nc[n])?!!i[n]:!1}function Lr(){return Oc}var mn=T({},Mr,{key:function(n){if(n.key){var i=xc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=La(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(n){return n.type==="keypress"?La(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?La(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mc=tn(mn),Pc=T({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=tn(Pc),h=T({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),y=tn(h),E=T({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(E),z=T({},qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),G=tn(z),ot=T({},tr,{newState:0,oldState:0}),Ct=tn(ot),be=[9,13,27,32],Gt=Gn&&"CompositionEvent"in window,he=null;Gn&&"documentMode"in document&&(he=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!he,ki=Gn&&(!Gt||he&&8<he&&11>=he),fi=" ",di=!1;function ka(n,i){switch(n){case"keyup":return be.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hs=!1;function JA(n,i){switch(n){case"compositionend":return Fs(i);case"keypress":return i.which!==32?null:(di=!0,fi);case"textInput":return n=i.data,n===fi&&di?null:n;default:return null}}function WA(n,i){if(Hs)return n==="compositionend"||!Gt&&ka(n,i)?(n=Sl(),Pa=Tl=Pi=null,Hs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ki&&i.locale!=="ko"?null:i.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!tb[n.type]:i==="textarea"}function py(n,i,s,u){Nr?Mi?Mi.push(u):Mi=[u]:Nr=u,i=bh(i,"onChange"),0<i.length&&(s=new Li("onChange","change",null,s,u),n.push({event:s,listeners:i}))}var Il=null,wl=null;function eb(n){Zv(n,0)}function Lc(n){var i=Dn(n);if(Va(i))return n}function gy(n,i){if(n==="change")return i}var yy=!1;if(Gn){var fd;if(Gn){var dd="oninput"in document;if(!dd){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),dd=typeof _y.oninput=="function"}fd=dd}else fd=!1;yy=fd&&(!document.documentMode||9<document.documentMode)}function vy(){Il&&(Il.detachEvent("onpropertychange",Ey),wl=Il=null)}function Ey(n){if(n.propertyName==="value"&&Lc(wl)){var i=[];py(i,wl,n,Hn(n)),Or(eb,i)}}function nb(n,i,s){n==="focusin"?(vy(),Il=i,wl=s,Il.attachEvent("onpropertychange",Ey)):n==="focusout"&&vy()}function ib(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Lc(wl)}function rb(n,i){if(n==="click")return Lc(i)}function ab(n,i){if(n==="input"||n==="change")return Lc(i)}function sb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Vn=typeof Object.is=="function"?Object.is:sb;function Cl(n,i){if(Vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!Ce.call(i,f)||!Vn(n[f],i[f]))return!1}return!0}function Ty(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sy(n,i){var s=Ty(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=i&&u>=i)return{node:s,offset:i-n};n=u}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ty(s)}}function Ay(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ay(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function by(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Oi(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Oi(n.document)}return i}function md(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var ob=Gn&&"documentMode"in document&&11>=document.documentMode,Gs=null,pd=null,Dl=null,gd=!1;function Ry(n,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gd||Gs==null||Gs!==Oi(u)||(u=Gs,"selectionStart"in u&&md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Dl&&Cl(Dl,u)||(Dl=u,u=bh(pd,"onSelect"),0<u.length&&(i=new Li("onSelect","select",null,i,s),n.push({event:i,listeners:u}),i.target=Gs)))}function Ba(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Ks={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},yd={},Iy={};Gn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function qa(n){if(yd[n])return yd[n];if(!Ks[n])return n;var i=Ks[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Iy)return yd[n]=i[s];return n}var wy=qa("animationend"),Cy=qa("animationiteration"),Dy=qa("animationstart"),lb=qa("transitionrun"),ub=qa("transitionstart"),cb=qa("transitioncancel"),xy=qa("transitionend"),Vy=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function mi(n,i){Vy.set(n,i),Vi(i,[n])}var Uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Qn=[],Qs=0,vd=0;function zc(){for(var n=Qs,i=vd=Qs=0;i<n;){var s=Qn[i];Qn[i++]=null;var u=Qn[i];Qn[i++]=null;var f=Qn[i];Qn[i++]=null;var m=Qn[i];if(Qn[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&Ny(s,f,m)}}function kc(n,i,s,u){Qn[Qs++]=n,Qn[Qs++]=i,Qn[Qs++]=s,Qn[Qs++]=u,vd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ed(n,i,s,u){return kc(n,i,s,u),Bc(n)}function ja(n,i){return kc(n,null,null,i),Bc(n)}function Ny(n,i,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var f=!1,m=n.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Ae(s),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=s|536870912),m):null}function Bc(n){if(50<Zl)throw Zl=0,Dm=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ys={};function hb(n,i,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,i,s,u){return new hb(n,i,s,u)}function Td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function nr(n,i){var s=n.alternate;return s===null?(s=Nn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Oy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function qc(n,i,s,u,f,m){var _=0;if(u=n,typeof n=="function")Td(n)&&(_=1);else if(typeof n=="string")_=gR(n,s,ft.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case w:return n=Nn(31,s,i,f),n.elementType=w,n.lanes=m,n;case K:return Fa(s.children,f,m,i);case j:_=8,f|=24;break;case nt:return n=Nn(12,s,i,f|2),n.elementType=nt,n.lanes=m,n;case dt:return n=Nn(13,s,i,f),n.elementType=dt,n.lanes=m,n;case vt:return n=Nn(19,s,i,f),n.elementType=vt,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case it:_=10;break t;case et:_=9;break t;case gt:_=11;break t;case I:_=14;break t;case R:_=16,u=null;break t}_=29,s=Error(r(130,n===null?"null":typeof n,"")),u=null}return i=Nn(_,s,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function Fa(n,i,s,u){return n=Nn(7,n,u,i),n.lanes=s,n}function Sd(n,i,s){return n=Nn(6,n,null,i),n.lanes=s,n}function My(n){var i=Nn(18,null,null,0);return i.stateNode=n,i}function Ad(n,i,s){return i=Nn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Py=new WeakMap;function Yn(n,i){if(typeof n=="object"&&n!==null){var s=Py.get(n);return s!==void 0?s:(i={value:n,source:i,stack:sl(i)},Py.set(n,i),i)}return{value:n,source:i,stack:sl(i)}}var Xs=[],$s=0,jc=null,xl=0,Xn=[],$n=0,Ur=null,Bi=1,qi="";function ir(n,i){Xs[$s++]=xl,Xs[$s++]=jc,jc=n,xl=i}function Ly(n,i,s){Xn[$n++]=Bi,Xn[$n++]=qi,Xn[$n++]=Ur,Ur=n;var u=Bi;n=qi;var f=32-Ae(u)-1;u&=~(1<<f),s+=1;var m=32-Ae(i)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Bi=1<<32-Ae(i)+f|s<<f|u,qi=m+n}else Bi=1<<m|s<<f|u,qi=n}function bd(n){n.return!==null&&(ir(n,1),Ly(n,1,0))}function Rd(n){for(;n===jc;)jc=Xs[--$s],Xs[$s]=null,xl=Xs[--$s],Xs[$s]=null;for(;n===Ur;)Ur=Xn[--$n],Xn[$n]=null,qi=Xn[--$n],Xn[$n]=null,Bi=Xn[--$n],Xn[$n]=null}function Uy(n,i){Xn[$n++]=Bi,Xn[$n++]=qi,Xn[$n++]=Ur,Bi=i.id,qi=i.overflow,Ur=n}var en=null,oe=null,zt=!1,zr=null,Zn=!1,Id=Error(r(519));function kr(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Yn(i,n)),Id}function zy(n){var i=n.stateNode,s=n.type,u=n.memoizedProps;switch(i[xe]=n,i[Qe]=u,s){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Mt(Wl[s],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Tc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),xr(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||eE(i.textContent,s)?(u.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),u.onScroll!=null&&Mt("scroll",i),u.onScrollEnd!=null&&Mt("scrollend",i),u.onClick!=null&&(i.onclick=ui),i=!0):i=!1,i||kr(n,!0)}function ky(n){for(en=n.return;en;)switch(en.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:en=en.return}}function Zs(n){if(n!==en)return!1;if(!zt)return ky(n),zt=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Hm(n.type,n.memoizedProps)),s=!s),s&&oe&&kr(n),ky(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));oe=cE(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));oe=cE(n)}else i===27?(i=oe,Wr(n.type)?(n=Xm,Xm=null,oe=n):oe=i):oe=en?Wn(n.stateNode.nextSibling):null;return!0}function Ha(){oe=en=null,zt=!1}function wd(){var n=zr;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),zr=null),n}function Vl(n){zr===null?zr=[n]:zr.push(n)}var Cd=O(null),Ga=null,rr=null;function Br(n,i,s){ct(Cd,i._currentValue),i._currentValue=s}function ar(n){n._currentValue=Cd.current,tt(Cd)}function Dd(n,i,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===s)break;n=n.return}}function xd(n,i,s,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var D=0;D<i.length;D++)if(S.context===i[D]){m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),Dd(m.return,s,n),u||(_=null);break t}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=s,m=_.alternate,m!==null&&(m.lanes|=s),Dd(_,s,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Js(n,i,s,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;Vn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===kt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ru):n=[ru])}f=f.return}n!==null&&xd(i,n,s,u),i.flags|=262144}function Fc(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ka(n){Ga=n,rr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return By(Ga,n)}function Hc(n,i){return Ga===null&&Ka(n),By(n,i)}function By(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},rr===null){if(n===null)throw Error(r(308));rr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else rr=rr.next=i;return s}var fb=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},db=a.unstable_scheduleCallback,mb=a.unstable_NormalPriority,Oe={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new fb,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&db(mb,function(){n.controller.abort()})}var Ol=null,Nd=0,Ws=0,to=null;function pb(n,i){if(Ol===null){var s=Ol=[];Nd=0,Ws=Pm(),to={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Nd++,i.then(qy,qy),i}function qy(){if(--Nd===0&&Ol!==null){to!==null&&(to.status="fulfilled");var n=Ol;Ol=null,Ws=0,to=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function gb(n,i){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var jy=Z.S;Z.S=function(n,i){Rv=dn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pb(n,i),jy!==null&&jy(n,i)};var Qa=O(null);function Od(){var n=Qa.current;return n!==null?n:ae.pooledCache}function Gc(n,i){i===null?ct(Qa,Qa.current):ct(Qa,i.pool)}function Fy(){var n=Od();return n===null?null:{parent:Oe._currentValue,pool:n}}var eo=Error(r(460)),Md=Error(r(474)),Kc=Error(r(542)),Qc={then:function(){}};function Hy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(ui,ui),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Qy(n),n;default:if(typeof i.status=="string")i.then(ui,ui);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Qy(n),n}throw Xa=i,eo}}function Ya(n){try{var i=n._init;return i(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xa=s,eo):s}}var Xa=null;function Ky(){if(Xa===null)throw Error(r(459));var n=Xa;return Xa=null,n}function Qy(n){if(n===eo||n===Kc)throw Error(r(483))}var no=null,Ml=0;function Yc(n){var i=Ml;return Ml+=1,no===null&&(no=[]),Gy(no,n,i)}function Pl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Xc(n,i){throw i.$$typeof===A?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Yy(n){function i(P,V){if(n){var k=P.deletions;k===null?(P.deletions=[V],P.flags|=16):k.push(V)}}function s(P,V){if(!n)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function u(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function f(P,V){return P=nr(P,V),P.index=0,P.sibling=null,P}function m(P,V,k){return P.index=k,n?(k=P.alternate,k!==null?(k=k.index,k<V?(P.flags|=67108866,V):k):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function S(P,V,k,J){return V===null||V.tag!==6?(V=Sd(k,P.mode,J),V.return=P,V):(V=f(V,k),V.return=P,V)}function D(P,V,k,J){var Et=k.type;return Et===K?$(P,V,k.props.children,J,k.key):V!==null&&(V.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Ya(Et)===V.type)?(V=f(V,k.props),Pl(V,k),V.return=P,V):(V=qc(k.type,k.key,k.props,null,P.mode,J),Pl(V,k),V.return=P,V)}function B(P,V,k,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=Ad(k,P.mode,J),V.return=P,V):(V=f(V,k.children||[]),V.return=P,V)}function $(P,V,k,J,Et){return V===null||V.tag!==7?(V=Fa(k,P.mode,J,Et),V.return=P,V):(V=f(V,k),V.return=P,V)}function W(P,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sd(""+V,P.mode,k),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return k=qc(V.type,V.key,V.props,null,P.mode,k),Pl(k,V),k.return=P,k;case H:return V=Ad(V,P.mode,k),V.return=P,V;case R:return V=Ya(V),W(P,V,k)}if(qe(V)||L(V))return V=Fa(V,P.mode,k,null),V.return=P,V;if(typeof V.then=="function")return W(P,Yc(V),k);if(V.$$typeof===it)return W(P,Hc(P,V),k);Xc(P,V)}return null}function F(P,V,k,J){var Et=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Et!==null?null:S(P,V,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===Et?D(P,V,k,J):null;case H:return k.key===Et?B(P,V,k,J):null;case R:return k=Ya(k),F(P,V,k,J)}if(qe(k)||L(k))return Et!==null?null:$(P,V,k,J,null);if(typeof k.then=="function")return F(P,V,Yc(k),J);if(k.$$typeof===it)return F(P,V,Hc(P,k),J);Xc(P,k)}return null}function Q(P,V,k,J,Et){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(k)||null,S(V,P,""+J,Et);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return P=P.get(J.key===null?k:J.key)||null,D(V,P,J,Et);case H:return P=P.get(J.key===null?k:J.key)||null,B(V,P,J,Et);case R:return J=Ya(J),Q(P,V,k,J,Et)}if(qe(J)||L(J))return P=P.get(k)||null,$(V,P,J,Et,null);if(typeof J.then=="function")return Q(P,V,k,Yc(J),Et);if(J.$$typeof===it)return Q(P,V,k,Hc(V,J),Et);Xc(V,J)}return null}function mt(P,V,k,J){for(var Et=null,Ft=null,yt=V,Vt=V=0,Lt=null;yt!==null&&Vt<k.length;Vt++){yt.index>Vt?(Lt=yt,yt=null):Lt=yt.sibling;var Ht=F(P,yt,k[Vt],J);if(Ht===null){yt===null&&(yt=Lt);break}n&&yt&&Ht.alternate===null&&i(P,yt),V=m(Ht,V,Vt),Ft===null?Et=Ht:Ft.sibling=Ht,Ft=Ht,yt=Lt}if(Vt===k.length)return s(P,yt),zt&&ir(P,Vt),Et;if(yt===null){for(;Vt<k.length;Vt++)yt=W(P,k[Vt],J),yt!==null&&(V=m(yt,V,Vt),Ft===null?Et=yt:Ft.sibling=yt,Ft=yt);return zt&&ir(P,Vt),Et}for(yt=u(yt);Vt<k.length;Vt++)Lt=Q(yt,P,Vt,k[Vt],J),Lt!==null&&(n&&Lt.alternate!==null&&yt.delete(Lt.key===null?Vt:Lt.key),V=m(Lt,V,Vt),Ft===null?Et=Lt:Ft.sibling=Lt,Ft=Lt);return n&&yt.forEach(function(ra){return i(P,ra)}),zt&&ir(P,Vt),Et}function At(P,V,k,J){if(k==null)throw Error(r(151));for(var Et=null,Ft=null,yt=V,Vt=V=0,Lt=null,Ht=k.next();yt!==null&&!Ht.done;Vt++,Ht=k.next()){yt.index>Vt?(Lt=yt,yt=null):Lt=yt.sibling;var ra=F(P,yt,Ht.value,J);if(ra===null){yt===null&&(yt=Lt);break}n&&yt&&ra.alternate===null&&i(P,yt),V=m(ra,V,Vt),Ft===null?Et=ra:Ft.sibling=ra,Ft=ra,yt=Lt}if(Ht.done)return s(P,yt),zt&&ir(P,Vt),Et;if(yt===null){for(;!Ht.done;Vt++,Ht=k.next())Ht=W(P,Ht.value,J),Ht!==null&&(V=m(Ht,V,Vt),Ft===null?Et=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&ir(P,Vt),Et}for(yt=u(yt);!Ht.done;Vt++,Ht=k.next())Ht=Q(yt,P,Vt,Ht.value,J),Ht!==null&&(n&&Ht.alternate!==null&&yt.delete(Ht.key===null?Vt:Ht.key),V=m(Ht,V,Vt),Ft===null?Et=Ht:Ft.sibling=Ht,Ft=Ht);return n&&yt.forEach(function(wR){return i(P,wR)}),zt&&ir(P,Vt),Et}function re(P,V,k,J){if(typeof k=="object"&&k!==null&&k.type===K&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:t:{for(var Et=k.key;V!==null;){if(V.key===Et){if(Et=k.type,Et===K){if(V.tag===7){s(P,V.sibling),J=f(V,k.props.children),J.return=P,P=J;break t}}else if(V.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Ya(Et)===V.type){s(P,V.sibling),J=f(V,k.props),Pl(J,k),J.return=P,P=J;break t}s(P,V);break}else i(P,V);V=V.sibling}k.type===K?(J=Fa(k.props.children,P.mode,J,k.key),J.return=P,P=J):(J=qc(k.type,k.key,k.props,null,P.mode,J),Pl(J,k),J.return=P,P=J)}return _(P);case H:t:{for(Et=k.key;V!==null;){if(V.key===Et)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){s(P,V.sibling),J=f(V,k.children||[]),J.return=P,P=J;break t}else{s(P,V);break}else i(P,V);V=V.sibling}J=Ad(k,P.mode,J),J.return=P,P=J}return _(P);case R:return k=Ya(k),re(P,V,k,J)}if(qe(k))return mt(P,V,k,J);if(L(k)){if(Et=L(k),typeof Et!="function")throw Error(r(150));return k=Et.call(k),At(P,V,k,J)}if(typeof k.then=="function")return re(P,V,Yc(k),J);if(k.$$typeof===it)return re(P,V,Hc(P,k),J);Xc(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(s(P,V.sibling),J=f(V,k),J.return=P,P=J):(s(P,V),J=Sd(k,P.mode,J),J.return=P,P=J),_(P)):s(P,V)}return function(P,V,k,J){try{Ml=0;var Et=re(P,V,k,J);return no=null,Et}catch(yt){if(yt===eo||yt===Kc)throw yt;var Ft=Nn(29,yt,null,P.mode);return Ft.lanes=J,Ft.return=P,Ft}}}var $a=Yy(!0),Xy=Yy(!1),qr=!1;function Pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(n,i,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Bc(n),Ny(n,null,s),i}return kc(n,u,i,s),Bc(n)}function Ll(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,ul(n,s)}}function Ud(n,i){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,s=s.next}while(s!==null);m===null?f=m=i:m=m.next=i}else f=m=i;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var zd=!1;function Ul(){if(zd){var n=to;if(n!==null)throw n}}function zl(n,i,s,u){zd=!1;var f=n.updateQueue;qr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?m=B:_.next=B,_=D;var $=n.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=D))}if(m!==null){var W=f.baseState;_=0,$=B=D=null,S=m;do{var F=S.lane&-536870913,Q=F!==S.lane;if(Q?(Pt&F)===F:(u&F)===F){F!==0&&F===Ws&&(zd=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=n,At=S;F=i;var re=s;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){W=mt.call(re,W,F);break t}W=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,F=typeof mt=="function"?mt.call(re,W,F):mt,F==null)break t;W=T({},W,F);break t;case 2:qr=!0}}F=S.callback,F!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=Q,D=W):$=$.next=Q,_|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(D=W),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Yr|=_,n.lanes=_,n.memoizedState=W}}function $y(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function Zy(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)$y(s[n],i)}var io=O(null),$c=O(0);function Jy(n,i){n=mr,ct($c,n),ct(io,i),mr=n|i.baseLanes}function kd(){ct($c,mr),ct(io,io.current)}function Bd(){mr=$c.current,tt(io),tt($c)}var On=O(null),Jn=null;function Hr(n){var i=n.alternate;ct(Re,Re.current&1),ct(On,n),Jn===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Jn=n)}function qd(n){ct(Re,Re.current),ct(On,n),Jn===null&&(Jn=n)}function Wy(n){n.tag===22?(ct(Re,Re.current),ct(On,n),Jn===null&&(Jn=n)):Gr()}function Gr(){ct(Re,Re.current),ct(On,On.current)}function Mn(n){tt(On),Jn===n&&(Jn=null),tt(Re)}var Re=O(0);function Zc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qm(s)||Ym(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sr=0,Dt=null,ne=null,Me=null,Jc=!1,ro=!1,Za=!1,Wc=0,kl=0,ao=null,yb=0;function _e(){throw Error(r(321))}function jd(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Vn(n[s],i[s]))return!1;return!0}function Fd(n,i,s,u,f,m){return sr=m,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=n===null||n.memoizedState===null?L_:rm,Za=!1,m=s(u,f),Za=!1,ro&&(m=e_(i,s,u,f)),t_(n),m}function t_(n){Z.H=jl;var i=ne!==null&&ne.next!==null;if(sr=0,Me=ne=Dt=null,Jc=!1,kl=0,ao=null,i)throw Error(r(300));n===null||Pe||(n=n.dependencies,n!==null&&Fc(n)&&(Pe=!0))}function e_(n,i,s,u){Dt=n;var f=0;do{if(ro&&(ao=null),kl=0,ro=!1,25<=f)throw Error(r(301));if(f+=1,Me=ne=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=U_,m=i(s,u)}while(ro);return m}function _b(){var n=Z.H,i=n.useState()[0];return i=typeof i.then=="function"?Bl(i):i,n=n.useState()[0],(ne!==null?ne.memoizedState:null)!==n&&(Dt.flags|=1024),i}function Hd(){var n=Wc!==0;return Wc=0,n}function Gd(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Kd(n){if(Jc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jc=!1}sr=0,Me=ne=Dt=null,ro=!1,kl=Wc=0,ao=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Dt.memoizedState=Me=n:Me=Me.next=n,Me}function Ie(){if(ne===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=ne.next;var i=Me===null?Dt.memoizedState:Me.next;if(i!==null)Me=i,ne=n;else{if(n===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));ne=n,n={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Me===null?Dt.memoizedState=Me=n:Me=Me.next=n}return Me}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var i=kl;return kl+=1,ao===null&&(ao=[]),n=Gy(ao,n,i),i=Dt,(Me===null?i.memoizedState:Me.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?L_:rm),n}function eh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===it)return nn(n)}throw Error(r(438,String(n)))}function Qd(n){var i=null,s=Dt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=th(),Dt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),u=0;u<n;u++)s[u]=M;return i.index++,s}function or(n,i){return typeof i=="function"?i(n):i}function nh(n){var i=Ie();return Yd(i,ne,n)}function Yd(n,i,s){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var S=_=null,D=null,B=i,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Pt&W)===W:(sr&W)===W){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ws&&($=!0);else if((sr&F)===F){B=B.next,F===Ws&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=W,_=m):D=D.next=W,Dt.lanes|=F,Yr|=F;W=B.action,Za&&s(m,W),m=B.hasEagerState?B.eagerState:s(m,W)}else F={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=F,_=m):D=D.next=F,Dt.lanes|=W,Yr|=W;B=B.next}while(B!==null&&B!==i);if(D===null?_=m:D.next=S,!Vn(m,n.memoizedState)&&(Pe=!0,$&&(s=to,s!==null)))throw s;n.memoizedState=m,n.baseState=_,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Xd(n){var i=Ie(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var u=s.dispatch,f=s.pending,m=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Vn(m,i.memoizedState)||(Pe=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,u]}function n_(n,i,s){var u=Dt,f=Ie(),m=zt;if(m){if(s===void 0)throw Error(r(407));s=s()}else s=i();var _=!Vn((ne||f).memoizedState,s);if(_&&(f.memoizedState=s,Pe=!0),f=f.queue,Jd(a_.bind(null,u,f,n),[n]),f.getSnapshot!==i||_||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,so(9,{destroy:void 0},r_.bind(null,u,f,s,i),null),ae===null)throw Error(r(349));m||(sr&127)!==0||i_(u,i,s)}return s}function i_(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Dt.updateQueue,i===null?(i=th(),Dt.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function r_(n,i,s,u){i.value=s,i.getSnapshot=u,s_(i)&&o_(n)}function a_(n,i,s){return s(function(){s_(i)&&o_(n)})}function s_(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Vn(n,s)}catch{return!0}}function o_(n){var i=ja(n,2);i!==null&&In(i,n,2)}function $d(n){var i=pn();if(typeof n=="function"){var s=n;if(n=s(),Za){jn(!0);try{s()}finally{jn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:n},i}function l_(n,i,s,u){return n.baseState=s,Yd(n,ne,typeof u=="function"?u:or)}function vb(n,i,s,u,f){if(ah(n))throw Error(r(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};Z.T!==null?s(!0):m.isTransition=!1,u(m),s=i.pending,s===null?(m.next=i.pending=m,u_(i,m)):(m.next=s.next,i.pending=s.next=m)}}function u_(n,i){var s=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=Z.T,_={};Z.T=_;try{var S=s(f,u),D=Z.S;D!==null&&D(_,S),c_(n,i,S)}catch(B){Zd(n,i,B)}finally{m!==null&&_.types!==null&&(m.types=_.types),Z.T=m}}else try{m=s(f,u),c_(n,i,m)}catch(B){Zd(n,i,B)}}function c_(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){h_(n,i,u)},function(u){return Zd(n,i,u)}):h_(n,i,s)}function h_(n,i,s){i.status="fulfilled",i.value=s,f_(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,u_(n,s)))}function Zd(n,i,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,f_(i),i=i.next;while(i!==u)}n.action=null}function f_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function d_(n,i){return i}function m_(n,i){if(zt){var s=ae.formState;if(s!==null){t:{var u=Dt;if(zt){if(oe){e:{for(var f=oe,m=Zn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Wn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){oe=Wn(f.nextSibling),u=f.data==="F!";break t}}kr(u)}u=!1}u&&(i=s[0])}}return s=pn(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d_,lastRenderedState:i},s.queue=u,s=O_.bind(null,Dt,u),u.dispatch=s,u=$d(!1),m=im.bind(null,Dt,!1,u.queue),u=pn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,s=vb.bind(null,Dt,f,m,s),f.dispatch=s,u.memoizedState=n,[i,s,!1]}function p_(n){var i=Ie();return g_(i,ne,n)}function g_(n,i,s){if(i=Yd(n,i,d_)[0],n=nh(or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Bl(i)}catch(_){throw _===eo?Kc:_}else u=i;i=Ie();var f=i.queue,m=f.dispatch;return s!==i.memoizedState&&(Dt.flags|=2048,so(9,{destroy:void 0},Eb.bind(null,f,s),null)),[u,m,n]}function Eb(n,i){n.action=i}function y_(n){var i=Ie(),s=ne;if(s!==null)return g_(i,s,n);Ie(),i=i.memoizedState,s=Ie();var u=s.queue.dispatch;return s.memoizedState=n,[i,u,!1]}function so(n,i,s,u){return n={tag:n,create:s,deps:u,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=th(),Dt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,i.lastEffect=n),n}function __(){return Ie().memoizedState}function ih(n,i,s,u){var f=pn();Dt.flags|=n,f.memoizedState=so(1|i,{destroy:void 0},s,u===void 0?null:u)}function rh(n,i,s,u){var f=Ie();u=u===void 0?null:u;var m=f.memoizedState.inst;ne!==null&&u!==null&&jd(u,ne.memoizedState.deps)?f.memoizedState=so(i,m,s,u):(Dt.flags|=n,f.memoizedState=so(1|i,m,s,u))}function v_(n,i){ih(8390656,8,n,i)}function Jd(n,i){rh(2048,8,n,i)}function Tb(n){Dt.flags|=4;var i=Dt.updateQueue;if(i===null)i=th(),Dt.updateQueue=i,i.events=[n];else{var s=i.events;s===null?i.events=[n]:s.push(n)}}function E_(n){var i=Ie().memoizedState;return Tb({ref:i,nextImpl:n}),function(){if((Kt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function T_(n,i){return rh(4,2,n,i)}function S_(n,i){return rh(4,4,n,i)}function A_(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function b_(n,i,s){s=s!=null?s.concat([n]):null,rh(4,4,A_.bind(null,i,n),s)}function Wd(){}function R_(n,i){var s=Ie();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&jd(i,u[1])?u[0]:(s.memoizedState=[n,i],n)}function I_(n,i){var s=Ie();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&jd(i,u[1]))return u[0];if(u=n(),Za){jn(!0);try{n()}finally{jn(!1)}}return s.memoizedState=[u,i],u}function tm(n,i,s){return s===void 0||(sr&1073741824)!==0&&(Pt&261930)===0?n.memoizedState=i:(n.memoizedState=s,n=wv(),Dt.lanes|=n,Yr|=n,s)}function w_(n,i,s,u){return Vn(s,i)?s:io.current!==null?(n=tm(n,s,u),Vn(n,i)||(Pe=!0),n):(sr&42)===0||(sr&1073741824)!==0&&(Pt&261930)===0?(Pe=!0,n.memoizedState=s):(n=wv(),Dt.lanes|=n,Yr|=n,i)}function C_(n,i,s,u,f){var m=ut.p;ut.p=m!==0&&8>m?m:8;var _=Z.T,S={};Z.T=S,im(n,!1,i,s);try{var D=f(),B=Z.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=gb(D,u);ql(n,i,$,Un(n))}else ql(n,i,u,Un(n))}catch(W){ql(n,i,{then:function(){},status:"rejected",reason:W},Un())}finally{ut.p=m,_!==null&&S.types!==null&&(_.types=S.types),Z.T=_}}function Sb(){}function em(n,i,s,u){if(n.tag!==5)throw Error(r(476));var f=D_(n).queue;C_(n,f,i,St,s===null?Sb:function(){return x_(n),s(u)})}function D_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:St},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function x_(n){var i=D_(n);i.next===null&&(i=n.alternate.memoizedState),ql(n,i.next.queue,{},Un())}function nm(){return nn(ru)}function V_(){return Ie().memoizedState}function N_(){return Ie().memoizedState}function Ab(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Un();n=jr(s);var u=Fr(i,n,s);u!==null&&(In(u,i,s),Ll(u,i,s)),i={cache:Vd()},n.payload=i;return}i=i.return}}function bb(n,i,s){var u=Un();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ah(n)?M_(i,s):(s=Ed(n,i,s,u),s!==null&&(In(s,n,u),P_(s,i,u)))}function O_(n,i,s){var u=Un();ql(n,i,s,u)}function ql(n,i,s,u){var f={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ah(n))M_(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,S=m(_,s);if(f.hasEagerState=!0,f.eagerState=S,Vn(S,_))return kc(n,i,f,0),ae===null&&zc(),!1}catch{}if(s=Ed(n,i,f,u),s!==null)return In(s,n,u),P_(s,i,u),!0}return!1}function im(n,i,s,u){if(u={lane:2,revertLane:Pm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ah(n)){if(i)throw Error(r(479))}else i=Ed(n,s,u,2),i!==null&&In(i,n,2)}function ah(n){var i=n.alternate;return n===Dt||i!==null&&i===Dt}function M_(n,i){ro=Jc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function P_(n,i,s){if((s&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,ul(n,s)}}var jl={readContext:nn,use:eh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};jl.useEffectEvent=_e;var L_={readContext:nn,use:eh,useCallback:function(n,i){return pn().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:v_,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,ih(4194308,4,A_.bind(null,i,n),s)},useLayoutEffect:function(n,i){return ih(4194308,4,n,i)},useInsertionEffect:function(n,i){ih(4,2,n,i)},useMemo:function(n,i){var s=pn();i=i===void 0?null:i;var u=n();if(Za){jn(!0);try{n()}finally{jn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(n,i,s){var u=pn();if(s!==void 0){var f=s(i);if(Za){jn(!0);try{s(i)}finally{jn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=bb.bind(null,Dt,n),[u.memoizedState,n]},useRef:function(n){var i=pn();return n={current:n},i.memoizedState=n},useState:function(n){n=$d(n);var i=n.queue,s=O_.bind(null,Dt,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Wd,useDeferredValue:function(n,i){var s=pn();return tm(s,n,i)},useTransition:function(){var n=$d(!1);return n=C_.bind(null,Dt,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var u=Dt,f=pn();if(zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),ae===null)throw Error(r(349));(Pt&127)!==0||i_(u,i,s)}f.memoizedState=s;var m={value:s,getSnapshot:i};return f.queue=m,v_(a_.bind(null,u,m,n),[n]),u.flags|=2048,so(9,{destroy:void 0},r_.bind(null,u,m,s,i),null),s},useId:function(){var n=pn(),i=ae.identifierPrefix;if(zt){var s=qi,u=Bi;s=(u&~(1<<32-Ae(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Wc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=yb++,i="_"+i+"r_"+s.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:nm,useFormState:m_,useActionState:m_,useOptimistic:function(n){var i=pn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=im.bind(null,Dt,!0,s),s.dispatch=i,[n,i]},useMemoCache:Qd,useCacheRefresh:function(){return pn().memoizedState=Ab.bind(null,Dt)},useEffectEvent:function(n){var i=pn(),s={impl:n};return i.memoizedState=s,function(){if((Kt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},rm={readContext:nn,use:eh,useCallback:R_,useContext:nn,useEffect:Jd,useImperativeHandle:b_,useInsertionEffect:T_,useLayoutEffect:S_,useMemo:I_,useReducer:nh,useRef:__,useState:function(){return nh(or)},useDebugValue:Wd,useDeferredValue:function(n,i){var s=Ie();return w_(s,ne.memoizedState,n,i)},useTransition:function(){var n=nh(or)[0],i=Ie().memoizedState;return[typeof n=="boolean"?n:Bl(n),i]},useSyncExternalStore:n_,useId:V_,useHostTransitionStatus:nm,useFormState:p_,useActionState:p_,useOptimistic:function(n,i){var s=Ie();return l_(s,ne,n,i)},useMemoCache:Qd,useCacheRefresh:N_};rm.useEffectEvent=E_;var U_={readContext:nn,use:eh,useCallback:R_,useContext:nn,useEffect:Jd,useImperativeHandle:b_,useInsertionEffect:T_,useLayoutEffect:S_,useMemo:I_,useReducer:Xd,useRef:__,useState:function(){return Xd(or)},useDebugValue:Wd,useDeferredValue:function(n,i){var s=Ie();return ne===null?tm(s,n,i):w_(s,ne.memoizedState,n,i)},useTransition:function(){var n=Xd(or)[0],i=Ie().memoizedState;return[typeof n=="boolean"?n:Bl(n),i]},useSyncExternalStore:n_,useId:V_,useHostTransitionStatus:nm,useFormState:y_,useActionState:y_,useOptimistic:function(n,i){var s=Ie();return ne!==null?l_(s,ne,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:N_};U_.useEffectEvent=E_;function am(n,i,s,u){i=n.memoizedState,s=s(u,i),s=s==null?i:T({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var sm={enqueueSetState:function(n,i,s){n=n._reactInternals;var u=Un(),f=jr(u);f.payload=i,s!=null&&(f.callback=s),i=Fr(n,f,u),i!==null&&(In(i,n,u),Ll(i,n,u))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var u=Un(),f=jr(u);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Fr(n,f,u),i!==null&&(In(i,n,u),Ll(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Un(),u=jr(s);u.tag=2,i!=null&&(u.callback=i),i=Fr(n,u,s),i!==null&&(In(i,n,s),Ll(i,n,s))}};function z_(n,i,s,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):i.prototype&&i.prototype.isPureReactComponent?!Cl(s,u)||!Cl(f,m):!0}function k_(n,i,s,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==n&&sm.enqueueReplaceState(i,i.state,null)}function Ja(n,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(n=n.defaultProps){s===i&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function B_(n){Uc(n)}function q_(n){console.error(n)}function j_(n){Uc(n)}function sh(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function F_(n,i,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function om(n,i,s){return s=jr(s),s.tag=3,s.payload={element:null},s.callback=function(){sh(n,i)},s}function H_(n){return n=jr(n),n.tag=3,n}function G_(n,i,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){F_(i,s,u)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){F_(i,s,u),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Rb(n,i,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Js(i,s,f,!0),s=On.current,s!==null){switch(s.tag){case 31:case 13:return Jn===null?_h():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===Qc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Nm(n,u,f)),!1;case 22:return s.flags|=65536,u===Qc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Nm(n,u,f)),!1}throw Error(r(435,s.tag))}return Nm(n,u,f),_h(),!1}if(zt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Id&&(n=Error(r(422),{cause:u}),Vl(Yn(n,s)))):(u!==Id&&(i=Error(r(423),{cause:u}),Vl(Yn(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Yn(u,s),f=om(n.stateNode,u,f),Ud(n,f),ve!==4&&(ve=2)),!1;var m=Error(r(520),{cause:u});if(m=Yn(m,s),$l===null?$l=[m]:$l.push(m),ve!==4&&(ve=2),i===null)return!0;u=Yn(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=om(s.stateNode,u,n),Ud(s,n),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xr===null||!Xr.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=H_(f),G_(f,n,s,u),Ud(s,f),!1}s=s.return}while(s!==null);return!1}var lm=Error(r(461)),Pe=!1;function rn(n,i,s,u){i.child=n===null?Xy(i,null,s,u):$a(i,n.child,s,u)}function K_(n,i,s,u,f){s=s.render;var m=i.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Ka(i),u=Fd(n,i,s,_,m,f),S=Hd(),n!==null&&!Pe?(Gd(n,i,f),lr(n,i,f)):(zt&&S&&bd(i),i.flags|=1,rn(n,i,u,f),i.child)}function Q_(n,i,s,u,f){if(n===null){var m=s.type;return typeof m=="function"&&!Td(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,Y_(n,i,m,u,f)):(n=qc(s.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!gm(n,f)){var _=m.memoizedProps;if(s=s.compare,s=s!==null?s:Cl,s(_,u)&&n.ref===i.ref)return lr(n,i,f)}return i.flags|=1,n=nr(m,u),n.ref=i.ref,n.return=i,i.child=n}function Y_(n,i,s,u,f){if(n!==null){var m=n.memoizedProps;if(Cl(m,u)&&n.ref===i.ref)if(Pe=!1,i.pendingProps=u=m,gm(n,f))(n.flags&131072)!==0&&(Pe=!0);else return i.lanes=n.lanes,lr(n,i,f)}return um(n,i,s,u,f)}function X_(n,i,s,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,n!==null){for(u=i.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return $_(n,i,m,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Gc(i,m!==null?m.cachePool:null),m!==null?Jy(i,m):kd(),Wy(i);else return u=i.lanes=536870912,$_(n,i,m!==null?m.baseLanes|s:s,s,u)}else m!==null?(Gc(i,m.cachePool),Jy(i,m),Gr(),i.memoizedState=null):(n!==null&&Gc(i,null),kd(),Gr());return rn(n,i,f,s),i.child}function Fl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $_(n,i,s,u,f){var m=Od();return m=m===null?null:{parent:Oe._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},n!==null&&Gc(i,null),kd(),Wy(i),n!==null&&Js(n,i,u,!0),i.childLanes=f,null}function oh(n,i){return i=uh({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Z_(n,i,s){return $a(i,n.child,null,s),n=oh(i,i.pendingProps),n.flags|=2,Mn(i),i.memoizedState=null,n}function Ib(n,i,s){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(zt){if(u.mode==="hidden")return n=oh(i,u),i.lanes=536870912,Fl(null,n);if(qd(i),(n=oe)?(n=uE(n,Zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},s=My(n),s.return=i,i.child=s,en=i,oe=null)):n=null,n===null)throw kr(i);return i.lanes=536870912,null}return oh(i,u)}var m=n.memoizedState;if(m!==null){var _=m.dehydrated;if(qd(i),f)if(i.flags&256)i.flags&=-257,i=Z_(n,i,s);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(Pe||Js(n,i,s,!1),f=(s&n.childLanes)!==0,Pe||f){if(u=ae,u!==null&&(_=cl(u,s),_!==0&&_!==m.retryLane))throw m.retryLane=_,ja(n,_),In(u,n,_),lm;_h(),i=Z_(n,i,s)}else n=m.treeContext,oe=Wn(_.nextSibling),en=i,zt=!0,zr=null,Zn=!1,n!==null&&Uy(i,n),i=oh(i,u),i.flags|=4096;return i}return n=nr(n.child,{mode:u.mode,children:u.children}),n.ref=i.ref,i.child=n,n.return=i,n}function lh(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function um(n,i,s,u,f){return Ka(i),s=Fd(n,i,s,u,void 0,f),u=Hd(),n!==null&&!Pe?(Gd(n,i,f),lr(n,i,f)):(zt&&u&&bd(i),i.flags|=1,rn(n,i,s,f),i.child)}function J_(n,i,s,u,f,m){return Ka(i),i.updateQueue=null,s=e_(i,u,s,f),t_(n),u=Hd(),n!==null&&!Pe?(Gd(n,i,m),lr(n,i,m)):(zt&&u&&bd(i),i.flags|=1,rn(n,i,s,m),i.child)}function W_(n,i,s,u,f){if(Ka(i),i.stateNode===null){var m=Ys,_=s.contextType;typeof _=="object"&&_!==null&&(m=nn(_)),m=new s(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Pd(i),_=s.contextType,m.context=typeof _=="object"&&_!==null?nn(_):Ys,m.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(am(i,s,_,u),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&sm.enqueueReplaceState(m,m.state,null),zl(i,u,m,f),Ul(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var S=i.memoizedProps,D=Ja(s,S);m.props=D;var B=m.context,$=s.contextType;_=Ys,typeof $=="object"&&$!==null&&(_=nn($));var W=s.getDerivedStateFromProps;$=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||B!==_)&&k_(i,m,u,_),qr=!1;var F=i.memoizedState;m.state=F,zl(i,u,m,f),Ul(),B=i.memoizedState,S||F!==B||qr?(typeof W=="function"&&(am(i,s,W,u),B=i.memoizedState),(D=qr||z_(i,s,D,u,F,B,_))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=B),m.props=u,m.state=B,m.context=_,u=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Ld(n,i),_=i.memoizedProps,$=Ja(s,_),m.props=$,W=i.pendingProps,F=m.context,B=s.contextType,D=Ys,typeof B=="object"&&B!==null&&(D=nn(B)),S=s.getDerivedStateFromProps,(B=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==W||F!==D)&&k_(i,m,u,D),qr=!1,F=i.memoizedState,m.state=F,zl(i,u,m,f),Ul();var Q=i.memoizedState;_!==W||F!==Q||qr||n!==null&&n.dependencies!==null&&Fc(n.dependencies)?(typeof S=="function"&&(am(i,s,S,u),Q=i.memoizedState),($=qr||z_(i,s,$,u,F,Q,D)||n!==null&&n.dependencies!==null&&Fc(n.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Q),m.props=u,m.state=Q,m.context=D,u=$):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,lh(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=$a(i,n.child,null,f),i.child=$a(i,null,s,f)):rn(n,i,s,f),i.memoizedState=m.state,n=i.child):n=lr(n,i,f),n}function tv(n,i,s,u){return Ha(),i.flags|=256,rn(n,i,s,u),i.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(n){return{baseLanes:n,cachePool:Fy()}}function fm(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Ln),n}function ev(n,i,s){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Re.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(zt){if(f?Hr(i):Gr(),(n=oe)?(n=uE(n,Zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},s=My(n),s.return=i,i.child=s,en=i,oe=null)):n=null,n===null)throw kr(i);return Ym(n)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(Gr(),f=i.mode,S=uh({mode:"hidden",children:S},f),u=Fa(u,f,s,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=hm(s),u.childLanes=fm(n,_,s),i.memoizedState=cm,Fl(null,u)):(Hr(i),dm(i,S))}var D=n.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(m)i.flags&256?(Hr(i),i.flags&=-257,i=mm(n,i,s)):i.memoizedState!==null?(Gr(),i.child=n.child,i.flags|=128,i=null):(Gr(),S=u.fallback,f=i.mode,u=uh({mode:"visible",children:u.children},f),S=Fa(S,f,s,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,$a(i,n.child,null,s),u=i.child,u.memoizedState=hm(s),u.childLanes=fm(n,_,s),i.memoizedState=cm,i=Fl(null,u));else if(Hr(i),Ym(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,u=Error(r(419)),u.stack="",u.digest=_,Vl({value:u,source:null,stack:null}),i=mm(n,i,s)}else if(Pe||Js(n,i,s,!1),_=(s&n.childLanes)!==0,Pe||_){if(_=ae,_!==null&&(u=cl(_,s),u!==0&&u!==D.retryLane))throw D.retryLane=u,ja(n,u),In(_,n,u),lm;Qm(S)||_h(),i=mm(n,i,s)}else Qm(S)?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,oe=Wn(S.nextSibling),en=i,zt=!0,zr=null,Zn=!1,n!==null&&Uy(i,n),i=dm(i,u.children),i.flags|=4096);return i}return f?(Gr(),S=u.fallback,f=i.mode,D=n.child,B=D.sibling,u=nr(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=nr(B,S):(S=Fa(S,f,s,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,Fl(null,u),u=i.child,S=n.child.memoizedState,S===null?S=hm(s):(f=S.cachePool,f!==null?(D=Oe._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Fy(),S={baseLanes:S.baseLanes|s,cachePool:f}),u.memoizedState=S,u.childLanes=fm(n,_,s),i.memoizedState=cm,Fl(n.child,u)):(Hr(i),s=n.child,n=s.sibling,s=nr(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function dm(n,i){return i=uh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function uh(n,i){return n=Nn(22,n,null,i),n.lanes=0,n}function mm(n,i,s){return $a(i,n.child,null,s),n=dm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function nv(n,i,s){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Dd(n.return,i,s)}function pm(n,i,s,u,f,m){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=s,_.tailMode=f,_.treeForkCount=m)}function iv(n,i,s){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=Re.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ct(Re,_),rn(n,i,u,s),u=zt?xl:0,!S&&n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nv(n,s,i);else if(n.tag===19)nv(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Zc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),pm(i,!1,f,s,m,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Zc(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}pm(i,!0,s,null,m,u);break;case"together":pm(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function lr(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Yr|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Js(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,s=nr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=nr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function gm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Fc(n)))}function wb(n,i,s){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),Br(i,Oe,n.memoizedState.cache),Ha();break;case 27:case 5:ba(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qd(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Hr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ev(n,i,s):(Hr(i),n=lr(n,i,s),n!==null?n.sibling:null);Hr(i);break;case 19:var f=(n.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Js(n,i,s,!1),u=(s&i.childLanes)!==0),f){if(u)return iv(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(Re,Re.current),u)break;return null;case 22:return i.lanes=0,X_(n,i,s,i.pendingProps);case 24:Br(i,Oe,n.memoizedState.cache)}return lr(n,i,s)}function rv(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Pe=!0;else{if(!gm(n,s)&&(i.flags&128)===0)return Pe=!1,wb(n,i,s);Pe=(n.flags&131072)!==0}else Pe=!1,zt&&(i.flags&1048576)!==0&&Ly(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(n=Ya(i.elementType),i.type=n,typeof n=="function")Td(n)?(u=Ja(n,u),i.tag=1,i=W_(null,i,n,u,s)):(i.tag=0,i=um(null,i,n,u,s));else{if(n!=null){var f=n.$$typeof;if(f===gt){i.tag=11,i=K_(null,i,n,u,s);break t}else if(f===I){i.tag=14,i=Q_(null,i,n,u,s);break t}}throw i=ue(n)||n,Error(r(306,i,""))}}return i;case 0:return um(n,i,i.type,i.pendingProps,s);case 1:return u=i.type,f=Ja(u,i.pendingProps),W_(n,i,u,f,s);case 3:t:{if(je(i,i.stateNode.containerInfo),n===null)throw Error(r(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Ld(n,i),zl(i,u,null,s);var _=i.memoizedState;if(u=_.cache,Br(i,Oe,u),u!==m.cache&&xd(i,[Oe],s,!0),Ul(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=tv(n,i,u,s);break t}else if(u!==f){f=Yn(Error(r(424)),i),Vl(f),i=tv(n,i,u,s);break t}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,oe=Wn(n.firstChild),en=i,zt=!0,zr=null,Zn=!0,s=Xy(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ha(),u===f){i=lr(n,i,s);break t}rn(n,i,u,s)}i=i.child}return i;case 26:return lh(n,i),n===null?(s=pE(i.type,null,i.pendingProps,null))?i.memoizedState=s:zt||(s=i.type,n=i.pendingProps,u=Rh(xt.current).createElement(s),u[xe]=i,u[Qe]=n,an(u,s,n),Ve(u),i.stateNode=u):i.memoizedState=pE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ba(i),n===null&&zt&&(u=i.stateNode=fE(i.type,i.pendingProps,xt.current),en=i,Zn=!0,f=oe,Wr(i.type)?(Xm=f,oe=Wn(u.firstChild)):oe=f),rn(n,i,i.pendingProps.children,s),lh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&zt&&((f=u=oe)&&(u=iR(u,i.type,i.pendingProps,Zn),u!==null?(i.stateNode=u,en=i,oe=Wn(u.firstChild),Zn=!1,f=!0):f=!1),f||kr(i)),ba(i),f=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,Hm(f,m)?u=null:_!==null&&Hm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Fd(n,i,_b,null,null,s),ru._currentValue=f),lh(n,i),rn(n,i,u,s),i.child;case 6:return n===null&&zt&&((n=s=oe)&&(s=rR(s,i.pendingProps,Zn),s!==null?(i.stateNode=s,en=i,oe=null,n=!0):n=!1),n||kr(i)),null;case 13:return ev(n,i,s);case 4:return je(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=$a(i,null,u,s):rn(n,i,u,s),i.child;case 11:return K_(n,i,i.type,i.pendingProps,s);case 7:return rn(n,i,i.pendingProps,s),i.child;case 8:return rn(n,i,i.pendingProps.children,s),i.child;case 12:return rn(n,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Br(i,i.type,u.value),rn(n,i,u.children,s),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ka(i),f=nn(f),u=u(f),i.flags|=1,rn(n,i,u,s),i.child;case 14:return Q_(n,i,i.type,i.pendingProps,s);case 15:return Y_(n,i,i.type,i.pendingProps,s);case 19:return iv(n,i,s);case 31:return Ib(n,i,s);case 22:return X_(n,i,s,i.pendingProps);case 24:return Ka(i),u=nn(Oe),n===null?(f=Od(),f===null&&(f=ae,m=Vd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),i.memoizedState={parent:u,cache:f},Pd(i),Br(i,Oe,f)):((n.lanes&s)!==0&&(Ld(n,i),zl(i,null,null,s),Ul()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Br(i,Oe,u)):(u=m.cache,Br(i,Oe,u),u!==f.cache&&xd(i,[Oe],s,!0))),rn(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ur(n){n.flags|=4}function ym(n,i,s,u,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Vv())n.flags|=8192;else throw Xa=Qc,Md}else n.flags&=-16777217}function av(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!EE(i))if(Vv())n.flags|=8192;else throw Xa=Qc,Md}function ch(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?gc():536870912,n.lanes|=i,co|=i)}function Hl(n,i){if(!zt)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function le(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=s,i}function Cb(n,i,s){var u=i.pendingProps;switch(Rd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return s=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ar(Oe),ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Zs(i)?ur(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wd())),le(i),null;case 26:var f=i.type,m=i.memoizedState;return n===null?(ur(i),m!==null?(le(i),av(i,m)):(le(i),ym(i,f,null,u,s))):m?m!==n.memoizedState?(ur(i),le(i),av(i,m)):(le(i),i.flags&=-16777217):(n=n.memoizedProps,n!==u&&ur(i),le(i),ym(i,f,n,u,s)),null;case 27:if(Ds(i),s=xt.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ur(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return le(i),null}n=ft.current,Zs(i)?zy(i):(n=fE(f,u,s),i.stateNode=n,ur(i))}return le(i),null;case 5:if(Ds(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ur(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return le(i),null}if(m=ft.current,Zs(i))zy(i);else{var _=Rh(xt.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[xe]=i,m[Qe]=u;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;t:switch(an(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ur(i)}}return le(i),ym(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,s),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ur(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(n=xt.current,Zs(i)){if(n=i.stateNode,s=i.memoizedProps,u=null,f=en,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[xe]=i,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||eE(n.nodeValue,s)),n||kr(i,!0)}else n=Rh(n).createTextNode(u),n[xe]=i,i.stateNode=n}return le(i),null;case 31:if(s=i.memoizedState,n===null||n.memoizedState!==null){if(u=Zs(i),s!==null){if(n===null){if(!u)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[xe]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),n=!1}else s=wd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return le(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Zs(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xe]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),f=!1}else f=wd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),s!==n&&s&&(i.child.flags|=8192),ch(i,i.updateQueue),le(i),null);case 4:return ce(),n===null&&km(i.stateNode.containerInfo),le(i),null;case 10:return ar(i.type),le(i),null;case 19:if(tt(Re),u=i.memoizedState,u===null)return le(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)Hl(u,!1);else{if(ve!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Zc(n),m!==null){for(i.flags|=128,Hl(u,!1),n=m.updateQueue,i.updateQueue=n,ch(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Oy(s,n),s=s.sibling;return ct(Re,Re.current&1|2),zt&&ir(i,u.treeForkCount),i.child}n=n.sibling}u.tail!==null&&dn()>ph&&(i.flags|=128,f=!0,Hl(u,!1),i.lanes=4194304)}else{if(!f)if(n=Zc(m),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,ch(i,n),Hl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!zt)return le(i),null}else 2*dn()-u.renderingStartTime>ph&&s!==536870912&&(i.flags|=128,f=!0,Hl(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(n=u.last,n!==null?n.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=dn(),n.sibling=null,s=Re.current,ct(Re,f?s&1|2:s&1),zt&&ir(i,u.treeForkCount),n):(le(i),null);case 22:case 23:return Mn(i),Bd(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),s=i.updateQueue,s!==null&&ch(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),n!==null&&tt(Qa),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ar(Oe),le(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Db(n,i){switch(Rd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ar(Oe),ce(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ds(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(r(340));Ha()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Mn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ha()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return tt(Re),null;case 4:return ce(),null;case 10:return ar(i.type),null;case 22:case 23:return Mn(i),Bd(),n!==null&&tt(Qa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ar(Oe),null;case 25:return null;default:return null}}function sv(n,i){switch(Rd(i),i.tag){case 3:ar(Oe),ce();break;case 26:case 27:case 5:Ds(i);break;case 4:ce();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:tt(Re);break;case 10:ar(i.type);break;case 22:case 23:Mn(i),Bd(),n!==null&&tt(Qa);break;case 24:ar(Oe)}}function Gl(n,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&n)===n){u=void 0;var m=s.create,_=s.inst;u=m(),_.destroy=u}s=s.next}while(s!==f)}}catch(S){Zt(i,i.return,S)}}function Kr(n,i,s){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var D=s,B=S;try{B()}catch($){Zt(f,D,$)}}}u=u.next}while(u!==m)}}catch($){Zt(i,i.return,$)}}function ov(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Zy(i,s)}catch(u){Zt(n,n.return,u)}}}function lv(n,i,s){s.props=Ja(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){Zt(n,i,u)}}function Kl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(f){Zt(n,i,f)}}function ji(n,i){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){Zt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Zt(n,i,f)}else s.current=null}function uv(n){var i=n.type,s=n.memoizedProps,u=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break t;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){Zt(n,n.return,f)}}function _m(n,i,s){try{var u=n.stateNode;Zb(u,n.type,s,i),u[Qe]=i}catch(f){Zt(n,n.return,f)}}function cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Wr(n.type)||n.tag===4}function vm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Wr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Em(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ui));else if(u!==4&&(u===27&&Wr(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Em(n,i,s),n=n.sibling;n!==null;)Em(n,i,s),n=n.sibling}function hh(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(u!==4&&(u===27&&Wr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(hh(n,i,s),n=n.sibling;n!==null;)hh(n,i,s),n=n.sibling}function hv(n){var i=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);an(i,u,s),i[xe]=n,i[Qe]=s}catch(m){Zt(n,n.return,m)}}var cr=!1,Le=!1,Tm=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function xb(n,i){if(n=n.containerInfo,jm=Nh,n=by(n),md(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else t:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break t}var _=0,S=-1,D=-1,B=0,$=0,W=n,F=null;e:for(;;){for(var Q;W!==s||f!==0&&W.nodeType!==3||(S=_+f),W!==m||u!==0&&W.nodeType!==3||(D=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)F=W,W=Q;for(;;){if(W===n)break e;if(F===s&&++B===f&&(S=_),F===m&&++$===u&&(D=_),(Q=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Q}s=S===-1||D===-1?null:{start:S,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fm={focusedElem:n,selectionRange:s},Nh=!1,Xe=i;Xe!==null;)if(i=Xe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Xe=n;else for(;Xe!==null;){switch(i=Xe,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=i,f=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var mt=Ja(s.type,f);n=u.getSnapshotBeforeUpdate(mt,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(At){Zt(s,s.return,At)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Km(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Km(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,Xe=n;break}Xe=i.return}}function dv(n,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:fr(n,s),u&4&&Gl(5,s);break;case 1:if(fr(n,s),u&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(_){Zt(s,s.return,_)}else{var f=Ja(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(s,s.return,_)}}u&64&&ov(s),u&512&&Kl(s,s.return);break;case 3:if(fr(n,s),u&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Zy(n,i)}catch(_){Zt(s,s.return,_)}}break;case 27:i===null&&u&4&&hv(s);case 26:case 5:fr(n,s),i===null&&u&4&&uv(s),u&512&&Kl(s,s.return);break;case 12:fr(n,s);break;case 31:fr(n,s),u&4&&gv(n,s);break;case 13:fr(n,s),u&4&&yv(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=kb.bind(null,s),aR(n,s))));break;case 22:if(u=s.memoizedState!==null||cr,!u){i=i!==null&&i.memoizedState!==null||Le,f=cr;var m=Le;cr=u,(Le=i)&&!m?dr(n,s,(s.subtreeFlags&8772)!==0):fr(n,s),cr=f,Le=m}break;case 30:break;default:fr(n,s)}}function mv(n){var i=n.alternate;i!==null&&(n.alternate=null,mv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ms(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fe=null,Sn=!1;function hr(n,i,s){for(s=s.child;s!==null;)pv(n,i,s),s=s.sibling}function pv(n,i,s){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(ai,s)}catch{}switch(s.tag){case 26:Le||ji(s,i),hr(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Le||ji(s,i);var u=fe,f=Sn;Wr(s.type)&&(fe=s.stateNode,Sn=!1),hr(n,i,s),eu(s.stateNode),fe=u,Sn=f;break;case 5:Le||ji(s,i);case 6:if(u=fe,f=Sn,fe=null,hr(n,i,s),fe=u,Sn=f,fe!==null)if(Sn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(m){Zt(s,i,m)}else try{fe.removeChild(s.stateNode)}catch(m){Zt(s,i,m)}break;case 18:fe!==null&&(Sn?(n=fe,oE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),vo(n)):oE(fe,s.stateNode));break;case 4:u=fe,f=Sn,fe=s.stateNode.containerInfo,Sn=!0,hr(n,i,s),fe=u,Sn=f;break;case 0:case 11:case 14:case 15:Kr(2,s,i),Le||Kr(4,s,i),hr(n,i,s);break;case 1:Le||(ji(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&lv(s,i,u)),hr(n,i,s);break;case 21:hr(n,i,s);break;case 22:Le=(u=Le)||s.memoizedState!==null,hr(n,i,s),Le=u;break;default:hr(n,i,s)}}function gv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{vo(n)}catch(s){Zt(i,i.return,s)}}}function yv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{vo(n)}catch(s){Zt(i,i.return,s)}}function Vb(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new fv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new fv),i;default:throw Error(r(435,n.tag))}}function fh(n,i){var s=Vb(n);i.forEach(function(u){if(!s.has(u)){s.add(u);var f=Bb.bind(null,n,u);u.then(f,f)}})}function An(n,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],m=n,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Wr(S.type)){fe=S.stateNode,Sn=!1;break t}break;case 5:fe=S.stateNode,Sn=!1;break t;case 3:case 4:fe=S.stateNode.containerInfo,Sn=!0;break t}S=S.return}if(fe===null)throw Error(r(160));pv(m,_,f),fe=null,Sn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_v(i,n),i=i.sibling}var pi=null;function _v(n,i){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(i,n),bn(n),u&4&&(Kr(3,n,n.return),Gl(3,n),Kr(5,n,n.return));break;case 1:An(i,n),bn(n),u&512&&(Le||s===null||ji(s,s.return)),u&64&&cr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=pi;if(An(i,n),bn(n),u&512&&(Le||s===null||ji(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){t:{u=n.type,s=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ci]||m[xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),an(m,u,s),m[xe]=n,Ve(m),u=m;break t;case"link":var _=_E("link","href",f).get(u+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break e}}m=f.createElement(u),an(m,u,s),f.head.appendChild(m);break;case"meta":if(_=_E("meta","content",f).get(u+(s.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break e}}m=f.createElement(u),an(m,u,s),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[xe]=n,Ve(m),u=m}n.stateNode=u}else vE(f,n.type,n.stateNode);else n.stateNode=yE(f,u,n.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?vE(f,n.type,n.stateNode):yE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&_m(n,n.memoizedProps,s.memoizedProps)}break;case 27:An(i,n),bn(n),u&512&&(Le||s===null||ji(s,s.return)),s!==null&&u&4&&_m(n,n.memoizedProps,s.memoizedProps);break;case 5:if(An(i,n),bn(n),u&512&&(Le||s===null||ji(s,s.return)),n.flags&32){f=n.stateNode;try{Tn(f,"")}catch(mt){Zt(n,n.return,mt)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,_m(n,f,s!==null?s.memoizedProps:f)),u&1024&&(Tm=!0);break;case 6:if(An(i,n),bn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(mt){Zt(n,n.return,mt)}}break;case 3:if(Ch=null,f=pi,pi=Ih(i.containerInfo),An(i,n),pi=f,bn(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{vo(i.containerInfo)}catch(mt){Zt(n,n.return,mt)}Tm&&(Tm=!1,vv(n));break;case 4:u=pi,pi=Ih(n.stateNode.containerInfo),An(i,n),bn(n),pi=u;break;case 12:An(i,n),bn(n);break;case 31:An(i,n),bn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fh(n,u)));break;case 13:An(i,n),bn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(mh=dn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fh(n,u)));break;case 22:f=n.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=cr,$=Le;if(cr=B||f,Le=$||D,An(i,n),Le=$,cr=B,bn(n),u&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||D||cr||Le||Wa(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var W=D.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){Zt(D,D.return,mt)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(mt){Zt(D,D.return,mt)}}}else if(i.tag===18){if(s===null){D=i;try{var Q=D.stateNode;f?lE(Q,!0):lE(D.stateNode,!1)}catch(mt){Zt(D,D.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,fh(n,s))));break;case 19:An(i,n),bn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fh(n,u)));break;case 30:break;case 21:break;default:An(i,n),bn(n)}}function bn(n){var i=n.flags;if(i&2){try{for(var s,u=n.return;u!==null;){if(cv(u)){s=u;break}u=u.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,m=vm(n);hh(n,m,f);break;case 5:var _=s.stateNode;s.flags&32&&(Tn(_,""),s.flags&=-33);var S=vm(n);hh(n,S,_);break;case 3:case 4:var D=s.stateNode.containerInfo,B=vm(n);Em(n,B,D);break;default:throw Error(r(161))}}catch($){Zt(n,n.return,$)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function vv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function fr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dv(n,i.alternate,i),i=i.sibling}function Wa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),Wa(i);break;case 1:ji(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&lv(i,i.return,s),Wa(i);break;case 27:eu(i.stateNode);case 26:case 5:ji(i,i.return),Wa(i);break;case 22:i.memoizedState===null&&Wa(i);break;case 30:Wa(i);break;default:Wa(i)}n=n.sibling}}function dr(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:dr(f,m,s),Gl(4,m);break;case 1:if(dr(f,m,s),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Zt(u,u.return,B)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)$y(D[f],S)}catch(B){Zt(u,u.return,B)}}s&&_&64&&ov(m),Kl(m,m.return);break;case 27:hv(m);case 26:case 5:dr(f,m,s),s&&u===null&&_&4&&uv(m),Kl(m,m.return);break;case 12:dr(f,m,s);break;case 31:dr(f,m,s),s&&_&4&&gv(f,m);break;case 13:dr(f,m,s),s&&_&4&&yv(f,m);break;case 22:m.memoizedState===null&&dr(f,m,s),Kl(m,m.return);break;case 30:break;default:dr(f,m,s)}i=i.sibling}}function Sm(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Nl(s))}function Am(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n))}function gi(n,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ev(n,i,s,u),i=i.sibling}function Ev(n,i,s,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:gi(n,i,s,u),f&2048&&Gl(9,i);break;case 1:gi(n,i,s,u);break;case 3:gi(n,i,s,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n)));break;case 12:if(f&2048){gi(n,i,s,u),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Zt(i,i.return,D)}}else gi(n,i,s,u);break;case 31:gi(n,i,s,u);break;case 13:gi(n,i,s,u);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?gi(n,i,s,u):Ql(n,i):m._visibility&2?gi(n,i,s,u):(m._visibility|=2,oo(n,i,s,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Sm(_,i);break;case 24:gi(n,i,s,u),f&2048&&Am(i.alternate,i);break;default:gi(n,i,s,u)}}function oo(n,i,s,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,_=i,S=s,D=u,B=_.flags;switch(_.tag){case 0:case 11:case 15:oo(m,_,S,D,f),Gl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?oo(m,_,S,D,f):Ql(m,_):($._visibility|=2,oo(m,_,S,D,f)),f&&B&2048&&Sm(_.alternate,_);break;case 24:oo(m,_,S,D,f),f&&B&2048&&Am(_.alternate,_);break;default:oo(m,_,S,D,f)}i=i.sibling}}function Ql(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,u=i,f=u.flags;switch(u.tag){case 22:Ql(s,u),f&2048&&Sm(u.alternate,u);break;case 24:Ql(s,u),f&2048&&Am(u.alternate,u);break;default:Ql(s,u)}i=i.sibling}}var Yl=8192;function lo(n,i,s){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)Tv(n,i,s),n=n.sibling}function Tv(n,i,s){switch(n.tag){case 26:lo(n,i,s),n.flags&Yl&&n.memoizedState!==null&&yR(s,pi,n.memoizedState,n.memoizedProps);break;case 5:lo(n,i,s);break;case 3:case 4:var u=pi;pi=Ih(n.stateNode.containerInfo),lo(n,i,s),pi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Yl,Yl=16777216,lo(n,i,s),Yl=u):lo(n,i,s));break;default:lo(n,i,s)}}function Sv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Xe=u,bv(u,n)}Sv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Av(n),n=n.sibling}function Av(n){switch(n.tag){case 0:case 11:case 15:Xl(n),n.flags&2048&&Kr(9,n,n.return);break;case 3:Xl(n);break;case 12:Xl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,dh(n)):Xl(n);break;default:Xl(n)}}function dh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Xe=u,bv(u,n)}Sv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),dh(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,dh(i));break;default:dh(i)}n=n.sibling}}function bv(n,i){for(;Xe!==null;){var s=Xe;switch(s.tag){case 0:case 11:case 15:Kr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Xe=u;else t:for(s=n;Xe!==null;){u=Xe;var f=u.sibling,m=u.return;if(mv(u),u===s){Xe=null;break t}if(f!==null){f.return=m,Xe=f;break t}Xe=m}}}var Nb={getCacheForType:function(n){var i=nn(Oe),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s},cacheSignal:function(){return nn(Oe).controller.signal}},Ob=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,Pt=0,$t=0,Pn=null,Qr=!1,uo=!1,bm=!1,mr=0,ve=0,Yr=0,ts=0,Rm=0,Ln=0,co=0,$l=null,Rn=null,Im=!1,mh=0,Rv=0,ph=1/0,gh=null,Xr=null,He=0,$r=null,ho=null,pr=0,wm=0,Cm=null,Iv=null,Zl=0,Dm=null;function Un(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:Z.T!==null?Pm():yc()}function wv(){if(Ln===0)if((Pt&536870912)===0||zt){var n=wa;wa<<=1,(wa&3932160)===0&&(wa=262144),Ln=n}else Ln=536870912;return n=On.current,n!==null&&(n.flags|=32),Ln}function In(n,i,s){(n===ae&&($t===2||$t===9)||n.cancelPendingCommit!==null)&&(fo(n,0),Zr(n,Pt,Ln,!1)),Ca(n,s),((Kt&2)===0||n!==ae)&&(n===ae&&((Kt&2)===0&&(ts|=s),ve===4&&Zr(n,Pt,Ln,!1)),Fi(n))}function Cv(n,i,s){if((Kt&6)!==0)throw Error(r(327));var u=!s&&(i&127)===0&&(i&n.expiredLanes)===0||si(n,i),f=u?Lb(n,i):Vm(n,i,!0),m=u;do{if(f===0){uo&&!u&&Zr(n,i,0,!1);break}else{if(s=n.current.alternate,m&&!Mb(s)){f=Vm(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=n;f=$l;var D=S.current.memoizedState.isDehydrated;if(D&&(fo(S,_).flags|=256),_=Vm(S,_,!1),_!==2){if(bm&&!D){S.errorRecoveryDisabledLanes|=m,ts|=m,f=4;break t}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){fo(n,0),Zr(n,i,0,!0);break}t:{switch(u=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Zr(u,i,Ln,!Qr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=mh+300-dn(),10<f)){if(Zr(u,i,Ln,!Qr),Ri(u,0,!0)!==0)break t;pr=i,u.timeoutHandle=aE(Dv.bind(null,u,s,Rn,gh,Im,i,Ln,ts,co,Qr,m,"Throttled",-0,0),f);break t}Dv(u,s,Rn,gh,Im,i,Ln,ts,co,Qr,m,null,-0,0)}}break}while(!0);Fi(n)}function Dv(n,i,s,u,f,m,_,S,D,B,$,W,F,Q){if(n.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Tv(i,m,W);var mt=(m&62914560)===m?mh-dn():(m&4194048)===m?Rv-dn():0;if(mt=_R(W,mt),mt!==null){pr=m,n.cancelPendingCommit=mt(Uv.bind(null,n,i,m,s,u,f,_,S,D,$,W,null,F,Q)),Zr(n,m,_,!B);return}}Uv(n,i,m,s,u,f,_,S,D)}function Mb(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],m=f.getSnapshot;f=f.value;try{if(!Vn(m(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zr(n,i,s,u){i&=~Rm,i&=~ts,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-Ae(f),_=1<<m;u[m]=-1,f&=~_}s!==0&&Da(n,s,i)}function yh(){return(Kt&6)===0?(Jl(0),!1):!0}function xm(){if(Ot!==null){if($t===0)var n=Ot.return;else n=Ot,rr=Ga=null,Kd(n),no=null,Ml=0,n=Ot;for(;n!==null;)sv(n.alternate,n),n=n.return;Ot=null}}function fo(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,tR(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),pr=0,xm(),ae=n,Ot=s=nr(n.current,null),Pt=i,$t=0,Pn=null,Qr=!1,uo=si(n,i),bm=!1,co=Ln=Rm=ts=Yr=ve=0,Rn=$l=null,Im=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-Ae(u),m=1<<f;i|=n[f],u&=~m}return mr=i,zc(),s}function xv(n,i){Dt=null,Z.H=jl,i===eo||i===Kc?(i=Ky(),$t=3):i===Md?(i=Ky(),$t=4):$t=i===lm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,Ot===null&&(ve=1,sh(n,Yn(i,n.current)))}function Vv(){var n=On.current;return n===null?!0:(Pt&4194048)===Pt?Jn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?n===Jn:!1}function Nv(){var n=Z.H;return Z.H=jl,n===null?jl:n}function Ov(){var n=Z.A;return Z.A=Nb,n}function _h(){ve=4,Qr||(Pt&4194048)!==Pt&&On.current!==null||(uo=!0),(Yr&134217727)===0&&(ts&134217727)===0||ae===null||Zr(ae,Pt,Ln,!1)}function Vm(n,i,s){var u=Kt;Kt|=2;var f=Nv(),m=Ov();(ae!==n||Pt!==i)&&(gh=null,fo(n,i)),i=!1;var _=ve;t:do try{if($t!==0&&Ot!==null){var S=Ot,D=Pn;switch($t){case 8:xm(),_=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var B=$t;if($t=0,Pn=null,mo(n,S,D,B),s&&uo){_=0;break t}break;default:B=$t,$t=0,Pn=null,mo(n,S,D,B)}}Pb(),_=ve;break}catch($){xv(n,$)}while(!0);return i&&n.shellSuspendCounter++,rr=Ga=null,Kt=u,Z.H=f,Z.A=m,Ot===null&&(ae=null,Pt=0,zc()),_}function Pb(){for(;Ot!==null;)Mv(Ot)}function Lb(n,i){var s=Kt;Kt|=2;var u=Nv(),f=Ov();ae!==n||Pt!==i?(gh=null,ph=dn()+500,fo(n,i)):uo=si(n,i);t:do try{if($t!==0&&Ot!==null){i=Ot;var m=Pn;e:switch($t){case 1:$t=0,Pn=null,mo(n,i,m,1);break;case 2:case 9:if(Hy(m)){$t=0,Pn=null,Pv(i);break}i=function(){$t!==2&&$t!==9||ae!==n||($t=7),Fi(n)},m.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Hy(m)?($t=0,Pn=null,Pv(i)):($t=0,Pn=null,mo(n,i,m,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(_?EE(_):S.stateNode.complete){$t=0,Pn=null;var D=S.sibling;if(D!==null)Ot=D;else{var B=S.return;B!==null?(Ot=B,vh(B)):Ot=null}break e}}$t=0,Pn=null,mo(n,i,m,5);break;case 6:$t=0,Pn=null,mo(n,i,m,6);break;case 8:xm(),ve=6;break t;default:throw Error(r(462))}}Ub();break}catch($){xv(n,$)}while(!0);return rr=Ga=null,Z.H=u,Z.A=f,Kt=s,Ot!==null?0:(ae=null,Pt=0,zc(),ve)}function Ub(){for(;Ot!==null&&!od();)Mv(Ot)}function Mv(n){var i=rv(n.alternate,n,mr);n.memoizedProps=n.pendingProps,i===null?vh(n):Ot=i}function Pv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=J_(s,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=J_(s,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Kd(i);default:sv(s,i),i=Ot=Oy(i,mr),i=rv(s,i,mr)}n.memoizedProps=n.pendingProps,i===null?vh(n):Ot=i}function mo(n,i,s,u){rr=Ga=null,Kd(i),no=null,Ml=0;var f=i.return;try{if(Rb(n,f,i,s,Pt)){ve=1,sh(n,Yn(s,n.current)),Ot=null;return}}catch(m){if(f!==null)throw Ot=f,m;ve=1,sh(n,Yn(s,n.current)),Ot=null;return}i.flags&32768?(zt||u===1?n=!0:uo||(Pt&536870912)!==0?n=!1:(Qr=n=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lv(i,n)):vh(i)}function vh(n){var i=n;do{if((i.flags&32768)!==0){Lv(i,Qr);return}n=i.return;var s=Cb(i.alternate,i,mr);if(s!==null){Ot=s;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=n}while(i!==null);ve===0&&(ve=5)}function Lv(n,i){do{var s=Db(n.alternate,n);if(s!==null){s.flags&=32767,Ot=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Ot=n;return}Ot=n=s}while(n!==null);ve=6,Ot=null}function Uv(n,i,s,u,f,m,_,S,D){n.cancelPendingCommit=null;do Eh();while(He!==0);if((Kt&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=vd,cd(n,s,m,_,S,D),n===ae&&(Ot=ae=null,Pt=0),ho=i,$r=n,pr=s,wm=m,Cm=f,Iv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,qb(wr,function(){return jv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=ut.p,ut.p=2,_=Kt,Kt|=4;try{xb(n,i,s)}finally{Kt=_,ut.p=f,Z.T=u}}He=1,zv(),kv(),Bv()}}function zv(){if(He===1){He=0;var n=$r,i=ho,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var u=ut.p;ut.p=2;var f=Kt;Kt|=4;try{_v(i,n);var m=Fm,_=by(n.containerInfo),S=m.focusedElem,D=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ay(S.ownerDocument.documentElement,S)){if(D!==null&&md(S)){var B=D.start,$=D.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var W=S.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Q=F.getSelection(),mt=S.textContent.length,At=Math.min(D.start,mt),re=D.end===void 0?At:Math.min(D.end,mt);!Q.extend&&At>re&&(_=re,re=At,At=_);var P=Sy(S,At),V=Sy(S,re);if(P&&V&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var k=W.createRange();k.setStart(P.node,P.offset),Q.removeAllRanges(),At>re?(Q.addRange(k),Q.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),Q.addRange(k))}}}}for(W=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var J=W[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Nh=!!jm,Fm=jm=null}finally{Kt=f,ut.p=u,Z.T=s}}n.current=i,He=2}}function kv(){if(He===2){He=0;var n=$r,i=ho,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var u=ut.p;ut.p=2;var f=Kt;Kt|=4;try{dv(n,i.alternate,i)}finally{Kt=f,ut.p=u,Z.T=s}}He=3}}function Bv(){if(He===4||He===3){He=0,cc();var n=$r,i=ho,s=pr,u=Iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,ho=$r=null,qv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Xr=null),Ji(s),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(ai,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Z.T,f=ut.p,ut.p=2,Z.T=null;try{for(var m=n.onRecoverableError,_=0;_<u.length;_++){var S=u[_];m(S.value,{componentStack:S.stack})}}finally{Z.T=i,ut.p=f}}(pr&3)!==0&&Eh(),Fi(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===Dm?Zl++:(Zl=0,Dm=n):Zl=0,Jl(0)}}function qv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Nl(i)))}function Eh(){return zv(),kv(),Bv(),jv()}function jv(){if(He!==5)return!1;var n=$r,i=wm;wm=0;var s=Ji(pr),u=Z.T,f=ut.p;try{ut.p=32>s?32:s,Z.T=null,s=Cm,Cm=null;var m=$r,_=pr;if(He=0,ho=$r=null,pr=0,(Kt&6)!==0)throw Error(r(331));var S=Kt;if(Kt|=4,Av(m.current),Ev(m,m.current,_,s),Kt=S,Jl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(ai,m)}catch{}return!0}finally{ut.p=f,Z.T=u,qv(n,i)}}function Fv(n,i,s){i=Yn(s,i),i=om(n.stateNode,i,2),n=Fr(n,i,2),n!==null&&(Ca(n,2),Fi(n))}function Zt(n,i,s){if(n.tag===3)Fv(n,n,s);else for(;i!==null;){if(i.tag===3){Fv(i,n,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xr===null||!Xr.has(u))){n=Yn(s,n),s=H_(2),u=Fr(i,s,2),u!==null&&(G_(s,u,i,n),Ca(u,2),Fi(u));break}}i=i.return}}function Nm(n,i,s){var u=n.pingCache;if(u===null){u=n.pingCache=new Ob;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(s)||(bm=!0,f.add(s),n=zb.bind(null,n,i,s),i.then(n,n))}function zb(n,i,s){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ae===n&&(Pt&s)===s&&(ve===4||ve===3&&(Pt&62914560)===Pt&&300>dn()-mh?(Kt&2)===0&&fo(n,0):Rm|=s,co===Pt&&(co=0)),Fi(n)}function Hv(n,i){i===0&&(i=gc()),n=ja(n,i),n!==null&&(Ca(n,i),Fi(n))}function kb(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Hv(n,s)}function Bb(n,i){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),Hv(n,s)}function qb(n,i){return Fe(n,i)}var Th=null,po=null,Om=!1,Sh=!1,Mm=!1,Jr=0;function Fi(n){n!==po&&n.next===null&&(po===null?Th=po=n:po=po.next=n),Sh=!0,Om||(Om=!0,Fb())}function Jl(n,i){if(!Mm&&Sh){Mm=!0;do for(var s=!1,u=Th;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Ae(42|n)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Yv(u,m))}else m=Pt,m=Ri(u,u===ae?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||si(u,m)||(s=!0,Yv(u,m));u=u.next}while(s);Mm=!1}}function jb(){Gv()}function Gv(){Sh=Om=!1;var n=0;Jr!==0&&Wb()&&(n=Jr);for(var i=dn(),s=null,u=Th;u!==null;){var f=u.next,m=Kv(u,i);m===0?(u.next=null,s===null?Th=f:s.next=f,f===null&&(po=s)):(s=u,(n!==0||(m&3)!==0)&&(Sh=!0)),u=f}He!==0&&He!==5||Jl(n),Jr!==0&&(Jr=0)}function Kv(n,i){for(var s=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-Ae(m),S=1<<_,D=f[_];D===-1?((S&s)===0||(S&u)!==0)&&(f[_]=ud(S,i)):D<=i&&(n.expiredLanes|=S),m&=~S}if(i=ae,s=Pt,s=Ri(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===i&&($t===2||$t===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ir(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||si(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(u!==null&&Ir(u),Ji(s)){case 2:case 8:s=ll;break;case 32:s=wr;break;case 268435456:s=hc;break;default:s=wr}return u=Qv.bind(null,n),s=Fe(s,u),n.callbackPriority=i,n.callbackNode=s,i}return u!==null&&u!==null&&Ir(u),n.callbackPriority=2,n.callbackNode=null,2}function Qv(n,i){if(He!==0&&He!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Eh()&&n.callbackNode!==s)return null;var u=Pt;return u=Ri(n,n===ae?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Cv(n,u,i),Kv(n,dn()),n.callbackNode!=null&&n.callbackNode===s?Qv.bind(null,n):null)}function Yv(n,i){if(Eh())return null;Cv(n,i,!0)}function Fb(){eR(function(){(Kt&6)!==0?Fe(ol,jb):Gv()})}function Pm(){if(Jr===0){var n=Ws;n===0&&(n=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),Jr=n}return Jr}function Xv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:zs(""+n)}function $v(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function Hb(n,i,s,u,f){if(i==="submit"&&s&&s.stateNode===f){var m=Xv((f[Qe]||null).action),_=u.submitter;_&&(i=(i=_[Qe]||null)?Xv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var S=new Li("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Jr!==0){var D=_?$v(f,_):new FormData(f);em(s,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=_?$v(f,_):new FormData(f),em(s,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Lm=0;Lm<_d.length;Lm++){var Um=_d[Lm],Gb=Um.toLowerCase(),Kb=Um[0].toUpperCase()+Um.slice(1);mi(Gb,"on"+Kb)}mi(wy,"onAnimationEnd"),mi(Cy,"onAnimationIteration"),mi(Dy,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(lb,"onTransitionRun"),mi(ub,"onTransitionStart"),mi(cb,"onTransitionCancel"),mi(xy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Zv(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],f=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var _=u.length-1;0<=_;_--){var S=u[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=B;try{m(f)}catch($){Uc($)}f.currentTarget=null,m=D}else for(_=0;_<u.length;_++){if(S=u[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=B;try{m(f)}catch($){Uc($)}f.currentTarget=null,m=D}}}}function Mt(n,i){var s=i[Os];s===void 0&&(s=i[Os]=new Set);var u=n+"__bubble";s.has(u)||(Jv(i,n,2,!1),s.add(u))}function zm(n,i,s){var u=0;i&&(u|=4),Jv(s,n,u,i)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function km(n){if(!n[Ah]){n[Ah]=!0,hl.forEach(function(s){s!=="selectionchange"&&(Qb.has(s)||zm(s,!1,n),zm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ah]||(i[Ah]=!0,zm("selectionchange",!1,i))}}function Jv(n,i,s,u){switch(wE(i)){case 2:var f=TR;break;case 8:f=SR;break;default:f=tp}s=f.bind(null,i,s,n),f=void 0,!Ma||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function Bm(n,i,s,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Di(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=m=_;continue t}S=S.parentNode}}u=u.return}Or(function(){var B=m,$=Hn(s),W=[];t:{var F=Vy.get(n);if(F!==void 0){var Q=Li,mt=n;switch(n){case"keypress":if(La(s)===0)break t;case"keydown":case"keyup":Q=Mc;break;case"focusin":mt="focus",Q=za;break;case"focusout":mt="blur",Q=za;break;case"beforeblur":case"afterblur":Q=za;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case wy:case Cy:case Dy:Q=wc;break;case xy:Q=b;break;case"scroll":case"scrollend":Q=Al;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=er;break;case"toggle":case"beforetoggle":Q=Ct}var At=(i&4)!==0,re=!At&&(n==="scroll"||n==="scrollend"),P=At?F!==null?F+"Capture":null:F;At=[];for(var V=B,k;V!==null;){var J=V;if(k=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||k===null||P===null||(J=ci(V,P),J!=null&&At.push(tu(V,J,k))),re)break;V=V.return}0<At.length&&(F=new Q(F,mt,null,s,$),W.push({event:F,listeners:At}))}}if((i&7)===0){t:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&s!==El&&(mt=s.relatedTarget||s.fromElement)&&(Di(mt)||mt[wi]))break t;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(mt=s.relatedTarget||s.toElement,Q=B,mt=mt?Di(mt):null,mt!==null&&(re=l(mt),At=mt.tag,mt!==re||At!==5&&At!==27&&At!==6)&&(mt=null)):(Q=null,mt=B),Q!==mt)){if(At=bl,J="onMouseLeave",P="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(At=er,J="onPointerLeave",P="onPointerEnter",V="pointer"),re=Q==null?F:Dn(Q),k=mt==null?F:Dn(mt),F=new At(J,V+"leave",Q,s,$),F.target=re,F.relatedTarget=k,J=null,Di($)===B&&(At=new At(P,V+"enter",mt,s,$),At.target=k,At.relatedTarget=re,J=At),re=J,Q&&mt)e:{for(At=Yb,P=Q,V=mt,k=0,J=P;J;J=At(J))k++;J=0;for(var Et=V;Et;Et=At(Et))J++;for(;0<k-J;)P=At(P),k--;for(;0<J-k;)V=At(V),J--;for(;k--;){if(P===V||V!==null&&P===V.alternate){At=P;break e}P=At(P),V=At(V)}At=null}else At=null;Q!==null&&Wv(W,F,Q,At,!1),mt!==null&&re!==null&&Wv(W,re,mt,At,!0)}}t:{if(F=B?Dn(B):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Ft=gy;else if(my(F))if(yy)Ft=ab;else{Ft=ib;var yt=nb}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Us(B.elementType)&&(Ft=gy):Ft=rb;if(Ft&&(Ft=Ft(n,B))){py(W,Ft,s,$);break t}yt&&yt(n,F,B),n==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&yl(F,"number",F.value)}switch(yt=B?Dn(B):window,n){case"focusin":(my(yt)||yt.contentEditable==="true")&&(Gs=yt,pd=B,Dl=null);break;case"focusout":Dl=pd=Gs=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Ry(W,s,$);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Ry(W,s,$)}var Vt;if(Gt)t:{switch(n){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Hs?ka(n,s)&&(Lt="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(ki&&s.locale!=="ko"&&(Hs||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Hs&&(Vt=Sl()):(Pi=$,Tl="value"in Pi?Pi.value:Pi.textContent,Hs=!0)),yt=bh(B,Lt),0<yt.length&&(Lt=new zi(Lt,n,null,s,$),W.push({event:Lt,listeners:yt}),Vt?Lt.data=Vt:(Vt=Fs(s),Vt!==null&&(Lt.data=Vt)))),(Vt=Kn?JA(n,s):WA(n,s))&&(Lt=bh(B,"onBeforeInput"),0<Lt.length&&(yt=new zi("onBeforeInput","beforeinput",null,s,$),W.push({event:yt,listeners:Lt}),yt.data=Vt)),Hb(W,n,B,s,$)}Zv(W,i)})}function tu(n,i,s){return{instance:n,listener:i,currentTarget:s}}function bh(n,i){for(var s=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ci(n,s),f!=null&&u.unshift(tu(n,f,m)),f=ci(n,i),f!=null&&u.push(tu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function Yb(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wv(n,i,s,u,f){for(var m=i._reactName,_=[];s!==null&&s!==u;){var S=s,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||B===null||(D=B,f?(B=ci(s,m),B!=null&&_.unshift(tu(s,B,D))):f||(B=ci(s,m),B!=null&&_.push(tu(s,B,D)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function tE(n){return(typeof n=="string"?n:""+n).replace(Xb,`
`).replace($b,"")}function eE(n,i){return i=tE(i),tE(n)===i}function ie(n,i,s,u,f,m){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Tn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Tn(n,""+u);break;case"className":xn(n,"class",u);break;case"tabIndex":xn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(n,s,u);break;case"style":vl(n,u,m);break;case"data":if(i!=="object"){xn(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=zs(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&ie(n,i,"name",f.name,f,null),ie(n,i,"formEncType",f.formEncType,f,null),ie(n,i,"formMethod",f.formMethod,f,null),ie(n,i,"formTarget",f.formTarget,f,null)):(ie(n,i,"encType",f.encType,f,null),ie(n,i,"method",f.method,f,null),ie(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=zs(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=ui);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=zs(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Ps(n,"popover",u);break;case"xlinkActuate":Ne(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ne(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ne(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ne(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ne(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ne(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ne(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ne(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ne(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ps(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bc.get(s)||s,Ps(n,s,u))}}function qm(n,i,s,u,f,m){switch(s){case"style":vl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof u=="string"?Tn(n,u):(typeof u=="number"||typeof u=="bigint")&&Tn(n,""+u);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),m=n[Qe]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,u,f);break t}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Ps(n,s,u)}}}function an(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var u=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var _=s[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ie(n,i,m,_,s,null)}}f&&ie(n,i,"srcSet",s.srcSet,s,null),u&&ie(n,i,"src",s.src,s,null);return;case"input":Mt("invalid",n);var S=m=_=f=null,D=null,B=null;for(u in s)if(s.hasOwnProperty(u)){var $=s[u];if($!=null)switch(u){case"name":f=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":B=$;break;case"value":m=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:ie(n,i,u,$,s,null)}}Tc(n,m,S,D,B,_,f,!1);return;case"select":Mt("invalid",n),u=_=m=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:ie(n,i,f,S,s,null)}i=m,s=_,n.multiple=!!u,i!=null?Dr(n,!!u,i,!1):s!=null&&Dr(n,!!u,s,!0);return;case"textarea":Mt("invalid",n),m=f=u=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ie(n,i,_,S,s,null)}xr(n,u,f,m);return;case"option":for(D in s)s.hasOwnProperty(D)&&(u=s[D],u!=null)&&(D==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":ie(n,i,D,u,s,null));return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(u=0;u<Wl.length;u++)Mt(Wl[u],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(u=s[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ie(n,i,B,u,s,null)}return;default:if(Us(i)){for($ in s)s.hasOwnProperty($)&&(u=s[$],u!==void 0&&qm(n,i,$,u,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(u=s[S],u!=null&&ie(n,i,S,u,s,null))}function Zb(n,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,D=null,B=null,$=null;for(Q in s){var W=s[Q];if(s.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=W;default:u.hasOwnProperty(Q)||ie(n,i,Q,null,u,W)}}for(var F in u){var Q=u[F];if(W=s[F],u.hasOwnProperty(F)&&(Q!=null||W!=null))switch(F){case"type":m=Q;break;case"name":f=Q;break;case"checked":B=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==W&&ie(n,i,F,Q,u,W)}}Ls(n,_,S,D,B,$,m,f);return;case"select":Q=_=S=F=null;for(m in s)if(D=s[m],s.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(m)||ie(n,i,m,null,u,D)}for(f in u)if(m=u[f],D=s[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":F=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==D&&ie(n,i,f,m,u,D)}i=S,s=_,u=Q,F!=null?Dr(n,!!s,F,!1):!!u!=!!s&&(i!=null?Dr(n,!!s,i,!0):Dr(n,!!s,s?[]:"",!1));return;case"textarea":Q=F=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ie(n,i,S,null,u,f)}for(_ in u)if(f=u[_],m=s[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ie(n,i,_,f,u,m)}Sc(n,F,Q);return;case"option":for(var mt in s)F=s[mt],s.hasOwnProperty(mt)&&F!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?n.selected=!1:ie(n,i,mt,null,u,F));for(D in u)F=u[D],Q=s[D],u.hasOwnProperty(D)&&F!==Q&&(F!=null||Q!=null)&&(D==="selected"?n.selected=F&&typeof F!="function"&&typeof F!="symbol":ie(n,i,D,F,u,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)F=s[At],s.hasOwnProperty(At)&&F!=null&&!u.hasOwnProperty(At)&&ie(n,i,At,null,u,F);for(B in u)if(F=u[B],Q=s[B],u.hasOwnProperty(B)&&F!==Q&&(F!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:ie(n,i,B,F,u,Q)}return;default:if(Us(i)){for(var re in s)F=s[re],s.hasOwnProperty(re)&&F!==void 0&&!u.hasOwnProperty(re)&&qm(n,i,re,void 0,u,F);for($ in u)F=u[$],Q=s[$],!u.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||qm(n,i,$,F,u,Q);return}}for(var P in s)F=s[P],s.hasOwnProperty(P)&&F!=null&&!u.hasOwnProperty(P)&&ie(n,i,P,null,u,F);for(W in u)F=u[W],Q=s[W],!u.hasOwnProperty(W)||F===Q||F==null&&Q==null||ie(n,i,W,F,u,Q)}function nE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jb(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var f=s[u],m=f.transferSize,_=f.initiatorType,S=f.duration;if(m&&S&&nE(_)){for(_=0,S=f.responseEnd,u+=1;u<s.length;u++){var D=s[u],B=D.startTime;if(B>S)break;var $=D.transferSize,W=D.initiatorType;$&&nE(W)&&(D=D.responseEnd,_+=$*(D<S?1:(S-B)/(D-B)))}if(--u,i+=8*(m+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var jm=null,Fm=null;function Rh(n){return n.nodeType===9?n:n.ownerDocument}function iE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Hm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gm=null;function Wb(){var n=window.event;return n&&n.type==="popstate"?n===Gm?!1:(Gm=n,!0):(Gm=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(n){return sE.resolve(null).then(n).catch(nR)}:aE;function nR(n){setTimeout(function(){throw n})}function Wr(n){return n==="head"}function oE(n,i){var s=i,u=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(f),vo(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")eu(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,eu(s);for(var m=s.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=_}}else s==="body"&&eu(n.ownerDocument.body);s=f}while(s);vo(i)}function lE(n,i){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function Km(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Km(s),Ms(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function iR(n,i,s,u){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ci])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Wn(n.nextSibling),n===null)break}return null}function rR(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Wn(n.nextSibling),n===null))return null;return n}function uE(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Wn(n.nextSibling),n===null))return null;return n}function Qm(n){return n.data==="$?"||n.data==="$~"}function Ym(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aR(n,i){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Wn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Xm=null;function cE(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(i===0)return Wn(n.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}n=n.nextSibling}return null}function hE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return n;i--}else s!=="/$"&&s!=="/&"||i++}n=n.previousSibling}return null}function fE(n,i,s){switch(i=Rh(s),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function eu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ms(n)}var ti=new Map,dE=new Set;function Ih(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var gr=ut.d;ut.d={f:sR,r:oR,D:lR,C:uR,L:cR,m:hR,X:dR,S:fR,M:mR};function sR(){var n=gr.f(),i=yh();return n||i}function oR(n){var i=Fn(n);i!==null&&i.tag===5&&i.type==="form"?x_(i):gr.r(n)}var go=typeof document>"u"?null:document;function mE(n,i,s){var u=go;if(u&&typeof i=="string"&&i){var f=En(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),dE.has(f)||(dE.add(f),n={rel:n,crossOrigin:s,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),an(i,"link",n),Ve(i),u.head.appendChild(i)))}}function lR(n){gr.D(n),mE("dns-prefetch",n,null)}function uR(n,i){gr.C(n,i),mE("preconnect",n,i)}function cR(n,i,s){gr.L(n,i,s);var u=go;if(u&&n&&i){var f='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+En(s.imageSizes)+'"]')):f+='[href="'+En(n)+'"]';var m=f;switch(i){case"style":m=yo(n);break;case"script":m=_o(n)}ti.has(m)||(n=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),ti.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(nu(m))||i==="script"&&u.querySelector(iu(m))||(i=u.createElement("link"),an(i,"link",n),Ve(i),u.head.appendChild(i)))}}function hR(n,i){gr.m(n,i);var s=go;if(s&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_o(n)}if(!ti.has(m)&&(n=T({rel:"modulepreload",href:n},i),ti.set(m,n),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(iu(m)))return}u=s.createElement("link"),an(u,"link",n),Ve(u),s.head.appendChild(u)}}}function fR(n,i,s){gr.S(n,i,s);var u=go;if(u&&n){var f=xi(u).hoistableStyles,m=yo(n);i=i||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(nu(m)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},s),(s=ti.get(m))&&$m(n,s);var D=_=u.createElement("link");Ve(D),an(D,"link",n),D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function dR(n,i){gr.X(n,i);var s=go;if(s&&n){var u=xi(s).hoistableScripts,f=_o(n),m=u.get(f);m||(m=s.querySelector(iu(f)),m||(n=T({src:n,async:!0},i),(i=ti.get(f))&&Zm(n,i),m=s.createElement("script"),Ve(m),an(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function mR(n,i){gr.M(n,i);var s=go;if(s&&n){var u=xi(s).hoistableScripts,f=_o(n),m=u.get(f);m||(m=s.querySelector(iu(f)),m||(n=T({src:n,async:!0,type:"module"},i),(i=ti.get(f))&&Zm(n,i),m=s.createElement("script"),Ve(m),an(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function pE(n,i,s,u){var f=(f=xt.current)?Ih(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=yo(s.href),s=xi(f).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=yo(s.href);var m=xi(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(nu(n)))&&!m._p&&(_.instance=m,_.state.loading=5),ti.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ti.set(n,s),m||pR(f,n,s,_.state))),i&&u===null)throw Error(r(528,""));return _}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=_o(s),s=xi(f).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function yo(n){return'href="'+En(n)+'"'}function nu(n){return'link[rel="stylesheet"]['+n+"]"}function gE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function pR(n,i,s,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),an(i,"link",s),Ve(i),n.head.appendChild(i))}function _o(n){return'[src="'+En(n)+'"]'}function iu(n){return"script[async]"+n}function yE(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+En(s.href)+'"]');if(u)return i.instance=u,Ve(u),u;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ve(u),an(u,"style",f),wh(u,s.precedence,n),i.instance=u;case"stylesheet":f=yo(s.href);var m=n.querySelector(nu(f));if(m)return i.state.loading|=4,i.instance=m,Ve(m),m;u=gE(s),(f=ti.get(f))&&$m(u,f),m=(n.ownerDocument||n).createElement("link"),Ve(m);var _=m;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),an(m,"link",u),i.state.loading|=4,wh(m,s.precedence,n),i.instance=m;case"script":return m=_o(s.src),(f=n.querySelector(iu(m)))?(i.instance=f,Ve(f),f):(u=s,(f=ti.get(m))&&(u=T({},s),Zm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ve(f),an(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,wh(u,s.precedence,n));return i.instance}function wh(n,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===i)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function $m(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Zm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Ch=null;function _E(n,i,s){if(Ch===null){var u=new Map,f=Ch=new Map;f.set(s,u)}else f=Ch,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var m=s[f];if(!(m[Ci]||m[xe]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var S=u.get(_);S?S.push(m):u.set(_,[m])}}return u}function vE(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function gR(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function EE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function yR(n,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=yo(u.href),m=i.querySelector(nu(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Dh.bind(n),i.then(n,n)),s.state.loading|=4,s.instance=m,Ve(m);return}m=i.ownerDocument||i,u=gE(u),(f=ti.get(f))&&$m(u,f),m=m.createElement("link"),Ve(m);var _=m;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),an(m,"link",u),s.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Dh.bind(n),i.addEventListener("load",s),i.addEventListener("error",s))}}var Jm=0;function _R(n,i){return n.stylesheets&&n.count===0&&Vh(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&Jm===0&&(Jm=62500*Jb());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Jm?50:800)+i);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xh=null;function Vh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xh=new Map,i.forEach(vR,n),xh=null,Dh.call(n))}function vR(n,i){if(!(i.state.loading&4)){var s=xh.get(n);if(s)var u=s.get(null);else{s=new Map,xh.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),u=_)}u&&s.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),m=s.get(_)||u,m===u&&s.set(null,f),s.set(_,f),this.count++,u=Dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var ru={$$typeof:it,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function ER(n,i,s,u,f,m,_,S,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function TE(n,i,s,u,f,m,_,S,D,B,$,W){return n=new ER(n,i,s,_,D,B,$,W,S),i=1,m===!0&&(i|=24),m=Nn(3,null,null,i),n.current=m,m.stateNode=n,i=Vd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:i},Pd(m),n}function SE(n){return n?(n=Ys,n):Ys}function AE(n,i,s,u,f,m){f=SE(f),u.context===null?u.context=f:u.pendingContext=f,u=jr(i),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=Fr(n,u,i),s!==null&&(In(s,n,i),Ll(s,n,i))}function bE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Wm(n,i){bE(n,i),(n=n.alternate)&&bE(n,i)}function RE(n){if(n.tag===13||n.tag===31){var i=ja(n,67108864);i!==null&&In(i,n,67108864),Wm(n,67108864)}}function IE(n){if(n.tag===13||n.tag===31){var i=Un();i=xa(i);var s=ja(n,i);s!==null&&In(s,n,i),Wm(n,i)}}var Nh=!0;function TR(n,i,s,u){var f=Z.T;Z.T=null;var m=ut.p;try{ut.p=2,tp(n,i,s,u)}finally{ut.p=m,Z.T=f}}function SR(n,i,s,u){var f=Z.T;Z.T=null;var m=ut.p;try{ut.p=8,tp(n,i,s,u)}finally{ut.p=m,Z.T=f}}function tp(n,i,s,u){if(Nh){var f=ep(u);if(f===null)Bm(n,i,u,Oh,s),CE(n,u);else if(bR(f,n,i,s,u))u.stopPropagation();else if(CE(n,u),i&4&&-1<AR.indexOf(n)){for(;f!==null;){var m=Fn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=bi(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-Ae(_);S.entanglements[1]|=D,_&=~D}Fi(m),(Kt&6)===0&&(ph=dn()+500,Jl(0))}}break;case 31:case 13:S=ja(m,2),S!==null&&In(S,m,2),yh(),Wm(m,2)}if(m=ep(u),m===null&&Bm(n,i,u,Oh,s),m===f)break;f=m}f!==null&&u.stopPropagation()}else Bm(n,i,u,null,s)}}function ep(n){return n=Hn(n),np(n)}var Oh=null;function np(n){if(Oh=null,n=Di(n),n!==null){var i=l(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=c(i),n!==null)return n;n=null}else if(s===31){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Oh=n,null}function wE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ia()){case ol:return 2;case ll:return 8;case wr:case ld:return 32;case hc:return 268435456;default:return 32}default:return 32}}var ip=!1,ta=null,ea=null,na=null,au=new Map,su=new Map,ia=[],AR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(n,i){switch(n){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(i.pointerId)}}function ou(n,i,s,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Fn(i),i!==null&&RE(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function bR(n,i,s,u,f){switch(i){case"focusin":return ta=ou(ta,n,i,s,u,f),!0;case"dragenter":return ea=ou(ea,n,i,s,u,f),!0;case"mouseover":return na=ou(na,n,i,s,u,f),!0;case"pointerover":var m=f.pointerId;return au.set(m,ou(au.get(m)||null,n,i,s,u,f)),!0;case"gotpointercapture":return m=f.pointerId,su.set(m,ou(su.get(m)||null,n,i,s,u,f)),!0}return!1}function DE(n){var i=Di(n.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){n.blockedOn=i,oi(n.priority,function(){IE(s)});return}}else if(i===31){if(i=d(s),i!==null){n.blockedOn=i,oi(n.priority,function(){IE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=ep(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);El=u,s.target.dispatchEvent(u),El=null}else return i=Fn(s),i!==null&&RE(i),n.blockedOn=s,!1;i.shift()}return!0}function xE(n,i,s){Mh(n)&&s.delete(i)}function RR(){ip=!1,ta!==null&&Mh(ta)&&(ta=null),ea!==null&&Mh(ea)&&(ea=null),na!==null&&Mh(na)&&(na=null),au.forEach(xE),su.forEach(xE)}function Ph(n,i){n.blockedOn===i&&(n.blockedOn=null,ip||(ip=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,RR)))}var Lh=null;function VE(n){Lh!==n&&(Lh=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Lh===n&&(Lh=null);for(var i=0;i<n.length;i+=3){var s=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(np(u||s)===null)continue;break}var m=Fn(s);m!==null&&(n.splice(i,3),i-=3,em(m,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function vo(n){function i(D){return Ph(D,n)}ta!==null&&Ph(ta,n),ea!==null&&Ph(ea,n),na!==null&&Ph(na,n),au.forEach(i),su.forEach(i);for(var s=0;s<ia.length;s++){var u=ia[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ia.length&&(s=ia[0],s.blockedOn===null);)DE(s),s.blockedOn===null&&ia.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],m=s[u+1],_=f[Qe]||null;if(typeof m=="function")_||VE(s);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Qe]||null)S=_.formAction;else if(np(f)!==null)continue}else S=_.action;typeof S=="function"?s[u+1]=S:(s.splice(u,3),u-=3),VE(s)}}}function NE(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function rp(n){this._internalRoot=n}Uh.prototype.render=rp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,u=Un();AE(s,u,n,i,null,null)},Uh.prototype.unmount=rp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;AE(n.current,2,null,n,null,null),yh(),i[wi]=null}};function Uh(n){this._internalRoot=n}Uh.prototype.unstable_scheduleHydration=function(n){if(n){var i=yc();n={blockedOn:null,target:n,priority:i};for(var s=0;s<ia.length&&i!==0&&i<ia[s].priority;s++);ia.splice(s,0,n),s===0&&DE(n)}};var OE=t.version;if(OE!=="19.2.4")throw Error(r(527,OE,"19.2.4"));ut.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var IR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{ai=zh.inject(IR),We=zh}catch{}}return uu.createRoot=function(n,i){if(!o(n))throw Error(r(299));var s=!1,u="",f=B_,m=q_,_=j_;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=TE(n,1,!1,null,null,s,u,null,f,m,_,NE),n[wi]=i.current,km(n),new rp(i)},uu.hydrateRoot=function(n,i,s){if(!o(n))throw Error(r(299));var u=!1,f="",m=B_,_=q_,S=j_,D=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=TE(n,1,!0,i,s??null,u,f,D,m,_,S,NE),i.context=SE(null),s=i.current,u=Un(),u=xa(u),f=jr(u),f.callback=null,Fr(s,f,u),s=u,i.current.lanes=s,Ca(i,s),Fi(i),n[wi]=i.current,km(n),new Uh(i)},uu.version="19.2.4",uu}var FE;function UR(){if(FE)return op.exports;FE=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),op.exports=LR(),op.exports}var zR=UR();var HE="popstate";function kR(a={}){function t(o,l){let{pathname:c="/",search:d="",hash:p=""}=bs(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),xp("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Ou(l))}function r(o,l){ri(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return qR(t,e,r,a)}function pe(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function ri(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BR(){return Math.random().toString(36).substring(2,10)}function GE(a,t){return{usr:a.state,key:a.key,idx:t}}function xp(a,t,e=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?bs(t):t,state:e,key:t&&t.key||r||BR()}}function Ou({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function bs(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function qR(a,t,e,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let j=v(),nt=j==null?null:j-g;g=j,p&&p({action:d,location:K.location,delta:nt})}function A(j,nt){d="PUSH";let et=xp(K.location,j,nt);e&&e(et,j),g=v()+1;let it=GE(et,g),gt=K.createHref(et);try{c.pushState(it,"",gt)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(gt)}l&&p&&p({action:d,location:K.location,delta:1})}function x(j,nt){d="REPLACE";let et=xp(K.location,j,nt);e&&e(et,j),g=v();let it=GE(et,g),gt=K.createHref(et);c.replaceState(it,"",gt),l&&p&&p({action:d,location:K.location,delta:0})}function H(j){return jR(j)}let K={get action(){return d},get location(){return a(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(HE,T),p=j,()=>{o.removeEventListener(HE,T),p=null}},createHref(j){return t(o,j)},createURL:H,encodeLocation(j){let nt=H(j);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:A,replace:x,go(j){return c.go(j)}};return K}function jR(a,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pe(e,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Ou(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function UT(a,t,e="/"){return FR(a,t,e,!1)}function FR(a,t,e,r){let o=typeof t=="string"?bs(t):t,l=vr(o.pathname||"/",e);if(l==null)return null;let c=zT(a);HR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=eI(l);d=WR(c[p],g,r)}return d}function zT(a,t=[],e=[],r="",o=!1){let l=(c,d,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;pe(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=_r([r,v.relativePath]),A=e.concat(v);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),zT(c.children,t,A,T,p)),!(c.path==null&&!c.index)&&t.push({path:T,score:ZR(T,c.index),routesMeta:A})};return a.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of kT(c.path))l(c,d,!0,p)}),t}function kT(a){let t=a.split("/");if(t.length===0)return[];let[e,...r]=t,o=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=kT(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>a.startsWith("/")&&p===""?"/":p)}function HR(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:JR(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var GR=/^:[\w-]+$/,KR=3,QR=2,YR=1,XR=10,$R=-2,KE=a=>a==="*";function ZR(a,t){let e=a.split("/"),r=e.length;return e.some(KE)&&(r+=$R),t&&(r+=QR),e.filter(o=>!KE(o)).reduce((o,l)=>o+(GR.test(l)?KR:l===""?YR:XR),r)}function JR(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function WR(a,t,e=!1){let{routesMeta:r}=a,o={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,v=l==="/"?t:t.slice(l.length)||"/",T=ff({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!T&&g&&e&&!r[r.length-1].route.index&&(T=ff({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:_r([l,T.pathname]),pathnameBase:aI(_r([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=_r([l,T.pathnameBase]))}return c}function ff(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,r]=tI(a.path,a.caseSensitive,a.end),o=t.match(e);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:T},A)=>{if(v==="*"){let H=d[A]||"";c=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const x=d[A];return T&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:a}}function tI(a,t=!1,e=!0){ri(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function eI(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ri(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function vr(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=a.charAt(e);return r&&r!=="/"?null:a.slice(e)||"/"}var nI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function iI(a,t="/"){let{pathname:e,search:r="",hash:o=""}=typeof a=="string"?bs(a):a,l;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?l=QE(e.substring(1),"/"):l=QE(e,t)):l=t,{pathname:l,search:sI(r),hash:oI(o)}}function QE(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function hp(a,t,e,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rI(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function gg(a){let t=rI(a);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function yg(a,t,e,r=!1){let o;typeof a=="string"?o=bs(a):(o={...a},pe(!o.pathname||!o.pathname.includes("?"),hp("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),hp("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),hp("#","search","hash",o)));let l=a===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=e;else{let T=t.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}d=T>=0?t[T]:"/"}let p=iI(o,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var _r=a=>a.join("/").replace(/\/\/+/g,"/"),aI=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),sI=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,oI=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,lI=class{constructor(a,t,e,r=!1){this.status=a,this.statusText=t||"",this.internal=r,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function uI(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function cI(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var BT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qT(a,t){let e=a;if(typeof e!="string"||!nI.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let r=e,o=!1;if(BT)try{let l=new URL(window.location.href),c=e.startsWith("//")?new URL(l.protocol+e):new URL(e),d=vr(c.pathname,t);c.origin===l.origin&&d!=null?e=d+c.search+c.hash:o=!0}catch{ri(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jT=["POST","PUT","PATCH","DELETE"];new Set(jT);var hI=["GET",...jT];new Set(hI);var Zo=q.createContext(null);Zo.displayName="DataRouter";var Nf=q.createContext(null);Nf.displayName="DataRouterState";var fI=q.createContext(!1),FT=q.createContext({isTransitioning:!1});FT.displayName="ViewTransition";var dI=q.createContext(new Map);dI.displayName="Fetchers";var mI=q.createContext(null);mI.displayName="Await";var qn=q.createContext(null);qn.displayName="Navigation";var $u=q.createContext(null);$u.displayName="Location";var Ti=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var _g=q.createContext(null);_g.displayName="RouteError";var HT="REACT_ROUTER_ERROR",pI="REDIRECT",gI="ROUTE_ERROR_RESPONSE";function yI(a){if(a.startsWith(`${HT}:${pI}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _I(a){if(a.startsWith(`${HT}:${gI}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new lI(t.status,t.statusText,t.data)}catch{}}function vI(a,{relative:t}={}){pe(Jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=q.useContext(qn),{hash:o,pathname:l,search:c}=Zu(a,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:_r([e,l])),r.createHref({pathname:d,search:c,hash:o})}function Jo(){return q.useContext($u)!=null}function Ar(){return pe(Jo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext($u).location}var GT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KT(a){q.useContext(qn).static||q.useLayoutEffect(a)}function QT(){let{isDataRoute:a}=q.useContext(Ti);return a?NI():EI()}function EI(){pe(Jo(),"useNavigate() may be used only in the context of a <Router> component.");let a=q.useContext(Zo),{basename:t,navigator:e}=q.useContext(qn),{matches:r}=q.useContext(Ti),{pathname:o}=Ar(),l=JSON.stringify(gg(r)),c=q.useRef(!1);return KT(()=>{c.current=!0}),q.useCallback((p,g={})=>{if(ri(c.current,GT),!c.current)return;if(typeof p=="number"){e.go(p);return}let v=yg(p,JSON.parse(l),o,g.relative==="path");a==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:_r([t,v.pathname])),(g.replace?e.replace:e.push)(v,g.state,g)},[t,e,l,o,a])}q.createContext(null);function KO(){let{matches:a}=q.useContext(Ti),t=a[a.length-1];return t?t.params:{}}function Zu(a,{relative:t}={}){let{matches:e}=q.useContext(Ti),{pathname:r}=Ar(),o=JSON.stringify(gg(e));return q.useMemo(()=>yg(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function TI(a,t){return YT(a,t)}function YT(a,t,e,r,o){pe(Jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=q.useContext(qn),{matches:c}=q.useContext(Ti),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let et=T&&T.path||"";$T(g,!T||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let A=Ar(),x;if(t){let et=typeof t=="string"?bs(t):t;pe(v==="/"||et.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${et.pathname}" was given in the \`location\` prop.`),x=et}else x=A;let H=x.pathname||"/",K=H;if(v!=="/"){let et=v.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(et.length).join("/")}let j=UT(a,{pathname:K});ri(T||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ri(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=II(j&&j.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:_r([v,l.encodeLocation?l.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?v:_r([v,l.encodeLocation?l.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),c,e,r,o);return t&&nt?q.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},nt):nt}function SI(){let a=VI(),t=uI(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:o},e):null,c)}var AI=q.createElement(SI,null),XT=class extends q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const e=_I(a.digest);e&&(a=e)}let t=a!==void 0?q.createElement(Ti.Provider,{value:this.props.routeContext},q.createElement(_g.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?q.createElement(bI,{error:a},t):t}};XT.contextType=fI;var fp=new WeakMap;function bI({children:a,error:t}){let{basename:e}=q.useContext(qn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=yI(t.digest);if(r){let o=fp.get(t);if(o)throw o;let l=qT(r.location,e);if(BT&&!fp.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw fp.set(t,c),c}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return a}function RI({routeContext:a,match:t,children:e}){let r=q.useContext(Zo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Ti.Provider,{value:a},e)}function II(a,t=[],e=null,r=null,o=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let l=a,c=e?.errors;if(c!=null){let v=l.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);pe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(e)for(let v=0;v<l.length;v++){let T=l[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:A,errors:x}=e,H=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||H){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=e&&r?(v,T)=>{r(v,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:cI(e.matches),errorInfo:T})}:void 0;return l.reduceRight((v,T,A)=>{let x,H=!1,K=null,j=null;e&&(x=c&&T.route.id?c[T.route.id]:void 0,K=T.route.errorElement||AI,d&&(p<0&&A===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,j=null):p===A&&(H=!0,j=T.route.hydrateFallbackElement||null)));let nt=t.concat(l.slice(0,A+1)),et=()=>{let it;return x?it=K:H?it=j:T.route.Component?it=q.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=v,q.createElement(RI,{match:T,routeContext:{outlet:v,matches:nt,isDataRoute:e!=null},children:it})};return e&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?q.createElement(XT,{location:e.location,revalidation:e.revalidation,component:K,error:x,children:et(),routeContext:{outlet:null,matches:nt,isDataRoute:!0},onError:g}):et()},null)}function vg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wI(a){let t=q.useContext(Zo);return pe(t,vg(a)),t}function CI(a){let t=q.useContext(Nf);return pe(t,vg(a)),t}function DI(a){let t=q.useContext(Ti);return pe(t,vg(a)),t}function Eg(a){let t=DI(a),e=t.matches[t.matches.length-1];return pe(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function xI(){return Eg("useRouteId")}function VI(){let a=q.useContext(_g),t=CI("useRouteError"),e=Eg("useRouteError");return a!==void 0?a:t.errors?.[e]}function NI(){let{router:a}=wI("useNavigate"),t=Eg("useNavigate"),e=q.useRef(!1);return KT(()=>{e.current=!0}),q.useCallback(async(o,l={})=>{ri(e.current,GT),e.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:t,...l}))},[a,t])}var YE={};function $T(a,t,e){!t&&!YE[a]&&(YE[a]=!0,ri(!1,e))}q.memo(OI);function OI({routes:a,future:t,state:e,onError:r}){return YT(a,void 0,e,r,t)}function Vp({to:a,replace:t,state:e,relative:r}){pe(Jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(qn);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=q.useContext(Ti),{pathname:c}=Ar(),d=QT(),p=yg(a,gg(l),c,r==="path"),g=JSON.stringify(p);return q.useEffect(()=>{d(JSON.parse(g),{replace:t,state:e,relative:r})},[d,g,r,t,e]),null}function Ue(a){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MI({basename:a="/",children:t=null,location:e,navigationType:r="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){pe(!Jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof e=="string"&&(e=bs(e));let{pathname:g="/",search:v="",hash:T="",state:A=null,key:x="default"}=e,H=q.useMemo(()=>{let K=vr(g,d);return K==null?null:{location:{pathname:K,search:v,hash:T,state:A,key:x},navigationType:r}},[d,g,v,T,A,x,r]);return ri(H!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:q.createElement(qn.Provider,{value:p},q.createElement($u.Provider,{children:t,value:H}))}function PI({children:a,location:t}){return TI(Np(a),t)}function Np(a,t=[]){let e=[];return q.Children.forEach(a,(r,o)=>{if(!q.isValidElement(r))return;let l=[...t,o];if(r.type===q.Fragment){e.push.apply(e,Np(r.props.children,l));return}pe(r.type===Ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Np(r.props.children,l)),e.push(c)}),e}var Zh="get",Jh="application/x-www-form-urlencoded";function Of(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function LI(a){return Of(a)&&a.tagName.toLowerCase()==="button"}function UI(a){return Of(a)&&a.tagName.toLowerCase()==="form"}function zI(a){return Of(a)&&a.tagName.toLowerCase()==="input"}function kI(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function BI(a,t){return a.button===0&&(!t||t==="_self")&&!kI(a)}var Bh=null;function qI(){if(Bh===null)try{new FormData(document.createElement("form"),0),Bh=!1}catch{Bh=!0}return Bh}var jI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dp(a){return a!=null&&!jI.has(a)?(ri(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jh}"`),null):a}function FI(a,t){let e,r,o,l,c;if(UI(a)){let d=a.getAttribute("action");r=d?vr(d,t):null,e=a.getAttribute("method")||Zh,o=dp(a.getAttribute("enctype"))||Jh,l=new FormData(a)}else if(LI(a)||zI(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||d.getAttribute("action");if(r=p?vr(p,t):null,e=a.getAttribute("formmethod")||d.getAttribute("method")||Zh,o=dp(a.getAttribute("formenctype"))||dp(d.getAttribute("enctype"))||Jh,l=new FormData(d,a),!qI()){let{name:g,type:v,value:T}=a;if(v==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,T)}}else{if(Of(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Zh,r=null,o=Jh,c=a}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:e.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function HI(a,t,e,r){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:t&&vr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function GI(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KI(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function QI(a,t,e){let r=await Promise.all(a.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await GI(l,e);return c.links?c.links():[]}return[]}));return ZI(r.flat(1).filter(KI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function XE(a,t,e,r,o,l){let c=(p,g)=>e[g]?p.route.id!==e[g].route.id:!0,d=(p,g)=>e[g].pathname!==p.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function YI(a,t,{includeHydrateFallback:e}={}){return XI(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function XI(a){return[...new Set(a)]}function $I(a){let t={},e=Object.keys(a).sort();for(let r of e)t[r]=a[r];return t}function ZI(a,t){let e=new Set;return new Set(t),a.reduce((r,o)=>{let l=JSON.stringify($I(o));return e.has(l)||(e.add(l),r.push({key:l,link:o})),r},[])}function ZT(){let a=q.useContext(Zo);return Tg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function JI(){let a=q.useContext(Nf);return Tg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Sg=q.createContext(void 0);Sg.displayName="FrameworkContext";function JT(){let a=q.useContext(Sg);return Tg(a,"You must render this element inside a <HydratedRouter> element"),a}function WI(a,t){let e=q.useContext(Sg),[r,o]=q.useState(!1),[l,c]=q.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,A=q.useRef(null);q.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let K=nt=>{nt.forEach(et=>{c(et.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[a]),q.useEffect(()=>{if(r){let K=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(K)}}},[r]);let x=()=>{o(!0)},H=()=>{o(!1),c(!1)};return e?a!=="intent"?[l,A,{}]:[l,A,{onFocus:cu(d,x),onBlur:cu(p,H),onMouseEnter:cu(g,x),onMouseLeave:cu(v,H),onTouchStart:cu(T,x)}]:[!1,A,{}]}function cu(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function tw({page:a,...t}){let{router:e}=ZT(),r=q.useMemo(()=>UT(e.routes,a,e.basename),[e.routes,a,e.basename]);return r?q.createElement(nw,{page:a,matches:r,...t}):null}function ew(a){let{manifest:t,routeModules:e}=JT(),[r,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return QI(a,t,e).then(c=>{l||o(c)}),()=>{l=!0}},[a,t,e]),r}function nw({page:a,matches:t,...e}){let r=Ar(),{future:o,manifest:l,routeModules:c}=JT(),{basename:d}=ZT(),{loaderData:p,matches:g}=JI(),v=q.useMemo(()=>XE(a,t,g,l,r,"data"),[a,t,g,l,r]),T=q.useMemo(()=>XE(a,t,g,l,r,"assets"),[a,t,g,l,r]),A=q.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let K=new Set,j=!1;if(t.forEach(et=>{let it=l.routes[et.route.id];!it||!it.hasLoader||(!v.some(gt=>gt.route.id===et.route.id)&&et.route.id in p&&c[et.route.id]?.shouldRevalidate||it.hasClientLoader?j=!0:K.add(et.route.id))}),K.size===0)return[];let nt=HI(a,d,o.unstable_trailingSlashAwareDataRequests,"data");return j&&K.size>0&&nt.searchParams.set("_routes",t.filter(et=>K.has(et.route.id)).map(et=>et.route.id).join(",")),[nt.pathname+nt.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,r,l,v,t,a,c]),x=q.useMemo(()=>YI(T,l),[T,l]),H=ew(T);return q.createElement(q.Fragment,null,A.map(K=>q.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...e})),x.map(K=>q.createElement("link",{key:K,rel:"modulepreload",href:K,...e})),H.map(({key:K,link:j})=>q.createElement("link",{key:K,nonce:e.nonce,...j,crossOrigin:j.crossOrigin??e.crossOrigin})))}function iw(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rw&&(window.__reactRouterVersion="7.13.0")}catch{}function aw({basename:a,children:t,unstable_useTransitions:e,window:r}){let o=q.useRef();o.current==null&&(o.current=kR({window:r,v5Compat:!0}));let l=o.current,[c,d]=q.useState({action:l.action,location:l.location}),p=q.useCallback(g=>{e===!1?d(g):q.startTransition(()=>d(g))},[e]);return q.useLayoutEffect(()=>l.listen(p),[l,p]),q.createElement(MI,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:e})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tS=q.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:A,...x},H){let{basename:K,unstable_useTransitions:j}=q.useContext(qn),nt=typeof g=="string"&&WT.test(g),et=qT(g,K);g=et.to;let it=vI(g,{relative:o}),[gt,dt,vt]=WI(r,x),I=lw(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:j});function R(M){t&&t(M),M.defaultPrevented||I(M)}let w=q.createElement("a",{...x,...vt,href:et.absoluteURL||it,onClick:et.isExternal||l?t:R,ref:iw(H,dt),target:p,"data-discover":!nt&&e==="render"?"true":void 0});return gt&&!nt?q.createElement(q.Fragment,null,w,q.createElement(tw,{page:it})):w});tS.displayName="Link";var eS=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let T=Zu(c,{relative:g.relative}),A=Ar(),x=q.useContext(Nf),{navigator:H,basename:K}=q.useContext(qn),j=x!=null&&dw(T)&&d===!0,nt=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,et=A.pathname,it=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(et=et.toLowerCase(),it=it?it.toLowerCase():null,nt=nt.toLowerCase()),it&&K&&(it=vr(it,K)||it);const gt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let dt=et===nt||!o&&et.startsWith(nt)&&et.charAt(gt)==="/",vt=it!=null&&(it===nt||!o&&it.startsWith(nt)&&it.charAt(nt.length)==="/"),I={isActive:dt,isPending:vt,isTransitioning:j},R=dt?t:void 0,w;typeof r=="function"?w=r(I):w=[r,dt?"active":null,vt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(I):l;return q.createElement(tS,{...g,"aria-current":R,className:w,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(I):p)});eS.displayName="NavLink";var sw=q.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:o,state:l,method:c=Zh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:A,...x},H)=>{let{unstable_useTransitions:K}=q.useContext(qn),j=hw(),nt=fw(d,{relative:g}),et=c.toLowerCase()==="get"?"get":"post",it=typeof d=="string"&&WT.test(d),gt=dt=>{if(p&&p(dt),dt.defaultPrevented)return;dt.preventDefault();let vt=dt.nativeEvent.submitter,I=vt?.getAttribute("formmethod")||c,R=()=>j(vt||dt.currentTarget,{fetcherKey:t,method:I,navigate:e,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:A});K&&e!==!1?q.startTransition(()=>R()):R()};return q.createElement("form",{ref:H,method:et,action:nt,onSubmit:r?p:gt,...x,"data-discover":!it&&a==="render"?"true":void 0})});sw.displayName="Form";function ow(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(a){let t=q.useContext(Zo);return pe(t,ow(a)),t}function lw(a,{target:t,replace:e,state:r,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=QT(),v=Ar(),T=Zu(a,{relative:l});return q.useCallback(A=>{if(BI(A,t)){A.preventDefault();let x=e!==void 0?e:Ou(v)===Ou(T),H=()=>g(a,{replace:x,state:r,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?q.startTransition(()=>H()):H()}},[v,g,T,e,r,t,a,o,l,c,d,p])}var uw=0,cw=()=>`__${String(++uw)}__`;function hw(){let{router:a}=nS("useSubmit"),{basename:t}=q.useContext(qn),e=xI(),r=a.fetch,o=a.navigate;return q.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:T}=FI(l,t);if(c.navigate===!1){let A=c.fetcherKey||cw();await r(A,e,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,t,e])}function fw(a,{relative:t}={}){let{basename:e}=q.useContext(qn),r=q.useContext(Ti);pe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Zu(a||".",{relative:t})},c=Ar();if(a==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:_r([e,l.pathname])),Ou(l)}function dw(a,{relative:t}={}){let e=q.useContext(FT);pe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nS("useViewTransitionState"),o=Zu(a,{relative:t});if(!e.isTransitioning)return!1;let l=vr(e.currentLocation.pathname,r)||e.currentLocation.pathname,c=vr(e.nextLocation.pathname,r)||e.nextLocation.pathname;return ff(o.pathname,c)!=null||ff(o.pathname,l)!=null}const mw="modulepreload",pw=function(a){return"/Sistema_ISP/"+a},$E={},Ge=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(e.map(g=>{if(g=pw(g),g in $E)return;$E[g]=!0;const v=g.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":mw,v||(A.as="script"),A.crossOrigin="",A.href=g,d&&A.setAttribute("nonce",d),document.head.appendChild(A),v)return new Promise((x,H)=>{A.addEventListener("load",x),A.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},ZE=a=>{let t;const e=new Set,r=(g,v)=>{const T=typeof g=="function"?g(t):g;if(!Object.is(T,t)){const A=t;t=v??(typeof T!="object"||T===null)?T:Object.assign({},t,T),e.forEach(x=>x(t,A))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>p,subscribe:g=>(e.add(g),()=>e.delete(g))},p=t=a(r,o,d);return d},gw=(a=>a?ZE(a):ZE),yw=a=>a;function _w(a,t=yw){const e=kh.useSyncExternalStore(a.subscribe,kh.useCallback(()=>t(a.getState()),[a,t]),kh.useCallback(()=>t(a.getInitialState()),[a,t]));return kh.useDebugValue(e),e}const JE=a=>{const t=gw(a),e=r=>_w(t,r);return Object.assign(e,t),e},iS=(a=>a?JE(a):JE),vw=()=>{};var WE={};const rS=function(a){const t=[];let e=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Ew=function(a){const t=[];let e=0,r=0;for(;e<a.length;){const o=a[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=a[e++];t[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=a[e++],c=a[e++],d=a[e++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const l=a[e++],c=a[e++];t[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const l=a[o],c=o+1<a.length,d=c?a[o+1]:0,p=o+2<a.length,g=p?a[o+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(A=64)),r.push(e[v],e[T],e[A],e[x])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(rS(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):Ew(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const l=e[a.charAt(o++)],d=o<a.length?e[a.charAt(o)]:0;++o;const g=o<a.length?e[a.charAt(o)]:64;++o;const T=o<a.length?e[a.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new Tw;const A=l<<2|d>>4;if(r.push(A),g!==64){const x=d<<4&240|g>>2;if(r.push(x),T!==64){const H=g<<6&192|T;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sw=function(a){const t=rS(a);return aS.encodeByteArray(t,!0)},sS=function(a){return Sw(a).replace(/\./g,"")},Aw=function(a){try{return aS.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bw=()=>oS().__FIREBASE_DEFAULTS__,Rw=()=>{if(typeof process>"u"||typeof WE>"u")return;const a=WE.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Iw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Aw(a[1]);return t&&JSON.parse(t)},Mf=()=>{try{return vw()||bw()||Rw()||Iw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},QO=a=>Mf()?.emulatorHosts?.[a],lS=()=>Mf()?.config,YO=a=>Mf()?.[`_${a}`];class ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Ag(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cw(a){return(await fetch(a,{credentials:"include"})).ok}const Au={};function Dw(){const a={prod:[],emulator:[]};for(const t of Object.keys(Au))Au[t]?a.emulator.push(t):a.prod.push(t);return a}function xw(a){let t=document.getElementById(a),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),e=!0),{created:e,element:t}}let t0=!1;function XO(a,t){if(typeof window>"u"||typeof document>"u"||!Ag(window.location.host)||Au[a]===t||Au[a]||t0)return;Au[a]=t;function e(A){return`__firebase__banner__${A}`}const r="__firebase__banner",l=Dw().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{t0=!0,c()},A}function v(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=xw(r),x=e("text"),H=document.getElementById(x)||document.createElement("span"),K=e("learnmore"),j=document.getElementById(K)||document.createElement("a"),nt=e("preprendIcon"),et=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const it=A.element;d(it),v(j,K);const gt=g();p(et,nt),it.append(et,H,j,gt),document.body.appendChild(it)}l?(H.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Uo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Uo())}function uS(){const a=Mf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JO(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function WO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t4(){const a=Uo();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function cS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){return!uS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function Vw(){return new Promise((a,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const Nw="FirebaseError";class Wo extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Nw,Object.setPrototypeOf(this,Wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dS.prototype.create)}}class dS{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?Ow(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Wo(o,d,r)}}function Ow(a,t){return a.replace(Mw,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Mw=/\{\$([^}]+)}/g;function e4(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function df(a,t){if(a===t)return!0;const e=Object.keys(a),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const l=a[o],c=t[o];if(e0(l)&&e0(c)){if(!df(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function e0(a){return a!==null&&typeof a=="object"}function n4(a){const t=[];for(const[e,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function i4(a){const t={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function r4(a){const t=a.indexOf("?");if(!t)return"";const e=a.indexOf("#",t);return a.substring(t,e>0?e:void 0)}function a4(a,t){const e=new Pw(a,t);return e.subscribe.bind(e)}class Pw{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");Lw(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=mp),o.error===void 0&&(o.error=mp),o.complete===void 0&&(o.complete=mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lw(a,t){if(typeof a!="object"||a===null)return!1;for(const e of t)if(e in a&&typeof a[e]=="function")return!0;return!1}function mp(){}function vi(a){return a&&a._delegate?a._delegate:a}class Mu{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class Uw{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new ww;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kw(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&t(l,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zw(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zw(a){return a===is?void 0:a}function kw(a){return a.instantiationMode==="EAGER"}class Bw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Uw(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var qt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qt||(qt={}));const qw={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},jw=qt.INFO,Fw={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},Hw=(a,t,...e)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=Fw[t];if(o)console[o](`[${r}]  ${a.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mS{constructor(t){this.name=t,this._logLevel=jw,this._logHandler=Hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const Gw=(a,t)=>t.some(e=>a instanceof e);let n0,i0;function Kw(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qw(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,Op=new WeakMap,gS=new WeakMap,pp=new WeakMap,bg=new WeakMap;function Yw(a){const t=new Promise((e,r)=>{const o=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{e(ha(a.result)),o()},c=()=>{r(a.error),o()};a.addEventListener("success",l),a.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&pS.set(e,a)}).catch(()=>{}),bg.set(t,a),t}function Xw(a){if(Op.has(a))return;const t=new Promise((e,r)=>{const o=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{e(),o()},c=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});Op.set(a,t)}let Mp={get(a,t,e){if(a instanceof IDBTransaction){if(t==="done")return Op.get(a);if(t==="objectStoreNames")return a.objectStoreNames||gS.get(a);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ha(a[t])},set(a,t,e){return a[t]=e,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function $w(a){Mp=a(Mp)}function Zw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=a.call(gp(this),t,...e);return gS.set(r,t.sort?t.sort():[t]),ha(r)}:Qw().includes(a)?function(...t){return a.apply(gp(this),t),ha(pS.get(this))}:function(...t){return ha(a.apply(gp(this),t))}}function Jw(a){return typeof a=="function"?Zw(a):(a instanceof IDBTransaction&&Xw(a),Gw(a,Kw())?new Proxy(a,Mp):a)}function ha(a){if(a instanceof IDBRequest)return Yw(a);if(pp.has(a))return pp.get(a);const t=Jw(a);return t!==a&&(pp.set(a,t),bg.set(t,a)),t}const gp=a=>bg.get(a);function Ww(a,t,{blocked:e,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(a,t),d=ha(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ha(c.result),p.oldVersion,p.newVersion,ha(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const t2=["get","getKey","getAll","getAllKeys","count"],e2=["put","add","delete","clear"],yp=new Map;function r0(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(yp.get(t))return yp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=e2.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||t2.includes(e)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return yp.set(t,l),l}$w(a=>({...a,get:(t,e,r)=>r0(t,e)||a.get(t,e,r),has:(t,e)=>!!r0(t,e)||a.has(t,e)}));class n2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(i2(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function i2(a){return a.getComponent()?.type==="VERSION"}const Pp="@firebase/app",a0="0.14.8";const Er=new mS("@firebase/app"),r2="@firebase/app-compat",a2="@firebase/analytics-compat",s2="@firebase/analytics",o2="@firebase/app-check-compat",l2="@firebase/app-check",u2="@firebase/auth",c2="@firebase/auth-compat",h2="@firebase/database",f2="@firebase/data-connect",d2="@firebase/database-compat",m2="@firebase/functions",p2="@firebase/functions-compat",g2="@firebase/installations",y2="@firebase/installations-compat",_2="@firebase/messaging",v2="@firebase/messaging-compat",E2="@firebase/performance",T2="@firebase/performance-compat",S2="@firebase/remote-config",A2="@firebase/remote-config-compat",b2="@firebase/storage",R2="@firebase/storage-compat",I2="@firebase/firestore",w2="@firebase/ai",C2="@firebase/firestore-compat",D2="firebase",x2="12.9.0";const Lp="[DEFAULT]",V2={[Pp]:"fire-core",[r2]:"fire-core-compat",[s2]:"fire-analytics",[a2]:"fire-analytics-compat",[l2]:"fire-app-check",[o2]:"fire-app-check-compat",[u2]:"fire-auth",[c2]:"fire-auth-compat",[h2]:"fire-rtdb",[f2]:"fire-data-connect",[d2]:"fire-rtdb-compat",[m2]:"fire-fn",[p2]:"fire-fn-compat",[g2]:"fire-iid",[y2]:"fire-iid-compat",[_2]:"fire-fcm",[v2]:"fire-fcm-compat",[E2]:"fire-perf",[T2]:"fire-perf-compat",[S2]:"fire-rc",[A2]:"fire-rc-compat",[b2]:"fire-gcs",[R2]:"fire-gcs-compat",[I2]:"fire-fst",[C2]:"fire-fst-compat",[w2]:"fire-vertex","fire-js":"fire-js",[D2]:"fire-js-all"};const mf=new Map,N2=new Map,Up=new Map;function s0(a,t){try{a.container.addComponent(t)}catch(e){Er.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,e)}}function pf(a){const t=a.name;if(Up.has(t))return Er.debug(`There were multiple attempts to register component ${t}.`),!1;Up.set(t,a);for(const e of mf.values())s0(e,a);for(const e of N2.values())s0(e,a);return!0}function O2(a,t){const e=a.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),a.container.getProvider(t)}function M2(a){return a==null?!1:a.settings!==void 0}const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new dS("app","Firebase",P2);class L2{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const U2=x2;function yS(a,t={}){let e=a;typeof t!="object"&&(t={name:t});const r={name:Lp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(e||(e=lS()),!e)throw fa.create("no-options");const l=mf.get(o);if(l){if(df(e,l.options)&&df(r,l.config))return l;throw fa.create("duplicate-app",{appName:o})}const c=new Bw(o);for(const p of Up.values())c.addComponent(p);const d=new L2(e,r,c);return mf.set(o,d),d}function s4(a=Lp){const t=mf.get(a);if(!t&&a===Lp&&lS())return yS();if(!t)throw fa.create("no-app",{appName:a});return t}function Oo(a,t,e){let r=V2[a]??a;e&&(r+=`-${e}`);const o=r.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Er.warn(c.join(" "));return}pf(new Mu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const z2="firebase-heartbeat-database",k2=1,Pu="firebase-heartbeat-store";let _p=null;function _S(){return _p||(_p=Ww(z2,k2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Pu)}catch(e){console.warn(e)}}}}).catch(a=>{throw fa.create("idb-open",{originalErrorMessage:a.message})})),_p}async function B2(a){try{const e=(await _S()).transaction(Pu),r=await e.objectStore(Pu).get(vS(a));return await e.done,r}catch(t){if(t instanceof Wo)Er.warn(t.message);else{const e=fa.create("idb-get",{originalErrorMessage:t?.message});Er.warn(e.message)}}}async function o0(a,t){try{const r=(await _S()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(t,vS(a)),await r.done}catch(e){if(e instanceof Wo)Er.warn(e.message);else{const r=fa.create("idb-set",{originalErrorMessage:e?.message});Er.warn(r.message)}}}function vS(a){return`${a.name}!${a.options.appId}`}const q2=1024,j2=30;class F2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new G2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>j2){const o=K2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l0(),{heartbeatsToSend:e,unsentEntries:r}=H2(this._heartbeatsCache.heartbeats),o=sS(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Er.warn(t),""}}}function l0(){return new Date().toISOString().substring(0,10)}function H2(a,t=q2){const e=[];let r=a.slice();for(const o of a){const l=e.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),u0(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),u0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class G2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?Vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await B2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function u0(a){return sS(JSON.stringify({version:2,heartbeats:a})).length}function K2(a){if(a.length===0)return-1;let t=0,e=a[0].date;for(let r=1;r<a.length;r++)a[r].date<e&&(e=a[r].date,t=r);return t}function Q2(a){pf(new Mu("platform-logger",t=>new n2(t),"PRIVATE")),pf(new Mu("heartbeat",t=>new F2(t),"PRIVATE")),Oo(Pp,a0,a),Oo(Pp,a0,"esm2020"),Oo("fire-js","")}Q2("");var Y2="firebase",X2="12.9.0";Oo(Y2,X2,"app");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var da,ES;(function(){var a;function t(I,R){function w(){}w.prototype=R.prototype,I.F=R.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(M,N,L){for(var C=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)C[ue-2]=arguments[ue];return R.prototype[N].apply(M,C)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,w){w||(w=0);const M=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)M[N]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(N=0;N<16;++N)M[N]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=I.g[0],w=I.g[1],N=I.g[2];let L=I.g[3],C;C=R+(L^w&(N^L))+M[0]+3614090360&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(N^R&(w^N))+M[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=N+(w^L&(R^w))+M[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(R^N&(L^R))+M[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=R+(L^w&(N^L))+M[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(N^R&(w^N))+M[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=N+(w^L&(R^w))+M[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(R^N&(L^R))+M[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=R+(L^w&(N^L))+M[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(N^R&(w^N))+M[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=N+(w^L&(R^w))+M[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(R^N&(L^R))+M[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=R+(L^w&(N^L))+M[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(N^R&(w^N))+M[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=N+(w^L&(R^w))+M[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(R^N&(L^R))+M[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=R+(N^L&(w^N))+M[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(R^w))+M[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=N+(R^w&(L^R))+M[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(N^L))+M[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=R+(N^L&(w^N))+M[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(R^w))+M[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=N+(R^w&(L^R))+M[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(N^L))+M[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=R+(N^L&(w^N))+M[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(R^w))+M[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=N+(R^w&(L^R))+M[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(N^L))+M[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=R+(N^L&(w^N))+M[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(R^w))+M[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=N+(R^w&(L^R))+M[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(N^L))+M[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=R+(w^N^L)+M[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^N)+M[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=N+(L^R^w)+M[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^R)+M[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=R+(w^N^L)+M[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^N)+M[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=N+(L^R^w)+M[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^R)+M[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=R+(w^N^L)+M[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^N)+M[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=N+(L^R^w)+M[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^R)+M[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=R+(w^N^L)+M[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^N)+M[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=N+(L^R^w)+M[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^R)+M[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=R+(N^(w|~L))+M[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~N))+M[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=N+(R^(L|~w))+M[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~R))+M[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=R+(N^(w|~L))+M[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~N))+M[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=N+(R^(L|~w))+M[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~R))+M[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=R+(N^(w|~L))+M[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~N))+M[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=N+(R^(L|~w))+M[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~R))+M[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=R+(N^(w|~L))+M[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~N))+M[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=N+(R^(L|~w))+M[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const w=R-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<R;){if(N==0)for(;L<=w;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(M[N++]=I.charCodeAt(L++),N==this.blockSize){o(this,M),N=0;break}}else for(;L<R;)if(M[N++]=I[L++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)I[R++]=this.g[w]>>>M&255;return I};function l(I,R){var w=d;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=R(I)}function c(I,R){this.h=R;const w=[];let M=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;M&&L==R||(w[N]=L,M=!1)}this.g=w}var d={};function p(I){return-128<=I&&I<128?l(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return j(g(-I));const R=[];let w=1;for(let M=0;I>=w;M++)R[M]=I/w|0,w*=4294967296;return new c(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return j(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(R,8));let M=T;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const C=parseInt(I.substring(L,L+N),R);N<8?(N=g(Math.pow(R,N)),M=M.j(N).add(g(C))):(M=M.j(w),M=M.add(g(C)))}return M}var T=p(0),A=p(1),x=p(16777216);a=c.prototype,a.m=function(){if(K(this))return-j(this).m();let I=0,R=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);I+=(M>=0?M:4294967296+M)*R,R*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(K(this))return"-"+j(this).toString(I);const R=g(Math.pow(I,6));var w=this;let M="";for(;;){const N=gt(w,R).g;w=nt(w,N.j(R));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=N,H(w))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function K(I){return I.h==-1}a.l=function(I){return I=nt(this,I),K(I)?-1:H(I)?0:1};function j(I){const R=I.g.length,w=[];for(let M=0;M<R;M++)w[M]=~I.g[M];return new c(w,~I.h).add(A)}a.abs=function(){return K(this)?j(this):this},a.add=function(I){const R=Math.max(this.g.length,I.g.length),w=[];let M=0;for(let N=0;N<=R;N++){let L=M+(this.i(N)&65535)+(I.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=C>>>16,L&=65535,C&=65535,w[N]=C<<16|L}return new c(w,w[w.length-1]&-2147483648?-1:0)};function nt(I,R){return I.add(j(R))}a.j=function(I){if(H(this)||H(I))return T;if(K(this))return K(I)?j(this).j(j(I)):j(j(this).j(I));if(K(I))return j(this.j(j(I)));if(this.l(x)<0&&I.l(x)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,w=[];for(var M=0;M<2*R;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const L=this.i(M)>>>16,C=this.i(M)&65535,ue=I.i(N)>>>16,qe=I.i(N)&65535;w[2*M+2*N]+=C*qe,et(w,2*M+2*N),w[2*M+2*N+1]+=L*qe,et(w,2*M+2*N+1),w[2*M+2*N+1]+=C*ue,et(w,2*M+2*N+1),w[2*M+2*N+2]+=L*ue,et(w,2*M+2*N+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new c(w,0)};function et(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function it(I,R){this.g=I,this.h=R}function gt(I,R){if(H(R))throw Error("division by zero");if(H(I))return new it(T,T);if(K(I))return R=gt(j(I),R),new it(j(R.g),j(R.h));if(K(R))return R=gt(I,j(R)),new it(j(R.g),R.h);if(I.g.length>30){if(K(I)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,M=R;M.l(I)<=0;)w=dt(w),M=dt(M);var N=vt(w,1),L=vt(M,1);for(M=vt(M,2),w=vt(w,2);!H(M);){var C=L.add(M);C.l(I)<=0&&(N=N.add(w),L=C),M=vt(M,1),w=vt(w,1)}return R=nt(I,N.j(R)),new it(N,R)}for(N=T;I.l(R)>=0;){for(w=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(w),C=L.j(R);K(C)||C.l(I)>0;)w-=M,L=g(w),C=L.j(R);H(L)&&(L=A),N=N.add(L),I=nt(I,C)}return new it(N,I)}a.B=function(I){return gt(this,I).h},a.and=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<R;M++)w[M]=this.i(M)&I.i(M);return new c(w,this.h&I.h)},a.or=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<R;M++)w[M]=this.i(M)|I.i(M);return new c(w,this.h|I.h)},a.xor=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<R;M++)w[M]=this.i(M)^I.i(M);return new c(w,this.h^I.h)};function dt(I){const R=I.g.length+1,w=[];for(let M=0;M<R;M++)w[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(w,I.h)}function vt(I,R){const w=R>>5;R%=32;const M=I.g.length-w,N=[];for(let L=0;L<M;L++)N[L]=R>0?I.i(L+w)>>>R|I.i(L+w+1)<<32-R:I.i(L+w);return new c(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ES=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,da=c}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TS,yu,SS,Wh,zp,AS,bS,RS;(function(){var a,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var E=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var z=h[b];if(!(z in E))break t;E=E[z]}h=h[h.length-1],b=E[h],y=y(b),y!=b&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,z,G){for(var ot=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ot[Ct-2]=arguments[Ct];return y.prototype[z].apply(b,ot)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=h[b];return E}return[]}function H(h,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const G=z.length||0;h.length=E+G;for(let ot=0;ot<G;ot++)h[E+ot]=z[ot]}else h.push(z)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function nt(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,E){const b=it.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new K(()=>new gt,h=>h.reset());class gt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,vt=!1,I=new et,R=()=>{const h=Promise.resolve(void 0);dt=()=>{h.then(w)}};function w(){for(var h;h=nt();){try{h.h.call(h.g)}catch(E){j(E)}var y=it;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}vt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function ue(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(ue,N),ue.prototype.init=function(h,y){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ut(h,y,E,b,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=z,this.key=++Z,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function jt(h,y,E){for(const b in h)y.call(E,h[b],b,h)}function Yt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,y){let E,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(E in b)h[E]=b[E];for(let G=0;G<tt.length;G++)E=tt[G],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,E,b,z){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ot=xt(h,y,b,z);return ot>-1?(y=h[ot],E||(y.fa=!1)):(y=new ut(y,this.src,G,!!b,z),y.fa=E,h.push(y)),y};function bt(h,y){const E=y.type;if(E in h.g){var b=h.g[E],z=Array.prototype.indexOf.call(b,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(St(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,y,E,b){for(let z=0;z<h.length;++z){const G=h[z];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==b)return z}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),je={};function ce(h,y,E,b,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)ce(h,y[G],E,b,z);return null}return E=sl(E),h&&h[qe]?h.J(y,E,d(b)?!!b.capture:!1,z):ba(h,y,E,!1,b,z)}function ba(h,y,E,b,z,G){if(!y)throw Error("Invalid event type");const ot=d(z)?!!z.capture:!!z;let Ct=Ra(h);if(Ct||(h[kt]=Ct=new ft(h)),E=Ct.add(y,E,b,ot,G),E.proxy)return E;if(b=Ds(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)L||(z=ot),z===void 0&&(z=!1),h.addEventListener(y.toString(),b,z);else if(h.attachEvent)h.attachEvent(Si(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ds(){function h(E){return y.call(h.src,h.listener,E)}const y=rl;return h}function xs(h,y,E,b,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)xs(h,y[G],E,b,z);else b=d(b)?!!b.capture:!!b,E=sl(E),h&&h[qe]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],E=xt(y,E,b,z),E>-1&&(St(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Ra(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xt(y,E,b,z)),(E=h>-1?y[h]:null)&&Vs(E))}function Vs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[qe])bt(y.i,h);else{var E=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(E,b,h.capture):y.detachEvent?y.detachEvent(Si(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Ra(y))?(bt(E,h),E.h==0&&(E.src=null,y[kt]=null)):St(h)}}}function Si(h){return h in je?je[h]:je[h]="on"+h}function rl(h,y){if(h.da)h=!0;else{y=new ue(y,this);const E=h.listener,b=h.ha||h.src;h.fa&&Vs(h),h=E.call(b,y)}return h}function Ra(h){return h=h[kt],h instanceof ft?h:null}var al="__closure_events_fn_"+(Math.random()*1e9>>>0);function sl(h){return typeof h=="function"?h:(h[al]||(h[al]=function(y){return h.handleEvent(y)}),h[al])}function Ce(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Ce,M),Ce.prototype[qe]=!0,Ce.prototype.removeEventListener=function(h,y,E,b){xs(this,h,y,E,b)};function Fe(h,y){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var z=y;y=new N(b,h),ct(y,z)}z=!0;let G,ot;if(E)for(ot=E.length-1;ot>=0;ot--)G=y.g=E[ot],z=Ir(G,b,!0,y)&&z;if(G=y.g=h,z=Ir(G,b,!0,y)&&z,z=Ir(G,b,!1,y)&&z,E)for(ot=0;ot<E.length;ot++)G=y.g=E[ot],z=Ir(G,b,!1,y)&&z}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let b=0;b<E.length;b++)St(E[b]);delete h.g[y],h.h--}}this.G=null},Ce.prototype.J=function(h,y,E,b){return this.i.add(String(h),y,!1,E,b)},Ce.prototype.K=function(h,y,E,b){return this.i.add(String(h),y,!0,E,b)};function Ir(h,y,E,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const ot=y[G];if(ot&&!ot.da&&ot.capture==E){const Ct=ot.listener,be=ot.ha||ot.src;ot.fa&&bt(h.i,ot),z=Ct.call(be,b)!==!1&&z}}return z&&!b.defaultPrevented}function od(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function cc(h){h.g=od(()=>{h.g=null,h.i&&(h.i=!1,cc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class dn extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(h){M.call(this),this.h=h,this.g={}}T(Ia,M);var ol=[];function ll(h){jt(h.g,function(y,E){this.g.hasOwnProperty(E)&&Vs(y)},h),h.g={}}Ia.prototype.N=function(){Ia.Z.N.call(this),ll(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=c.JSON.stringify,ld=c.JSON.parse,hc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function fc(){}function dc(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){N.call(this,"d")}T(We,N);function jn(){N.call(this,"c")}T(jn,N);var Ae={},mc=null;function Ns(){return mc=mc||new Ce}Ae.Ia="serverreachability";function pc(h){N.call(this,Ae.Ia,h)}T(pc,N);function Ai(h){const y=Ns();Fe(y,new pc(y))}Ae.STAT_EVENT="statevent";function wa(h,y){N.call(this,Ae.STAT_EVENT,h),this.stat=y}T(wa,N);function De(h){const y=Ns();Fe(y,new wa(y,h))}Ae.Ja="timingevent";function bi(h,y){N.call(this,Ae.Ja,h),this.size=y}T(bi,N);function Ri(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function ud(h,y,E,b,z,G){h.info(function(){if(h.g)if(G){var ot="",Ct=G.split("&");for(let Gt=0;Gt<Ct.length;Gt++){var be=Ct[Gt].split("=");if(be.length>1){const he=be[0];be=be[1];const Kn=he.split("_");ot=Kn.length>=2&&Kn[1]=="type"?ot+(he+"="+be+"&"):ot+(he+"=redacted&")}}}else ot=null;else ot=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+E+`
`+ot})}function gc(h,y,E,b,z,G,ot){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+E+`
`+G+" "+ot})}function Ii(h,y,E,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+cd(h,E)+(b?" "+b:"")})}function Ca(h,y){h.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function cd(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ot=1;ot<b.length;ot++)b[ot]=""}}}}return wr(G)}catch{return y}}var Da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function xa(){}T(xa,fc),xa.prototype.g=function(){return new XMLHttpRequest},cl=new xa;function Ji(h){return encodeURIComponent(String(h))}function yc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function oi(h,y,E,b){this.j=h,this.i=y,this.l=E,this.S=b||1,this.V=new Ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var xe={},Qe={};function wi(h,y,E){h.M=1,h.A=Va(Ne(y)),h.u=E,h.R=!0,Os(h,null)}function Os(h,y){h.F=Date.now(),Ci(h),h.B=Ne(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Us(E.i,"t",b),h.C=0,E=h.j.L,h.h=new li,h.g=Nc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new dn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,b=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(ol[0]=z.toString()),z=ol);for(let G=0;G<z.length;G++){const ot=ce(E,z[G],b||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ai(),ud(h.i,h.v,h.B,h.l,h.S,h.u)}oi.prototype.ba=function(h){h=h.target;const y=this.O;y&&hi(h)==3?y.j():this.Y(h)},oi.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=hi(this.g),be=this.g.ya(),Gt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ct!=4||be==7||(be==8||Gt<=0?Ai(3):Ai(2)),Di(this);var y=this.g.ca();this.X=y;var E=hd(this);if(this.o=y==200,gc(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var G=b;break e}}G=null}if(h=G)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,De(12),Dn(this),Fn(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<E.length;)if(he=vc(this,E),he==Qe){Ct==4&&(this.m=4,De(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(he==xe){this.m=4,De(15),Ii(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,he,null),xi(this,he);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,De(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),Fn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(ot),ot.P=!0,De(11))}}else Ii(this.i,this.l,E,null),xi(this,E);Ct==4&&Dn(this),this.o&&!this.K&&(Ct==4?Cc(this.j,this):(this.o=!1,Ci(this)))}else tr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),Dn(this),Fn(this)}}}catch{}};function hd(h){if(!_c(h))return h.g.la();const y=tn(h.g);if(y==="")return"";let E="";const b=y.length,z=hi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Fn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<b;G++)h.h.h=!0,E+=h.h.i.decode(y[G],{stream:!(z&&G==b-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function _c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function vc(h,y){var E=h.C,b=y.indexOf(`
`,E);return b==-1?Qe:(E=Number(y.substring(E,b)),isNaN(E)?xe:(b+=1,b+E>y.length?Qe:(y=y.slice(b,b+E),h.C=b+E,y)))}oi.prototype.cancel=function(){this.K=!0,Dn(this)};function Ci(h){h.T=Date.now()+h.H,Ms(h,h.H)}function Ms(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ri(g(h.aa,h),y)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}oi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ca(this.i,this.B),this.M!=2&&(Ai(),De(17)),Dn(this),this.m=2,Fn(this)):Ms(this,this.T-h)};function Fn(h){h.j.I==0||h.K||Cc(h.j,h)}function Dn(h){Di(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,ll(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function xi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ni(E.h,h))){if(!h.L&&Ni(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)js(E),Pr(E);else break t;za(E),De(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ri(g(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else zi(E,11)}else if((h.L||E.g==h)&&js(E),!C(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Gt=z[y];const he=Gt[0];if(!(he<=E.K))if(E.K=he,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const Kn=Gt[3];Kn!=null&&(E.ka=Kn,E.j.info("VER="+E.ka));const ki=Gt[4];ki!=null&&(E.za=ki,E.j.info("SVER="+E.za));const fi=Gt[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const di=h.g;if(di){const ka=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var G=b.h;G.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(dl(G,G.h),G.h=null))}if(b.G){const Fs=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(b.wa=Fs,Xt(b.J,b.G,Fs))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ot=h;if(b.na=Vc(b,b.L?b.ba:null,b.W),ot.L){ml(b.h,ot);var Ct=ot,be=b.O;be&&(Ct.H=be),Ct.D&&(Di(Ct),Ci(Ct)),b.g=ot}else Ic(b);E.i.length>0&&Ui(E)}else Gt[0]!="stop"&&Gt[0]!="close"||zi(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?zi(E,7):Al(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}Ai(4)}catch{}}var Ve=class{constructor(h,y){this.g=h,this.map=y}};function hl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Ni(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function dl(h,y){h.g?h.g.add(y):h.h=y}function ml(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return x(h.i)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let z,G=null;b>=0?(z=h[E].substring(0,b),G=h[E].substring(b+1)):z=h[E],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function xn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof xn?(this.l=h.l,Ye(this,h.j),this.o=h.o,this.g=h.g,Cr(this,h.u),this.h=h.h,gl(this,bc(h.i)),this.m=h.m):h&&(y=String(h).match(Ec))?(this.l=!1,Ye(this,y[1]||"",!0),this.o=Oi(y[2]||""),this.g=Oi(y[3]||"",!0),Cr(this,y[4]),this.h=Oi(y[5]||"",!0),gl(this,y[6]||"",!0),this.m=Oi(y[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}xn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Na(y,Ls,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Na(y,Ls,!0),"@"),h.push(Ji(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Na(E,E.charAt(0)=="/"?yl:Tc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Na(E,Sc)),h.join("")},xn.prototype.resolve=function(h){const y=Ne(this);let E=!!h.j;E?Ye(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var b=h.h;if(E)Cr(y,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ot=0;ot<z.length;){const Ct=z[ot++];Ct=="."?b&&ot==z.length&&G.push(""):Ct==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&ot==z.length&&G.push("")):(G.push(Ct),b=!0)}b=G.join("/")}else b=z}return E?y.h=b:E=h.i.toString()!=="",E?gl(y,bc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ne(h){return new xn(h)}function Ye(h,y,E){h.j=E?Oi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Cr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function gl(h,y,E){y instanceof xr?(h.i=y,zs(h.i,h.l)):(E||(y=Na(y,Dr)),h.i=new xr(y,h.l))}function Xt(h,y,E){h.i.set(y,E)}function Va(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Oi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Na(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,En),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ls=/[#\/\?@]/g,Tc=/[#\?:]/g,yl=/[#\?]/g,Dr=/[#\?@]/g,Sc=/#/g;function xr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ps(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}a=xr.prototype,a.add=function(h,y){Tn(this),this.i=null,h=Vr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Ac(h,y){Tn(h),y=Vr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function _l(h,y){return Tn(h),y=Vr(h,y),h.g.has(y)}a.forEach=function(h,y){Tn(this),this.g.forEach(function(E,b){E.forEach(function(z){h.call(y,z,b,this)},this)},this)};function vl(h,y){Tn(h);let E=[];if(typeof y=="string")_l(h,y)&&(E=E.concat(h.g.get(Vr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}a.set=function(h,y){return Tn(this),this.i=null,h=Vr(this,h),_l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},a.get=function(h,y){return h?(h=vl(this,h),h.length>0?String(h[0]):y):y};function Us(h,y,E){Ac(h,y),E.length>0&&(h.i=null,h.g.set(Vr(h,y),x(E)),h.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const z=Ji(E);E=vl(this,E);for(let G=0;G<E.length;G++){let ot=z;E[G]!==""&&(ot+="="+Ji(E[G])),h.push(ot)}}return this.i=h.join("&")};function bc(h){const y=new xr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Vr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function zs(h,y){y&&!h.j&&(Tn(h),h.i=null,h.g.forEach(function(E,b){const z=b.toLowerCase();b!=z&&(Ac(this,b),Us(this,z,E))},h)),h.j=y}function ui(h,y){const E=new si;if(c.Image){const b=new Image;b.onload=v(Hn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Hn,E,"TestLoadImage: error",!1,y,b),b.onabort=v(Hn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Hn,E,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function El(h,y){const E=new si,b=new AbortController,z=setTimeout(()=>{b.abort(),Hn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?Hn(E,"TestPingServer: ok",!0,y):Hn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Hn(E,"TestPingServer: error",!1,y)})}function Hn(h,y,E,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(E)}catch{}}function Nr(){this.g=new hc}function Mi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Mi,fc),Mi.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(h,y){Ce.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Oa,Ce),a=Oa.prototype,a.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ci(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ks(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ks(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Or(this):ci(this),this.readyState==3&&ks(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,Or(this))},a.Na=function(h){this.g&&(this.response=h,Or(this))},a.ga=function(){this.g&&Or(this)};function Or(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ci(h)}a.setRequestHeader=function(h,y){this.A.append(h,y)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let y="";return jt(h,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Ma(h,y,E){t:{for(b in E){var b=!1;break t}b=!0}b||(E=Gn(E),typeof h=="string"?E!=null&&Ji(E):Xt(h,y,E))}function ee(h){Ce.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ee,Ce);var Pi=/^https?$/i,Tl=["POST","PUT"];a=ee.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Pa(this,G);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)E.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Tl,y,void 0)>=0)||b||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of E)this.g.setRequestHeader(G,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){Pa(this,G)}};function Pa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Sl(h),Wi(h)}function Sl(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Fe(this,"complete"),Fe(this,"abort"),Wi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ee.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?La(this):this.Xa())},a.Xa=function(){La(this)};function La(h){if(h.h&&typeof l<"u"){if(h.v&&hi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Fe(h,"readystatechange"),hi(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var b;if(b=G===0){let ot=String(h.D).match(Ec)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),b=!Pi.test(ot?ot.toLowerCase():"")}E=b}if(E)Fe(h,"complete"),Fe(h,"success");else{h.o=6;try{var z=hi(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Sl(h)}}finally{Wi(h)}}}}function Wi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Fe(h,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function hi(h){return h.g?h.g.readyState:0}a.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ld(y)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(h){const y={};h=(h.g&&hi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(C(h[b]))continue;var E=yc(h[b]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[z]||[];y[z]=G,G.push(E)}Yt(y,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Mr(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,h),this.Za=Li("retryDelaySeedMs",1e4,h),this.Ta=Li("forwardChannelMaxRetries",2,h),this.va=Li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(h&&h.concurrentRequestLimit),this.Ba=new Nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Mr.prototype,a.ka=8,a.I=1,a.connect=function(h,y,E,b){De(0),this.W=h,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Vc(this,null,this.W),Ui(this)};function Al(h){if(Bs(h),h.I==3){var y=h.V++,E=Ne(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",y),Xt(E,"TYPE","terminate"),Ua(h,E),y=new oi(h,h.j,y),y.M=2,y.A=Va(Ne(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ci(y)}xc(h)}function Pr(h){h.g&&(Rl(h),h.g.cancel(),h.g=null)}function Bs(h){Pr(h),h.v&&(c.clearTimeout(h.v),h.v=null),js(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ui(h){if(!fl(h.h)&&!h.m){h.m=!0;var y=h.Ea;dt||R(),vt||(dt(),vt=!0),I.add(y,h),h.D=0}}function qs(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ri(g(h.Ea,h,y),Dc(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new oi(this,this.j,h);let G=this.o;if(this.U&&(G?(G=O(G),ct(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Rc(this,z,y),E=Ne(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Ua(this,E),G&&(this.R?y="headers="+Ji(Gn(G))+"&"+y:this.u&&Ma(E,this.u,G)),dl(this.h,z),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",y),Xt(E,"SID","null"),z.U=!0,wi(z,E,null)):wi(z,E,y),this.I=2}}else this.I==3&&(h?bl(this,h):this.i.length==0||fl(this.h)||bl(this))};function bl(h,y){var E;y?E=y.l:E=h.V++;const b=Ne(h.J);Xt(b,"SID",h.M),Xt(b,"RID",E),Xt(b,"AID",h.K),Ua(h,b),h.u&&h.o&&Ma(b,h.u,h.o),E=new oi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Rc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),dl(h.h,E),wi(E,b,y)}function Ua(h,y){h.H&&jt(h.H,function(E,b){Xt(y,b,E)}),h.l&&jt({},function(E,b){Xt(y,b,E)})}function Rc(h,y,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let Ct=-1;for(;;){const be=["count="+E];Ct==-1?E>0?(Ct=z[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let Gt=!0;for(let he=0;he<E;he++){var G=z[he].g;const Kn=z[he].map;if(G-=Ct,G<0)Ct=Math.max(0,z[he].g-100),Gt=!1;else try{G="req"+G+"_"||"";try{var ot=Kn instanceof Map?Kn:Object.entries(Kn);for(const[ki,fi]of ot){let di=fi;d(fi)&&(di=wr(fi)),be.push(G+ki+"="+encodeURIComponent(di))}}catch(ki){throw be.push(G+"type="+encodeURIComponent("_badmap")),ki}}catch{b&&b(Kn)}}if(Gt){ot=be.join("&");break t}}ot=void 0}return h=h.i.splice(0,E),y.G=h,ot}function Ic(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;dt||R(),vt||(dt(),vt=!0),I.add(y,h),h.A=0}}function za(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ri(g(h.Da,h),Dc(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ri(g(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),Pr(this),wc(this))};function Rl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function wc(h){h.g=new oi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ne(h.na);Xt(y,"RID","rpc"),Xt(y,"SID",h.M),Xt(y,"AID",h.K),Xt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(y,"TO",h.ia),Xt(y,"TYPE","xmlhttp"),Ua(h,y),h.u&&h.o&&Ma(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Va(Ne(y)),E.u=null,E.R=!0,Os(E,h)}a.Va=function(){this.C!=null&&(this.C=null,Pr(this),za(this),De(19))};function js(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Cc(h,y){var E=null;if(h.g==y){js(h),Rl(h),h.g=null;var b=2}else if(Ni(h.h,y))E=y.G,ml(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;b=Ns(),Fe(b,new bi(b,E)),Ui(h)}else Ic(h);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&qs(h,y)||b==2&&za(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function Dc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function zi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),b=h.Ua;const z=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(b,"https"),Va(b),z?ui(b.toString(),E):El(b.toString(),E)}else De(2);h.I=0,h.l&&h.l.pa(y),xc(h),Bs(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function xc(h){if(h.I=0,h.ja=[],h.l){const y=pl(h.h);(y.length!=0||h.i.length!=0)&&(H(h.ja,y),H(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function Vc(h,y,E){var b=E instanceof xn?Ne(E):new xn(E);if(b.g!="")y&&(b.g=y+"."+b.g),Cr(b,b.u);else{var z=c.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new xn(null);b&&Ye(G,b),y&&(G.g=y),z&&Cr(G,z),E&&(G.h=E),b=G}return E=h.G,y=h.wa,E&&y&&Xt(b,E,y),Xt(b,"VER",h.ka),Ua(h,b),b}function Nc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ee(new Mi({ab:E})):new ee(h.ma),y.Fa(h.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}a=Oc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Lr(){}Lr.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){Ce.call(this),this.g=new Mr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new er(this)}T(mn,Ce),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Al(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=wr(h),h=E);y.i.push(new Ve(y.Ya++,h)),y.I==3&&Ui(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,mn.Z.N.call(this)};function Mc(h){We.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Mc,We);function Pc(){jn.call(this),this.status=1}T(Pc,jn);function er(h){this.g=h}T(er,Oc),er.prototype.ra=function(){Fe(this.g,"a")},er.prototype.qa=function(h){Fe(this.g,new Mc(h))},er.prototype.pa=function(h){Fe(this.g,new Pc)},er.prototype.oa=function(){Fe(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,RS=function(){return new Lr},bS=function(){return Ns()},AS=Ae,zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,Wh=Da,ul.COMPLETE="complete",SS=ul,dc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,yu=dc,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,TS=ee}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let tl="12.9.0";function $2(a){tl=a}const ps=new mS("@firebase/firestore");function Co(){return ps.logLevel}function at(a,...t){if(ps.logLevel<=qt.DEBUG){const e=t.map(Rg);ps.debug(`Firestore (${tl}): ${a}`,...e)}}function _n(a,...t){if(ps.logLevel<=qt.ERROR){const e=t.map(Rg);ps.error(`Firestore (${tl}): ${a}`,...e)}}function gs(a,...t){if(ps.logLevel<=qt.WARN){const e=t.map(Rg);ps.warn(`Firestore (${tl}): ${a}`,...e)}}function Rg(a){if(typeof a=="string")return a;try{return(function(e){return JSON.stringify(e)})(a)}catch{return a}}function pt(a,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,IS(a,r,e)}function IS(a,t,e){let r=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw _n(r),new Error(r)}function _t(a,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,a||IS(t,o,r)}function It(a,t){return a}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Wo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Z2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(yn.UNAUTHENTICATED)))}shutdown(){}}class W2{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new Z2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class tC{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eC{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new tC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,M2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const r=l=>{l.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,at("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const o=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new h0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iC(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<a;r++)e[r]=Math.floor(256*Math.random());return e}class Ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=iC(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<e&&(r+=t.charAt(o[l]%62))}return r}}function Rt(a,t){return a<t?-1:a>t?1:0}function kp(a,t){const e=Math.min(a.length,t.length);for(let r=0;r<e;r++){const o=a.charAt(r),l=t.charAt(r);if(o!==l)return vp(o)===vp(l)?Rt(o,l):vp(o)?1:-1}return Rt(a.length,t.length)}const rC=55296,aC=57343;function vp(a){const t=a.charCodeAt(0);return t>=rC&&t<=aC}function zo(a,t,e){return a.length===t.length&&a.every(((r,o)=>e(r,t[o])))}function wS(a){return a+"\0"}const f0="__name__";class Gi{constructor(t,e,r){e===void 0?e=0:e>t.length&&pt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&pt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const l=Gi.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return Rt(t.length,e.length)}static compareSegments(t,e){const r=Gi.isNumericId(t),o=Gi.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Gi.extractNumericId(t).compare(Gi.extractNumericId(e)):kp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return da.fromString(t.substring(4,t.length-2))}}class Qt extends Gi{construct(t,e,r){return new Qt(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new Qt(e)}static emptyPath(){return new Qt([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends Gi{construct(t,e,r){return new ye(t,e,r)}static isValidIdentifier(t){return sC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new ye([f0])}static fromServerFormat(t){const e=[];let r="",o=0;const l=()=>{if(r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(e)}static emptyPath(){return new ye([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Qt.fromString(t))}static fromName(t){return new lt(Qt.fromString(t).popFirst(5))}static empty(){return new lt(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Qt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Qt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Qt(t.slice()))}}function CS(a,t,e){if(!e)throw new st(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function oC(a,t,e,r){if(t===!0&&r===!0)throw new st(Y.INVALID_ARGUMENT,`${a} and ${e} cannot be used together.`)}function d0(a){if(!lt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function m0(a){if(lt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function DS(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Pf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function Ei(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Pf(a);throw new st(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return a}function ke(a,t){const e={typeString:a};return t&&(e.value=t),e}function Ju(a,t){if(!DS(a))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){e=`JSON missing required field: '${r}'`;break}const c=a[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${r}' field to equal '${l.value}'`;break}}if(e)throw new st(Y.INVALID_ARGUMENT,e);return!0}const p0=-62135596800,g0=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*g0);return new Jt(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<p0)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ju(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-p0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:ke("string",Jt._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Jt(0,0))}static max(){return new Tt(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lu=-1;class gf{constructor(t,e,r,o){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=o}}function Bp(a){return a.fields.find((t=>t.kind===2))}function rs(a){return a.fields.filter((t=>t.kind!==2))}gf.UNKNOWN_ID=-1;class tf{constructor(t,e){this.fieldPath=t,this.kind=e}}class Uu{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Uu(0,Bn.min())}}function lC(a,t){const e=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new Jt(e+1,0):new Jt(e,r));return new Bn(o,lt.empty(),t)}function xS(a){return new Bn(a.readTime,a.key,Lu)}class Bn{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Bn(Tt.min(),lt.empty(),Lu)}static max(){return new Bn(Tt.max(),lt.empty(),Lu)}}function wg(a,t){let e=a.readTime.compareTo(t.readTime);return e!==0?e:(e=lt.comparator(a.documentKey,t.documentKey),e!==0?e:Rt(a.largestBatchId,t.largestBatchId))}const VS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Rs(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==VS)throw a;at("LocalStore","Unexpectedly lost primary lease")}class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new U(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof U?e:U.resolve(e)}catch(e){return U.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):U.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):U.reject(e)}static resolve(t){return new U(((e,r)=>{e(t)}))}static reject(t){return new U(((e,r)=>{r(t)}))}static waitFor(t){return new U(((e,r)=>{let o=0,l=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&e()}),(p=>r(p)))})),c=!0,l===o&&e()}))}static or(t){let e=U.resolve(!1);for(const r of t)e=e.next((o=>o?U.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,l)=>{r.push(e.call(this,o,l))})),this.waitFor(r)}static mapArray(t,e){return new U(((r,o)=>{const l=t.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;e(t[g]).next((v=>{c[g]=v,++d,d===l&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new U(((r,o)=>{const l=()=>{t()===!0?e().next((()=>{l()}),o):r()};l()}))}}const zn="SimpleDb";class Lf{static open(t,e,r,o){try{return new Lf(e,t.transaction(o,r))}catch(l){throw new bu(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new Xi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new bu(t,e.error)):this.S.resolve()},this.transaction.onerror=r=>{const o=Cg(r.target.error);this.S.reject(new bu(t,o))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(at(zn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new cC(e)}}class ma{static delete(t){return at(zn,"Removing database:",t),ss(oS().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!fS())return!1;if(ma.F())return!0;const t=Uo(),e=ma.M(t),r=0<e&&e<10,o=OS(t),l=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,e,r){this.name=t,this.version=e,this.N=r,this.B=null,ma.M(Uo())===12.2&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(at(zn,"Opening database:",this.name),this.db=await new Promise(((e,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=l=>{const c=l.target.result;e(c)},o.onblocked=()=>{r(new bu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new st(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new st(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new bu(t,c))},o.onupgradeneeded=l=>{at(zn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,o.transaction,l.oldVersion,this.version).next((()=>{at(zn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,o){const l=e==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const d=Lf.open(this.db,t,l?"readonly":"readwrite",r),p=o(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),U.reject(g)))).toPromise();return p.catch((()=>{})),await d.D,p}catch(d){const p=d,g=p.name!=="FirebaseError"&&c<3;if(at(zn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function OS(a){const t=a.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class uC{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return ss(this.U.delete())}}class bu extends st{constructor(t,e){super(Y.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ta(a){return a.name==="IndexedDbTransactionError"}class cC{constructor(t){this.store=t}put(t,e){let r;return e!==void 0?(at(zn,"PUT",this.store.name,t,e),r=this.store.put(e,t)):(at(zn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ss(r)}add(t){return at(zn,"ADD",this.store.name,t,t),ss(this.store.add(t))}get(t){return ss(this.store.get(t)).next((e=>(e===void 0&&(e=null),at(zn,"GET",this.store.name,t,e),e)))}delete(t){return at(zn,"DELETE",this.store.name,t),ss(this.store.delete(t))}count(){return at(zn,"COUNT",this.store.name),ss(this.store.count())}H(t,e){const r=this.options(t,e),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const l=o.getAll(r.range);return new U(((c,d)=>{l.onerror=p=>{d(p.target.error)},l.onsuccess=p=>{c(p.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((d,p)=>{c.push(p)})).next((()=>c))}}Z(t,e){const r=this.store.getAll(t,e===null?void 0:e);return new U(((o,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{o(c.target.result)}}))}X(t,e){at(zn,"DELETE ALL",this.store.name);const r=this.options(t,e);r.Y=!1;const o=this.cursor(r);return this.J(o,((l,c,d)=>d.delete()))}ee(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.J(o,e)}te(t){const e=this.cursor({});return new U(((r,o)=>{e.onerror=l=>{const c=Cg(l.target.error);o(c)},e.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}J(t,e){const r=[];return new U(((o,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void o();const p=new uC(d),g=e(d.primaryKey,d.value,p);if(g instanceof U){const v=g.catch((T=>(p.done(),U.reject(T))));r.push(v)}p.isDone?o():p.G===null?d.continue():d.continue(p.G)}})).next((()=>U.waitFor(r)))}options(t,e){let r;return t!==void 0&&(typeof t=="string"?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ss(a){return new U(((t,e)=>{a.onsuccess=r=>{const o=r.target.result;t(o)},a.onerror=r=>{const o=Cg(r.target.error);e(o)}}))}let y0=!1;function Cg(a){const t=ma.M(Uo());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(e)>=0){const r=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return y0||(y0=!0,setTimeout((()=>{throw r}),0)),r}}return a}const Ru="IndexBackfiller";class hC{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){at(Ru,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();at(Ru,`Documents written: ${e}`)}catch(e){Ta(e)?at(Ru,"Ignoring IndexedDB error during index backfill: ",e):await Rs(e)}await this.re(6e4)}))}}class fC{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const r=new Set;let o=e,l=!0;return U.doWhile((()=>l===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return at(Ru,`Processing collection: ${c}`),this.oe(t,c,o).next((d=>{o-=d,r.add(c)}));l=!1})))).next((()=>e-o))}oe(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((o=>this.localStore.localDocuments.getNextDocuments(t,e,o,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(o,l))).next((d=>(at(Ru,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d)))).next((()=>c.size))}))))}_e(t,e){let r=t;return e.changes.forEach(((o,l)=>{const c=xS(l);wg(c,r)>0&&(r=c)})),new Bn(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ni{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ni.ce=-1;const hs=-1;function Uf(a){return a==null}function zu(a){return a===0&&1/a==-1/0}function dC(a){return typeof a=="number"&&Number.isInteger(a)&&!zu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const yf="";function fn(a){let t="";for(let e=0;e<a.length;e++)t.length>0&&(t=_0(t)),t=mC(a.get(e),t);return _0(t)}function mC(a,t){let e=t;const r=a.length;for(let o=0;o<r;o++){const l=a.charAt(o);switch(l){case"\0":e+="";break;case yf:e+="";break;default:e+=l}}return e}function _0(a){return a+yf+""}function Qi(a){const t=a.length;if(_t(t>=2,64408,{path:a}),t===2)return _t(a.charAt(0)===yf&&a.charAt(1)==="",56145,{path:a}),Qt.emptyPath();const e=t-2,r=[];let o="";for(let l=0;l<t;){const c=a.indexOf(yf,l);switch((c<0||c>e)&&pt(50515,{path:a}),a.charAt(c+1)){case"":const d=a.substring(l,c);let p;o.length===0?p=d:(o+=d,p=o,o=""),r.push(p);break;case"":o+=a.substring(l,c),o+="\0";break;case"":o+=a.substring(l,c+1);break;default:pt(61167,{path:a})}l=c+2}return new Qt(r)}const as="remoteDocuments",Wu="owner",Eo="owner",ku="mutationQueues",pC="userId",yi="mutations",v0="batchId",cs="userMutationsIndex",E0=["userId","batchId"];function ef(a,t){return[a,fn(t)]}function MS(a,t,e){return[a,fn(t),e]}const gC={},ko="documentMutations",_f="remoteDocumentsV14",yC=["prefixPath","collectionGroup","readTime","documentId"],nf="documentKeyIndex",_C=["prefixPath","collectionGroup","documentId"],PS="collectionGroupIndex",vC=["collectionGroup","readTime","prefixPath","documentId"],Bu="remoteDocumentGlobal",qp="remoteDocumentGlobalKey",Bo="targets",LS="queryTargetsIndex",EC=["canonicalId","targetId"],qo="targetDocuments",TC=["targetId","path"],Dg="documentTargetsIndex",SC=["path","targetId"],vf="targetGlobalKey",fs="targetGlobal",qu="collectionParents",AC=["collectionId","parent"],jo="clientMetadata",bC="clientId",zf="bundles",RC="bundleId",kf="namedQueries",IC="name",xg="indexConfiguration",wC="indexId",jp="collectionGroupIndex",CC="collectionGroup",Iu="indexState",DC=["indexId","uid"],US="sequenceNumberIndex",xC=["uid","sequenceNumber"],wu="indexEntries",VC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zS="documentKeyIndex",NC=["indexId","uid","orderedDocumentKey"],Bf="documentOverlays",OC=["userId","collectionPath","documentId"],Fp="collectionPathOverlayIndex",MC=["userId","collectionPath","largestBatchId"],kS="collectionGroupOverlayIndex",PC=["userId","collectionGroup","largestBatchId"],Vg="globals",LC="name",BS=[ku,yi,ko,as,Bo,Wu,fs,qo,jo,Bu,qu,zf,kf],UC=[...BS,Bf],qS=[ku,yi,ko,_f,Bo,Wu,fs,qo,jo,Bu,qu,zf,kf,Bf],jS=qS,Ng=[...jS,xg,Iu,wu],zC=Ng,FS=[...Ng,Vg],kC=FS;class Hp extends NS{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Ke(a,t){const e=It(a);return ma.O(e.le,t)}function T0(a){let t=0;for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&t++;return t}function Sa(a,t){for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&t(e,a[e])}function HS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jh(this.root,t,this.comparator,!0)}}class jh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,r,o,l){this.key=t,this.value=e,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,l){return new sn(t??this.key,e??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,r),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,e,r,o,l){return this}insert(t,e,r){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class te{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof te)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new te(this.comparator);return e.data=t,e}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function To(a){return a.hasNext()?a.getNext():void 0}class Cn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new Cn([])}unionWith(t){let e=new te(ye.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Cn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zo(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new GS("Invalid base64 string: "+l):l}})(t);return new Be(e)}static fromUint8Array(t){const e=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(t);return new Be(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(a){if(_t(!!a,39018),typeof a=="string"){let t=0;const e=BC.exec(a);if(_t(!!e,46558,{timestamp:a}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Sr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}const KS="server_timestamp",QS="__type__",YS="__previous_value__",XS="__local_write_time__";function Og(a){return(a?.mapValue?.fields||{})[QS]?.stringValue===KS}function qf(a){const t=a.mapValue.fields[YS];return Og(t)?qf(t):t}function ju(a){const t=Tr(a.mapValue.fields[XS].timestampValue);return new Jt(t.seconds,t.nanos)}class qC{constructor(t,e,r,o,l,c,d,p,g,v,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=T}}const Ef="(default)";class ys{constructor(t,e){this.projectId=t,this.database=e||Ef}static empty(){return new ys("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(t){return t instanceof ys&&t.projectId===this.projectId&&t.database===this.database}}function jC(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(a.options.projectId,t)}const Mg="__type__",$S="__max__",ca={mapValue:{fields:{__type__:{stringValue:$S}}}},Pg="__vector__",Fo="value",rf={nullValue:"NULL_VALUE"};function ga(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Og(a)?4:ZS(a)?9007199254740991:jf(a)?10:11:pt(28295,{value:a})}function Zi(a,t){if(a===t)return!0;const e=ga(a);if(e!==ga(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ju(a).isEqual(ju(t));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Tr(o.timestampValue),d=Tr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,l){return Sr(o.bytesValue).isEqual(Sr(l.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,l){return de(o.geoPointValue.latitude)===de(l.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(l.geoPointValue.longitude)})(a,t);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return de(o.integerValue)===de(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=de(o.doubleValue),d=de(l.doubleValue);return c===d?zu(c)===zu(d):isNaN(c)&&isNaN(d)}return!1})(a,t);case 9:return zo(a.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(T0(c)!==T0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Zi(c[p],d[p])))return!1;return!0})(a,t);default:return pt(52216,{left:a})}}function Fu(a,t){return(a.values||[]).find((e=>Zi(e,t)))!==void 0}function ya(a,t){if(a===t)return 0;const e=ga(a),r=ga(t);if(e!==r)return Rt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=de(l.integerValue||l.doubleValue),p=de(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(a,t);case 3:return A0(a.timestampValue,t.timestampValue);case 4:return A0(ju(a),ju(t));case 5:return kp(a.stringValue,t.stringValue);case 6:return(function(l,c){const d=Sr(l),p=Sr(c);return d.compareTo(p)})(a.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Rt(d[g],p[g]);if(v!==0)return v}return Rt(d.length,p.length)})(a.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Rt(de(l.latitude),de(c.latitude));return d!==0?d:Rt(de(l.longitude),de(c.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return b0(a.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Fo]?.arrayValue,v=p[Fo]?.arrayValue,T=Rt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:b0(g,v)})(a.mapValue,t.mapValue);case 11:return(function(l,c){if(l===ca.mapValue&&c===ca.mapValue)return 0;if(l===ca.mapValue)return 1;if(c===ca.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const A=kp(p[T],v[T]);if(A!==0)return A;const x=ya(d[p[T]],g[v[T]]);if(x!==0)return x}return Rt(p.length,v.length)})(a.mapValue,t.mapValue);default:throw pt(23264,{he:e})}}function A0(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Rt(a,t);const e=Tr(a),r=Tr(t),o=Rt(e.seconds,r.seconds);return o!==0?o:Rt(e.nanos,r.nanos)}function b0(a,t){const e=a.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const l=ya(e[o],r[o]);if(l)return l}return Rt(e.length,r.length)}function Ho(a){return Gp(a)}function Gp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(e){const r=Tr(e);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(e){return Sr(e).toBase64()})(a.bytesValue):"referenceValue"in a?(function(e){return lt.fromName(e).toString()})(a.referenceValue):"geoPointValue"in a?(function(e){return`geo(${e.latitude},${e.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(e){let r="[",o=!0;for(const l of e.values||[])o?o=!1:r+=",",r+=Gp(l);return r+"]"})(a.arrayValue):"mapValue"in a?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Gp(e.fields[c])}`;return o+"}"})(a.mapValue):pt(61005,{value:a})}function af(a){switch(ga(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(a);return t?16+af(t):16;case 5:return 2*a.stringValue.length;case 6:return Sr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+af(l)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Sa(r.fields,((l,c)=>{o+=l.length+af(c)})),o})(a.mapValue);default:throw pt(13486,{value:a})}}function Hu(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Kp(a){return!!a&&"integerValue"in a}function Gu(a){return!!a&&"arrayValue"in a}function R0(a){return!!a&&"nullValue"in a}function I0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function sf(a){return!!a&&"mapValue"in a}function jf(a){return(a?.mapValue?.fields||{})[Mg]?.stringValue===Pg}function Cu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Sa(a.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Cu(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(a.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Cu(a.arrayValue.values[e]);return t}return{...a}}function ZS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===$S}const JS={mapValue:{fields:{[Mg]:{stringValue:Pg},[Fo]:{arrayValue:{}}}}};function FC(a){return"nullValue"in a?rf:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Hu(ys.empty(),lt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?jf(a)?JS:{mapValue:{}}:pt(35942,{value:a})}function HC(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Hu(ys.empty(),lt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?JS:"mapValue"in a?jf(a)?{mapValue:{}}:ca:pt(61959,{value:a})}function w0(a,t){const e=ya(a.value,t.value);return e!==0?e:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function C0(a,t){const e=ya(a.value,t.value);return e!==0?e:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!sf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cu(e)}setAll(t){let e=ye.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,r,o),r={},o=[],e=d.popLast()}c?r[d.lastSegment()]=Cu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,r,o)}delete(t){const e=this.field(t.popLast());sf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];sf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Sa(e,((o,l)=>t[o]=l));for(const o of r)delete t[o]}clone(){return new hn(Cu(this.value))}}function WS(a){const t=[];return Sa(a.fields,((e,r)=>{const o=new ye([e]);if(sf(r)){const l=WS(r.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)})),new Cn(t)}class Te{constructor(t,e,r,o,l,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Te(t,0,Tt.min(),Tt.min(),Tt.min(),hn.empty(),0)}static newFoundDocument(t,e,r,o){return new Te(t,1,e,Tt.min(),r,o,0)}static newNoDocument(t,e){return new Te(t,2,e,Tt.min(),Tt.min(),hn.empty(),0)}static newUnknownDocument(t,e){return new Te(t,3,e,Tt.min(),Tt.min(),hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Te&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Go{constructor(t,e){this.position=t,this.inclusive=e}}function D0(a,t,e){let r=0;for(let o=0;o<a.position.length;o++){const l=t[o],c=a.position[o];if(l.field.isKeyField()?r=lt.comparator(lt.fromName(c.referenceValue),e.key):r=ya(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function x0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let e=0;e<a.position.length;e++)if(!Zi(a.position[e],t.position[e]))return!1;return!0}class Ku{constructor(t,e="asc"){this.field=t,this.dir=e}}function GC(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class t1{}class Ut extends t1{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new KC(t,e,r):e==="array-contains"?new XC(t,r):e==="in"?new s1(t,r):e==="not-in"?new $C(t,r):e==="array-contains-any"?new ZC(t,r):new Ut(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new QC(t,r):new YC(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ya(e,this.value)):e!==null&&ga(this.value)===ga(e)&&this.matchesComparison(ya(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wt extends t1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Wt(t,e)}matches(t){return Ko(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ko(a){return a.op==="and"}function Qp(a){return a.op==="or"}function Lg(a){return e1(a)&&Ko(a)}function e1(a){for(const t of a.filters)if(t instanceof Wt)return!1;return!0}function Yp(a){if(a instanceof Ut)return a.field.canonicalString()+a.op.toString()+Ho(a.value);if(Lg(a))return a.filters.map((t=>Yp(t))).join(",");{const t=a.filters.map((e=>Yp(e))).join(",");return`${a.op}(${t})`}}function n1(a,t){return a instanceof Ut?(function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&Zi(r.value,o.value)})(a,t):a instanceof Wt?(function(r,o){return o instanceof Wt&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,d)=>l&&n1(c,o.filters[d])),!0):!1})(a,t):void pt(19439)}function i1(a,t){const e=a.filters.concat(t);return Wt.create(e,a.op)}function r1(a){return a instanceof Ut?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`})(a):a instanceof Wt?(function(e){return e.op.toString()+" {"+e.getFilters().map(r1).join(" ,")+"}"})(a):"Filter"}class KC extends Ut{constructor(t,e,r){super(t,e,r),this.key=lt.fromName(r.referenceValue)}matches(t){const e=lt.comparator(t.key,this.key);return this.matchesComparison(e)}}class QC extends Ut{constructor(t,e){super(t,"in",e),this.keys=a1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class YC extends Ut{constructor(t,e){super(t,"not-in",e),this.keys=a1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function a1(a,t){return(t.arrayValue?.values||[]).map((e=>lt.fromName(e.referenceValue)))}class XC extends Ut{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gu(e)&&Fu(e.arrayValue,this.value)}}class s1 extends Ut{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Fu(this.value.arrayValue,e)}}class $C extends Ut{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Fu(this.value.arrayValue,e)}}class ZC extends Ut{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gu(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Fu(this.value.arrayValue,r)))}}class JC{constructor(t,e=null,r=[],o=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Xp(a,t=null,e=[],r=[],o=null,l=null,c=null){return new JC(a,t,e,r,o,l,c)}function _s(a){const t=It(a);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Yp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Uf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Ho(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Ho(r))).join(",")),t.Te=e}return t.Te}function tc(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<a.orderBy.length;e++)if(!GC(a.orderBy[e],t.orderBy[e]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let e=0;e<a.filters.length;e++)if(!n1(a.filters[e],t.filters[e]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!x0(a.startAt,t.startAt)&&x0(a.endAt,t.endAt)}function Tf(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Sf(a,t){return a.filters.filter((e=>e instanceof Ut&&e.field.isEqual(t)))}function V0(a,t,e){let r=rf,o=!0;for(const l of Sf(a,t)){let c=rf,d=!0;switch(l.op){case"<":case"<=":c=FC(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=rf}w0({value:r,inclusive:o},{value:c,inclusive:d})<0&&(r=c,o=d)}if(e!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=e.position[l];w0({value:r,inclusive:o},{value:c,inclusive:e.inclusive})<0&&(r=c,o=e.inclusive);break}}return{value:r,inclusive:o}}function N0(a,t,e){let r=ca,o=!0;for(const l of Sf(a,t)){let c=ca,d=!0;switch(l.op){case">=":case">":c=HC(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=ca}C0({value:r,inclusive:o},{value:c,inclusive:d})>0&&(r=c,o=d)}if(e!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=e.position[l];C0({value:r,inclusive:o},{value:c,inclusive:e.inclusive})>0&&(r=c,o=e.inclusive);break}}return{value:r,inclusive:o}}class el{constructor(t,e=null,r=[],o=[],l=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WC(a,t,e,r,o,l,c,d){return new el(a,t,e,r,o,l,c,d)}function Ff(a){return new el(a)}function O0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function tD(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function o1(a){return a.collectionGroup!==null}function Du(a){const t=It(a);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new te(ye.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Ku(l,r))})),e.has(ye.keyField().canonicalString())||t.Ie.push(new Ku(ye.keyField(),r))}return t.Ie}function ii(a){const t=It(a);return t.Ee||(t.Ee=eD(t,Du(a))),t.Ee}function eD(a,t){if(a.limitType==="F")return Xp(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Ku(o.field,l)}));const e=a.endAt?new Go(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Go(a.startAt.position,a.startAt.inclusive):null;return Xp(a.path,a.collectionGroup,t,a.filters,a.limit,e,r)}}function $p(a,t){const e=a.filters.concat([t]);return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),e,a.limit,a.limitType,a.startAt,a.endAt)}function nD(a,t){const e=a.explicitOrderBy.concat([t]);return new el(a.path,a.collectionGroup,e,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function Zp(a,t,e){return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,e,a.startAt,a.endAt)}function Hf(a,t){return tc(ii(a),ii(t))&&a.limitType===t.limitType}function l1(a){return`${_s(ii(a))}|lt:${a.limitType}`}function Do(a){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>r1(o))).join(", ")}]`),Uf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Ho(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Ho(o))).join(",")),`Target(${r})`})(ii(a))}; limitType=${a.limitType})`}function ec(a,t){return t.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):lt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(a,t)&&(function(r,o){for(const l of Du(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,p){const g=D0(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,Du(r),o)||r.endAt&&!(function(c,d,p){const g=D0(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,Du(r),o))})(a,t)}function iD(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function u1(a){return(t,e)=>{let r=!1;for(const o of Du(a)){const l=rD(o,t,e);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function rD(a,t,e){const r=a.field.isKeyField()?lt.comparator(t.key,e.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?ya(p,g):pt(42886)})(a.field,t,e);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:a.dir})}}class br{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,((e,r)=>{for(const[o,l]of r)t(o,l)}))}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}const aD=new ge(lt.comparator);function kn(){return aD}const c1=new ge(lt.comparator);function _u(...a){let t=c1;for(const e of a)t=t.insert(e.key,e);return t}function h1(a){let t=c1;return a.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Yi(){return xu()}function f1(){return xu()}function xu(){return new br((a=>a.toString()),((a,t)=>a.isEqual(t)))}const sD=new ge(lt.comparator),oD=new te(lt.comparator);function Nt(...a){let t=oD;for(const e of a)t=t.add(e);return t}const lD=new te(Rt);function uD(){return lD}function Ug(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(t)?"-0":t}}function d1(a){return{integerValue:""+a}}function cD(a,t){return dC(t)?d1(t):Ug(a,t)}class Gf{constructor(){this._=void 0}}function hD(a,t,e){return a instanceof Qu?(function(o,l){const c={fields:{[QS]:{stringValue:KS},[XS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Og(l)&&(l=qf(l)),l&&(c.fields[YS]=l),{mapValue:c}})(e,t):a instanceof Qo?p1(a,t):a instanceof Yo?g1(a,t):(function(o,l){const c=m1(o,l),d=M0(c)+M0(o.Ae);return Kp(c)&&Kp(o.Ae)?d1(d):Ug(o.serializer,d)})(a,t)}function fD(a,t,e){return a instanceof Qo?p1(a,t):a instanceof Yo?g1(a,t):e}function m1(a,t){return a instanceof Yu?(function(r){return Kp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class Qu extends Gf{}class Qo extends Gf{constructor(t){super(),this.elements=t}}function p1(a,t){const e=y1(t);for(const r of a.elements)e.some((o=>Zi(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Yo extends Gf{constructor(t){super(),this.elements=t}}function g1(a,t){let e=y1(t);for(const r of a.elements)e=e.filter((o=>!Zi(o,r)));return{arrayValue:{values:e}}}class Yu extends Gf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function M0(a){return de(a.integerValue||a.doubleValue)}function y1(a){return Gu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class dD{constructor(t,e){this.field=t,this.transform=e}}function mD(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Qo&&o instanceof Qo||r instanceof Yo&&o instanceof Yo?zo(r.elements,o.elements,Zi):r instanceof Yu&&o instanceof Yu?Zi(r.Ae,o.Ae):r instanceof Qu&&o instanceof Qu})(a.transform,t.transform)}class pD{constructor(t,e){this.version=t,this.transformResults=e}}class Ze{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ze}static exists(t){return new Ze(void 0,t)}static updateTime(t){return new Ze(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function of(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Kf{}function _1(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new nc(a.key,Ze.none()):new nl(a.key,a.data,Ze.none());{const e=a.data,r=hn.empty();let o=new te(ye.comparator);for(let l of t.fields)if(!o.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new Rr(a.key,r,new Cn(o.toArray()),Ze.none())}}function gD(a,t,e){a instanceof nl?(function(o,l,c){const d=o.value.clone(),p=L0(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,t,e):a instanceof Rr?(function(o,l,c){if(!of(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=L0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(v1(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(a,t,e):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Vu(a,t,e,r){return a instanceof nl?(function(l,c,d,p){if(!of(l.precondition,c))return d;const g=l.value.clone(),v=U0(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(a,t,e,r):a instanceof Rr?(function(l,c,d,p){if(!of(l.precondition,c))return d;const g=U0(l.fieldTransforms,p,c),v=c.data;return v.setAll(v1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(a,t,e,r):(function(l,c,d){return of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,t,e)}function yD(a,t){let e=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),l=m1(r.transform,o||null);l!=null&&(e===null&&(e=hn.empty()),e.set(r.field,l))}return e||null}function P0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zo(r,o,((l,c)=>mD(l,c)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class nl extends Kf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rr extends Kf{constructor(t,e,r,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function v1(a){const t=new Map;return a.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=a.data.field(e);t.set(e,r)}})),t}function L0(a,t,e){const r=new Map;_t(a.length===e.length,32656,{Ve:e.length,de:a.length});for(let o=0;o<e.length;o++){const l=a[o],c=l.transform,d=t.data.field(l.field);r.set(l.field,fD(c,d,e[o]))}return r}function U0(a,t,e){const r=new Map;for(const o of a){const l=o.transform,c=e.data.field(o.field);r.set(o.field,hD(l,c,t))}return r}class nc extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E1 extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zg{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&gD(l,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Vu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Vu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=f1();return this.mutations.forEach((o=>{const l=t.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(o.key)?null:d;const p=_1(c,d);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&zo(this.mutations,t.mutations,((e,r)=>P0(e,r)))&&zo(this.baseMutations,t.baseMutations,((e,r)=>P0(e,r)))}}class kg{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){_t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return sD})();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new kg(t,e,r,o)}}class Bg{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _D{constructor(t,e){this.count=t,this.unchangedNames=e}}var ze,Bt;function vD(a){switch(a){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function T1(a){if(a===void 0)return _n("GRPC error has no .code"),Y.UNKNOWN;switch(a){case ze.OK:return Y.OK;case ze.CANCELLED:return Y.CANCELLED;case ze.UNKNOWN:return Y.UNKNOWN;case ze.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ze.INTERNAL:return Y.INTERNAL;case ze.UNAVAILABLE:return Y.UNAVAILABLE;case ze.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ze.NOT_FOUND:return Y.NOT_FOUND;case ze.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ze.ABORTED:return Y.ABORTED;case ze.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ze.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:a})}}(Bt=ze||(ze={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function ED(){return new TextEncoder}const TD=new da([4294967295,4294967295],0);function z0(a){const t=ED().encode(a),e=new ES;return e.update(t),new Uint8Array(e.digest())}function k0(a){const t=new DataView(a.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new da([e,r],0),new da([o,l],0)]}class qg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new vu(`Invalid padding: ${e}`);if(r<0)throw new vu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new vu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=da.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(da.fromNumber(r)));return o.compare(TD)===1&&(o=new da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=z0(t),[r,o]=k0(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,o,l);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new qg(l,o,e);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=z0(t),[r,o]=k0(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,o,l);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qf{constructor(t,e,r,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,ic.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Qf(Tt.min(),o,new ge(Rt),kn(),Nt())}}class ic{constructor(t,e,r,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new ic(r,e,Nt(),Nt(),Nt())}}class lf{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class S1{constructor(t,e){this.targetId=t,this.Ce=e}}class A1{constructor(t,e,r=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class B0{constructor(){this.ve=0,this.Fe=q0(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),e=Nt(),r=Nt();return this.Fe.forEach(((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:pt(38017,{changeType:l})}})),new ic(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=q0()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class SD{constructor(t){this.Ge=t,this.ze=new Map,this.je=kn(),this.He=Fh(),this.Je=Fh(),this.Ze=new ge(Rt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const l=o.target;if(Tf(l))if(r===0){const c=new lt(l.path);this.et(e,c,Te.newNoDocument(c,Tt.min()))}else _t(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=e;let c,d;try{c=Sr(r).toUint8Array()}catch(p){if(p instanceof GS)return gs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new qg(c,o,l)}catch(p){return gs(p instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(e,l,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Tf(d.target)){const p=new lt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Te.newNoDocument(p,t))}l.Be&&(e.set(c,l.ke()),l.Ke())}}));let r=Nt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const o=new Qf(t,e,this.Ze,this.je,r);return this.je=kn(),this.He=Fh(),this.Je=Fh(),this.Ze=new ge(Rt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new B0,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new te(Rt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new te(Rt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new B0),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Fh(){return new ge(lt.comparator)}function q0(){return new ge(lt.comparator)}const AD={asc:"ASCENDING",desc:"DESCENDING"},bD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RD={and:"AND",or:"OR"};class ID{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Jp(a,t){return a.useProto3Json||Uf(t)?t:{value:t}}function Xo(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b1(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function wD(a,t){return Xo(a,t.toTimestamp())}function vn(a){return _t(!!a,49232),Tt.fromTimestamp((function(e){const r=Tr(e);return new Jt(r.seconds,r.nanos)})(a))}function jg(a,t){return Wp(a,t).canonicalString()}function Wp(a,t){const e=(function(o){return new Qt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?e:e.child(t)}function R1(a){const t=Qt.fromString(a);return _t(M1(t),10190,{key:t.toString()}),t}function Af(a,t){return jg(a.databaseId,t.path)}function ds(a,t){const e=R1(t);if(e.get(1)!==a.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+a.databaseId.projectId);if(e.get(3)!==a.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+a.databaseId.database);return new lt(C1(e))}function I1(a,t){return jg(a.databaseId,t)}function w1(a){const t=R1(a);return t.length===4?Qt.emptyPath():C1(t)}function tg(a){return new Qt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function C1(a){return _t(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function j0(a,t,e){return{name:Af(a,t),fields:e.value.mapValue.fields}}function CD(a,t,e){const r=ds(a,t.name),o=vn(t.updateTime),l=t.createTime?vn(t.createTime):Tt.min(),c=new hn({mapValue:{fields:t.fields}}),d=Te.newFoundDocument(r,o,l,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function DD(a,t){let e;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:pt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(_t(v===void 0||typeof v=="string",58123),Be.fromBase64String(v||"")):(_t(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Be.fromUint8Array(v||new Uint8Array))})(a,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?Y.UNKNOWN:T1(g.code);return new st(v,g.message||"")})(c);e=new A1(r,o,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=ds(a,r.document.name),l=vn(r.document.updateTime),c=r.document.createTime?vn(r.document.createTime):Tt.min(),d=new hn({mapValue:{fields:r.document.fields}}),p=Te.newFoundDocument(o,l,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];e=new lf(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=ds(a,r.document),l=r.readTime?vn(r.readTime):Tt.min(),c=Te.newNoDocument(o,l),d=r.removedTargetIds||[];e=new lf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=ds(a,r.document),l=r.removedTargetIds||[];e=new lf([],l,o,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new _D(o,l),d=r.targetId;e=new S1(d,c)}}return e}function bf(a,t){let e;if(t instanceof nl)e={update:j0(a,t.key,t.value)};else if(t instanceof nc)e={delete:Af(a,t.key)};else if(t instanceof Rr)e={update:j0(a,t.key,t.data),updateMask:PD(t.fieldMask)};else{if(!(t instanceof E1))return pt(16599,{dt:t.type});e={verify:Af(a,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yu)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw pt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:wD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:pt(27497)})(a,t.precondition)),e}function eg(a,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?Ze.updateTime(vn(l.updateTime)):l.exists!==void 0?Ze.exists(l.exists):Ze.none()})(t.currentDocument):Ze.none(),r=t.updateTransforms?t.updateTransforms.map((o=>(function(c,d){let p=null;if("setToServerValue"in d)_t(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),p=new Qu;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];p=new Qo(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];p=new Yo(v)}else"increment"in d?p=new Yu(c,d.increment):pt(16584,{proto:d});const g=ye.fromServerFormat(d.fieldPath);return new dD(g,p)})(a,o))):[];if(t.update){t.update.name;const o=ds(a,t.update.name),l=new hn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(p){const g=p.fieldPaths||[];return new Cn(g.map((v=>ye.fromServerFormat(v))))})(t.updateMask);return new Rr(o,l,c,e,r)}return new nl(o,l,e,r)}if(t.delete){const o=ds(a,t.delete);return new nc(o,e)}if(t.verify){const o=ds(a,t.verify);return new E1(o,e)}return pt(1463,{proto:t})}function xD(a,t){return a&&a.length>0?(_t(t!==void 0,14353),a.map((e=>(function(o,l){let c=o.updateTime?vn(o.updateTime):vn(l);return c.isEqual(Tt.min())&&(c=vn(l)),new pD(c,o.transformResults||[])})(e,t)))):[]}function D1(a,t){return{documents:[I1(a,t.path)]}}function x1(a,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=I1(a,o);const l=(function(g){if(g.length!==0)return O1(Wt.create(g,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:xo(A.field),direction:ND(A.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Jp(a,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:o}}function V1(a){let t=w1(a.parent);const e=a.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){_t(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=(function(T){const A=N1(T);return A instanceof Wt&&Lg(A)?A.getFilters():[A]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((A=>(function(H){return new Ku(Vo(H.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(A)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let A;return A=typeof T=="object"?T.value:T,Uf(A)?null:A})(e.limit));let p=null;e.startAt&&(p=(function(T){const A=!!T.before,x=T.values||[];return new Go(x,A)})(e.startAt));let g=null;return e.endAt&&(g=(function(T){const A=!T.before,x=T.values||[];return new Go(x,A)})(e.endAt)),WC(t,o,c,l,d,"F",p,g)}function VD(a,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function N1(a){return a.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Vo(e.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(e.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(e.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(e.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(a):a.fieldFilter!==void 0?(function(e){return Ut.create(Vo(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(e){return Wt.create(e.compositeFilter.filters.map((r=>N1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(e.compositeFilter.op))})(a):pt(30097,{filter:a})}function ND(a){return AD[a]}function OD(a){return bD[a]}function MD(a){return RD[a]}function xo(a){return{fieldPath:a.canonicalString()}}function Vo(a){return ye.fromServerFormat(a.fieldPath)}function O1(a){return a instanceof Ut?(function(e){if(e.op==="=="){if(I0(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NAN"}};if(R0(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(I0(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NAN"}};if(R0(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(e.field),op:OD(e.op),value:e.value}}})(a):a instanceof Wt?(function(e){const r=e.getFilters().map((o=>O1(o)));return r.length===1?r[0]:{compositeFilter:{op:MD(e.op),filters:r}}})(a):pt(54877,{filter:a})}function PD(a){const t=[];return a.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function M1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function P1(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class yr{constructor(t,e,r,o,l=Tt.min(),c=Tt.min(),d=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class L1{constructor(t){this.yt=t}}function LD(a,t){let e;if(t.document)e=CD(a.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=lt.fromSegments(t.noDocument.path),o=Es(t.noDocument.readTime);e=Te.newNoDocument(r,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt(56709);{const r=lt.fromSegments(t.unknownDocument.path),o=Es(t.unknownDocument.version);e=Te.newUnknownDocument(r,o)}}return t.readTime&&e.setReadTime((function(o){const l=new Jt(o[0],o[1]);return Tt.fromTimestamp(l)})(t.readTime)),e}function F0(a,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Rf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(l,c){return{name:Af(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Xo(l,c.version.toTimestamp()),createTime:Xo(l,c.createTime.toTimestamp())}})(a.yt,t);else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:vs(t.version)};else{if(!t.isUnknownDocument())return pt(57904,{document:t});r.unknownDocument={path:e.path.toArray(),version:vs(t.version)}}return r}function Rf(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function vs(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Es(a){const t=new Jt(a.seconds,a.nanoseconds);return Tt.fromTimestamp(t)}function os(a,t){const e=(t.baseMutations||[]).map((l=>eg(a.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const r=t.mutations.map((l=>eg(a.yt,l))),o=Jt.fromMillis(t.localWriteTimeMs);return new zg(t.batchId,o,e,r)}function Eu(a){const t=Es(a.readTime),e=a.lastLimboFreeSnapshotVersion!==void 0?Es(a.lastLimboFreeSnapshotVersion):Tt.min();let r;return r=(function(l){return l.documents!==void 0})(a.query)?(function(l){const c=l.documents.length;return _t(c===1,1966,{count:c}),ii(Ff(w1(l.documents[0])))})(a.query):(function(l){return ii(V1(l))})(a.query),new yr(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,e,Be.fromBase64String(a.resumeToken))}function U1(a,t){const e=vs(t.snapshotVersion),r=vs(t.lastLimboFreeSnapshotVersion);let o;o=Tf(t.target)?D1(a.yt,t.target):x1(a.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:_s(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function z1(a){const t=V1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zp(t,t.limit,"L"):t}function Ep(a,t){return new Bg(t.largestBatchId,eg(a.yt,t.overlayMutation))}function H0(a,t){const e=t.path.lastSegment();return[a,fn(t.path.popLast()),e]}function G0(a,t,e,r){return{indexId:a,uid:t,sequenceNumber:e,readTime:vs(r.readTime),documentKey:fn(r.documentKey.path),largestBatchId:r.largestBatchId}}class UD{getBundleMetadata(t,e){return K0(t).get(e).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:Es(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(t,e){return K0(t).put((function(o){return{bundleId:o.id,createTime:vs(vn(o.createTime)),version:o.version}})(e))}getNamedQuery(t,e){return Q0(t).get(e).next((r=>{if(r)return(function(l){return{name:l.name,query:z1(l.bundledQuery),readTime:Es(l.readTime)}})(r)}))}saveNamedQuery(t,e){return Q0(t).put((function(o){return{name:o.name,readTime:vs(vn(o.readTime)),bundledQuery:o.bundledQuery}})(e))}}function K0(a){return Ke(a,zf)}function Q0(a){return Ke(a,kf)}class Yf{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const r=e.uid||"";return new Yf(t,r)}getOverlay(t,e){return hu(t).get(H0(this.userId,e)).next((r=>r?Ep(this.serializer,r):null))}getOverlays(t,e){const r=Yi();return U.forEach(e,(o=>this.getOverlay(t,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(t,e,r){const o=[];return r.forEach(((l,c)=>{const d=new Bg(e,c);o.push(this.bt(t,d))})),U.waitFor(o)}removeOverlaysForBatchId(t,e,r){const o=new Set;e.forEach((c=>o.add(fn(c.getCollectionPath()))));const l=[];return o.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(hu(t).X(Fp,d))})),U.waitFor(l)}getOverlaysForCollection(t,e,r){const o=Yi(),l=fn(e),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return hu(t).H(Fp,c).next((d=>{for(const p of d){const g=Ep(this.serializer,p);o.set(g.getKey(),g)}return o}))}getOverlaysForCollectionGroup(t,e,r,o){const l=Yi();let c;const d=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return hu(t).ee({index:kS,range:d},((p,g,v)=>{const T=Ep(this.serializer,g);l.size()<o||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):v.done()})).next((()=>l))}bt(t,e){return hu(t).put((function(o,l,c){const[d,p,g]=H0(l,c.mutation.key);return{userId:l,collectionPath:p,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:bf(o.yt,c.mutation)}})(this.serializer,this.userId,e))}}function hu(a){return Ke(a,Bf)}class zD{St(t){return Ke(t,Vg)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const r=e?.value;return r?Be.fromUint8Array(r):Be.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class ls{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(de(t.integerValue));else if("doubleValue"in t){const r=de(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),zu(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=Tr(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Sr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?ZS(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):jf(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):pt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const r=t.fields||{};this.Ft(e,55);for(const o of Object.keys(r))this.Ot(o,e),this.Ct(r[o],e)}kt(t,e){const r=t.fields||{};this.Ft(e,53);const o=Fo,l=r[o].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(de(l)),this.Ot(o,e),this.Ct(r[o],e)}qt(t,e){const r=t.values||[];this.Ft(e,50);for(const o of r)this.Ct(o,e)}Lt(t,e){this.Ft(e,37),lt.fromName(t).path.forEach((r=>{this.Ft(e,60),this.$t(r,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}ls.Wt=new ls;const So=255;function kD(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function Y0(a){const t=64-(function(r){let o=0;for(let l=0;l<8;++l){const c=kD(255&r[l]);if(o+=c,c!==8)break}return o})(a);return Math.ceil(t/8)}class BD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Gt(r.value),r=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ht(r.value),r=e.next();this.Jt()}Zt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const o=e.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Xt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const o=e.codePointAt(0);this.Ht(240|o>>>18),this.Ht(128|63&o>>>12),this.Ht(128|63&o>>>6),this.Ht(128|63&o)}}this.Jt()}Yt(t){const e=this.en(t),r=Y0(e);this.tn(1+r),this.buffer[this.position++]=255&r;for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=255&e[o]}nn(t){const e=this.en(t),r=Y0(e);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let o=e.length-r;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}rn(){this.sn(So),this.sn(255)}_n(){this.an(So),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(t),r=!!(128&e[0]);e[0]^=r?255:128;for(let o=1;o<e.length;++o)e[o]^=r?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===So?(this.sn(So),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===So?(this.an(So),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class qD{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class jD{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class fu{constructor(){this.cn=new BD,this.ascending=new qD(this.cn),this.descending=new jD(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class us{constructor(t,e,r,o){this.hn=t,this.Pn=e,this.Tn=r,this.In=o}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,r=new Uint8Array(e);return r.set(this.In,0),e!==t?r.set([0],this.In.length):++r[r.length-1],new us(this.hn,this.Pn,this.Tn,r)}Rn(t,e,r){return{indexId:this.hn,uid:t,arrayValue:uf(this.Tn),directionalValue:uf(this.In),orderedDocumentKey:uf(e),documentKey:r.path.toArray()}}An(t,e,r){const o=this.Rn(t,e,r);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function aa(a,t){let e=a.hn-t.hn;return e!==0?e:(e=X0(a.Tn,t.Tn),e!==0?e:(e=X0(a.In,t.In),e!==0?e:lt.comparator(a.Pn,t.Pn)))}function X0(a,t){for(let e=0;e<a.length&&e<t.length;++e){const r=a[e]-t[e];if(r!==0)return r}return a.length-t.length}function uf(a){return hS()?(function(e){let r="";for(let o=0;o<e.length;o++)r+=String.fromCharCode(e[o]);return r})(a):a}function $0(a){return typeof a!="string"?a:(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(a)}class Z0{constructor(t){this.Vn=new te(((e,r)=>ye.comparator(e.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const r=e;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=Bp(t);if(e!==void 0&&!this.pn(e))return!1;const r=rs(t);let o=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)o=o.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!o.has(d.field.canonicalString())){const p=r[l];if(!this.yn(d,p)||!this.wn(this.dn[c++],p))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let t=new te(ye.comparator);const e=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")e.push(new tf(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),e.push(new tf(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),e.push(new tf(r.field,r.dir==="asc"?0:1)));return new gf(gf.UNKNOWN_ID,this.collectionId,e,Uu.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===r}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function k1(a){if(_t(a instanceof Ut||a instanceof Wt,20012),a instanceof Ut){if(a instanceof s1){const e=a.value.arrayValue?.values?.map((r=>Ut.create(a.field,"==",r)))||[];return Wt.create(e,"or")}return a}const t=a.filters.map((e=>k1(e)));return Wt.create(t,a.op)}function FD(a){if(a.getFilters().length===0)return[];const t=rg(k1(a));return _t(B1(t),7391),ng(t)||ig(t)?[t]:t.getFilters()}function ng(a){return a instanceof Ut}function ig(a){return a instanceof Wt&&Lg(a)}function B1(a){return ng(a)||ig(a)||(function(e){if(e instanceof Wt&&Qp(e)){for(const r of e.getFilters())if(!ng(r)&&!ig(r))return!1;return!0}return!1})(a)}function rg(a){if(_t(a instanceof Ut||a instanceof Wt,34018),a instanceof Ut)return a;if(a.filters.length===1)return rg(a.filters[0]);const t=a.filters.map((r=>rg(r)));let e=Wt.create(t,a.op);return e=If(e),B1(e)?e:(_t(e instanceof Wt,64498),_t(Ko(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((r,o)=>Fg(r,o))))}function Fg(a,t){let e;return _t(a instanceof Ut||a instanceof Wt,38388),_t(t instanceof Ut||t instanceof Wt,25473),e=a instanceof Ut?t instanceof Ut?(function(o,l){return Wt.create([o,l],"and")})(a,t):J0(a,t):t instanceof Ut?J0(t,a):(function(o,l){if(_t(o.filters.length>0&&l.filters.length>0,48005),Ko(o)&&Ko(l))return i1(o,l.getFilters());const c=Qp(o)?o:l,d=Qp(o)?l:o,p=c.filters.map((g=>Fg(g,d)));return Wt.create(p,"or")})(a,t),If(e)}function J0(a,t){if(Ko(t))return i1(t,a.getFilters());{const e=t.filters.map((r=>Fg(a,r)));return Wt.create(e,"or")}}function If(a){if(_t(a instanceof Ut||a instanceof Wt,11850),a instanceof Ut)return a;const t=a.getFilters();if(t.length===1)return If(t[0]);if(e1(a))return a;const e=t.map((o=>If(o))),r=[];return e.forEach((o=>{o instanceof Ut?r.push(o):o instanceof Wt&&(o.op===a.op?r.push(...o.filters):r.push(o))})),r.length===1?r[0]:Wt.create(r,a.op)}class HD{constructor(){this.Sn=new Hg}addToCollectionParentIndex(t,e){return this.Sn.add(e),U.resolve()}getCollectionParents(t,e){return U.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return U.resolve()}deleteFieldIndex(t,e){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,e){return U.resolve()}getDocumentsMatchingTarget(t,e){return U.resolve(null)}getIndexType(t,e){return U.resolve(0)}getFieldIndexes(t,e){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,e){return U.resolve(Bn.min())}getMinOffsetFromCollectionGroup(t,e){return U.resolve(Bn.min())}updateCollectionGroup(t,e,r){return U.resolve()}updateIndexEntries(t,e){return U.resolve()}}class Hg{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new te(Qt.comparator),l=!o.has(r);return this.index[e]=o.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new te(Qt.comparator)).toArray()}}const W0="IndexedDbIndexManager",Hh=new Uint8Array(0);class GD{constructor(t,e){this.databaseId=e,this.Dn=new Hg,this.Cn=new br((r=>_s(r)),((r,o)=>tc(r,o))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:r,parent:fn(o)};return tT(t).put(l)}return U.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[wS(e),""],!1,!0);return tT(t).H(o).next((l=>{for(const c of l){if(c.collectionId!==e)break;r.push(Qi(c.parent))}return r}))}addFieldIndex(t,e){const r=du(t),o=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(e);delete o.indexId;const l=r.add(o);if(e.indexState){const c=bo(t);return l.next((d=>{c.put(G0(d,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const r=du(t),o=bo(t),l=Ao(t);return r.delete(e.indexId).next((()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=du(t),r=Ao(t),o=bo(t);return e.X().next((()=>r.X())).next((()=>o.X()))}createTargetIndexes(t,e){return U.forEach(this.vn(e),(r=>this.getIndexType(t,r).next((o=>{if(o===0||o===1){const l=new Z0(r).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const r=Ao(t);let o=!0;const l=new Map;return U.forEach(this.vn(e),(c=>this.Fn(t,c).next((d=>{o&&(o=!!d),l.set(c,d)})))).next((()=>{if(o){let c=Nt();const d=[];return U.forEach(l,((p,g)=>{at(W0,`Using index ${(function(it){return`id=${it.indexId}|cg=${it.collectionGroup}|f=${it.fields.map((gt=>`${gt.fieldPath}:${gt.kind}`)).join(",")}`})(p)} to execute ${_s(e)}`);const v=(function(it,gt){const dt=Bp(gt);if(dt===void 0)return null;for(const vt of Sf(it,dt.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null})(g,p),T=(function(it,gt){const dt=new Map;for(const vt of rs(gt))for(const I of Sf(it,vt.fieldPath))switch(I.op){case"==":case"in":dt.set(vt.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return dt.set(vt.fieldPath.canonicalString(),I.value),Array.from(dt.values())}return null})(g,p),A=(function(it,gt){const dt=[];let vt=!0;for(const I of rs(gt)){const R=I.kind===0?V0(it,I.fieldPath,it.startAt):N0(it,I.fieldPath,it.startAt);dt.push(R.value),vt&&(vt=R.inclusive)}return new Go(dt,vt)})(g,p),x=(function(it,gt){const dt=[];let vt=!0;for(const I of rs(gt)){const R=I.kind===0?N0(it,I.fieldPath,it.endAt):V0(it,I.fieldPath,it.endAt);dt.push(R.value),vt&&(vt=R.inclusive)}return new Go(dt,vt)})(g,p),H=this.Mn(p,g,A),K=this.Mn(p,g,x),j=this.xn(p,g,T),nt=this.On(p.indexId,v,H,A.inclusive,K,x.inclusive,j);return U.forEach(nt,(et=>r.Z(et,e.limit).next((it=>{it.forEach((gt=>{const dt=lt.fromSegments(gt.documentKey);c.has(dt)||(c=c.add(dt),d.push(dt))}))}))))})).next((()=>d))}return U.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=FD(Wt.create(t.filters,"and")).map((r=>Xp(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,r,o,l,c,d){const p=(e!=null?e.length:1)*Math.max(r.length,l.length),g=p/(e!=null?e.length:1),v=[];for(let T=0;T<p;++T){const A=e?this.Nn(e[T/g]):Hh,x=this.Bn(t,A,r[T%g],o),H=this.Ln(t,A,l[T%g],c),K=d.map((j=>this.Bn(t,A,j,!0)));v.push(...this.createRange(x,H,K))}return v}Bn(t,e,r,o){const l=new us(t,lt.empty(),e,r);return o?l:l.En()}Ln(t,e,r,o){const l=new us(t,lt.empty(),e,r);return o?l.En():l}Fn(t,e){const r=new Z0(e),o=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next((l=>{let c=null;for(const d of l)r.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(t,e){let r=2;const o=this.vn(e);return U.forEach(o,(l=>this.Fn(t,l).next((c=>{c?r!==0&&c.fields.length<(function(p){let g=new te(ye.comparator),v=!1;for(const T of p.filters)for(const A of T.getFlattenedFilters())A.field.isKeyField()||(A.op==="array-contains"||A.op==="array-contains-any"?v=!0:g=g.add(A.field));for(const T of p.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(v?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(e)&&o.length>1&&r===2?1:r))}kn(t,e){const r=new fu;for(const o of rs(t)){const l=e.data.field(o.fieldPath);if(l==null)return null;const c=r.ln(o.kind);ls.Wt.Dt(l,c)}return r.un()}Nn(t){const e=new fu;return ls.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const r=new fu;return ls.Wt.Dt(Hu(this.databaseId,e),r.ln((function(l){const c=rs(l);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}xn(t,e,r){if(r===null)return[];let o=[];o.push(new fu);let l=0;for(const c of rs(t)){const d=r[l++];for(const p of o)if(this.qn(e,c.fieldPath)&&Gu(d))o=this.Un(o,c,d);else{const g=p.ln(c.kind);ls.Wt.Dt(d,g)}}return this.$n(o)}Mn(t,e,r){return this.xn(t,e,r.position)}$n(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].un();return e}Un(t,e,r){const o=[...t],l=[];for(const c of r.arrayValue.values||[])for(const d of o){const p=new fu;p.seed(d.un()),ls.Wt.Dt(c,p.ln(e.kind)),l.push(p)}return l}qn(t,e){return!!t.filters.find((r=>r instanceof Ut&&r.field.isEqual(e)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,e){const r=du(t),o=bo(t);return(e?r.H(jp,IDBKeyRange.bound(e,e)):r.H()).next((l=>{const c=[];return U.forEach(l,(d=>o.get([d.indexId,this.uid]).next((p=>{c.push((function(v,T){const A=T?new Uu(T.sequenceNumber,new Bn(Es(T.readTime),new lt(Qi(T.documentKey)),T.largestBatchId)):Uu.empty(),x=v.fields.map((([H,K])=>new tf(ye.fromServerFormat(H),K)));return new gf(v.indexId,v.collectionGroup,x,A)})(d,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return l!==0?l:Rt(r.collectionGroup,o.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,r){const o=du(t),l=bo(t);return this.Wn(t).next((c=>o.H(jp,IDBKeyRange.bound(e,e)).next((d=>U.forEach(d,(p=>l.put(G0(p.indexId,this.uid,c,r))))))))}updateIndexEntries(t,e){const r=new Map;return U.forEach(e,((o,l)=>{const c=r.get(o.collectionGroup);return(c?U.resolve(c):this.getFieldIndexes(t,o.collectionGroup)).next((d=>(r.set(o.collectionGroup,d),U.forEach(d,(p=>this.Qn(t,o,p).next((g=>{const v=this.Gn(l,p);return g.isEqual(v)?U.resolve():this.zn(t,l,p,g,v)})))))))}))}jn(t,e,r,o){return Ao(t).put(o.Rn(this.uid,this.Kn(r,e.key),e.key))}Hn(t,e,r,o){return Ao(t).delete(o.An(this.uid,this.Kn(r,e.key),e.key))}Qn(t,e,r){const o=Ao(t);let l=new te(aa);return o.ee({index:zS,range:IDBKeyRange.only([r.indexId,this.uid,uf(this.Kn(r,e))])},((c,d)=>{l=l.add(new us(r.indexId,e,$0(d.arrayValue),$0(d.directionalValue)))})).next((()=>l))}Gn(t,e){let r=new te(aa);const o=this.kn(e,t);if(o==null)return r;const l=Bp(e);if(l!=null){const c=t.data.field(l.fieldPath);if(Gu(c))for(const d of c.arrayValue.values||[])r=r.add(new us(e.indexId,t.key,this.Nn(d),o))}else r=r.add(new us(e.indexId,t.key,Hh,o));return r}zn(t,e,r,o,l){at(W0,"Updating index entries for document '%s'",e.key);const c=[];return(function(p,g,v,T,A){const x=p.getIterator(),H=g.getIterator();let K=To(x),j=To(H);for(;K||j;){let nt=!1,et=!1;if(K&&j){const it=v(K,j);it<0?et=!0:it>0&&(nt=!0)}else K!=null?et=!0:nt=!0;nt?(T(j),j=To(H)):et?(A(K),K=To(x)):(K=To(x),j=To(H))}})(o,l,aa,(d=>{c.push(this.jn(t,e,r,d))}),(d=>{c.push(this.Hn(t,e,r,d))})),U.waitFor(c)}Wn(t){let e=1;return bo(t).ee({index:US,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,o,l)=>{l.done(),e=o.sequenceNumber+1})).next((()=>e))}createRange(t,e,r){r=r.sort(((c,d)=>aa(c,d))).filter(((c,d,p)=>!d||aa(c,p[d-1])!==0));const o=[];o.push(t);for(const c of r){const d=aa(c,t),p=aa(c,e);if(d===0)o[0]=t.En();else if(d>0&&p<0)o.push(c),o.push(c.En());else if(p>0)break}o.push(e);const l=[];for(let c=0;c<o.length;c+=2){if(this.Jn(o[c],o[c+1]))return[];const d=o[c].An(this.uid,Hh,lt.empty()),p=o[c+1].An(this.uid,Hh,lt.empty());l.push(IDBKeyRange.bound(d,p))}return l}Jn(t,e){return aa(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(eT)}getMinOffset(t,e){return U.mapArray(this.vn(e),(r=>this.Fn(t,r).next((o=>o||pt(44426))))).next(eT)}}function tT(a){return Ke(a,qu)}function Ao(a){return Ke(a,wu)}function du(a){return Ke(a,xg)}function bo(a){return Ke(a,Iu)}function eT(a){_t(a.length!==0,28825);let t=a[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<a.length;r++){const o=a[r].indexState.offset;wg(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Bn(t.readTime,t.documentKey,e)}const nT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}function j1(a,t,e){const r=a.store(yi),o=a.store(ko),l=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=r.ee({range:c},((v,T,A)=>(d++,A.delete())));l.push(p.next((()=>{_t(d===1,47070,{batchId:e.batchId})})));const g=[];for(const v of e.mutations){const T=MS(t,v.key.path,e.batchId);l.push(o.delete(T)),g.push(v.key)}return U.waitFor(l).next((()=>g))}function wf(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw pt(14731);t=a.noDocument}return JSON.stringify(t).length}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(q1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Xf{constructor(t,e,r,o){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=o,this.Zn={}}static wt(t,e,r,o){_t(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Xf(l,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sa(t).ee({index:cs,range:r},((o,l,c)=>{e=!1,c.done()})).next((()=>e))}addMutationBatch(t,e,r,o){const l=No(t),c=sa(t);return c.add({}).next((d=>{_t(typeof d=="number",49019);const p=new zg(d,e,r,o),g=(function(x,H,K){const j=K.baseMutations.map((et=>bf(x.yt,et))),nt=K.mutations.map((et=>bf(x.yt,et)));return{userId:H,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:j,mutations:nt}})(this.serializer,this.userId,p),v=[];let T=new te(((A,x)=>Rt(A.canonicalString(),x.canonicalString())));for(const A of o){const x=MS(this.userId,A.key.path,d);T=T.add(A.key.path.popLast()),v.push(c.put(g)),v.push(l.put(x,gC))}return T.forEach((A=>{v.push(this.indexManager.addToCollectionParentIndex(t,A))})),t.addOnCommittedListener((()=>{this.Zn[d]=p.keys()})),U.waitFor(v).next((()=>p))}))}lookupMutationBatch(t,e){return sa(t).get(e).next((r=>r?(_t(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:e}),os(this.serializer,r)):null))}Xn(t,e){return this.Zn[e]?U.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((r=>{if(r){const o=r.keys();return this.Zn[e]=o,o}return null}))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return sa(t).ee({index:cs,range:o},((c,d,p)=>{d.userId===this.userId&&(_t(d.batchId>=r,47524,{Yn:r}),l=os(this.serializer,d)),p.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=hs;return sa(t).ee({index:cs,range:e,reverse:!0},((o,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,hs],[this.userId,Number.POSITIVE_INFINITY]);return sa(t).H(cs,e).next((r=>r.map((o=>os(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=ef(this.userId,e.path),o=IDBKeyRange.lowerBound(r),l=[];return No(t).ee({range:o},((c,d,p)=>{const[g,v,T]=c,A=Qi(v);if(g===this.userId&&e.path.isEqual(A))return sa(t).get(T).next((x=>{if(!x)throw pt(61480,{er:c,batchId:T});_t(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:T}),l.push(os(this.serializer,x))}));p.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new te(Rt);const o=[];return e.forEach((l=>{const c=ef(this.userId,l.path),d=IDBKeyRange.lowerBound(c),p=No(t).ee({range:d},((g,v,T)=>{const[A,x,H]=g,K=Qi(x);A===this.userId&&l.path.isEqual(K)?r=r.add(H):T.done()}));o.push(p)})),U.waitFor(o).next((()=>this.tr(t,r)))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,l=ef(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new te(Rt);return No(t).ee({range:c},((p,g,v)=>{const[T,A,x]=p,H=Qi(A);T===this.userId&&r.isPrefixOf(H)?H.length===o&&(d=d.add(x)):v.done()})).next((()=>this.tr(t,d)))}tr(t,e){const r=[],o=[];return e.forEach((l=>{o.push(sa(t).get(l).next((c=>{if(c===null)throw pt(35274,{batchId:l});_t(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(os(this.serializer,c))})))})),U.waitFor(o).next((()=>r))}removeMutationBatch(t,e){return j1(t.le,this.userId,e).next((r=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),U.forEach(r,(o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return U.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return No(t).ee({range:r},((l,c,d)=>{if(l[0]===this.userId){const p=Qi(l[1]);o.push(p)}else d.done()})).next((()=>{_t(o.length===0,56720,{rr:o.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return F1(t,this.userId,e)}ir(t){return H1(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:hs,lastStreamToken:""}))}}function F1(a,t,e){const r=ef(t,e.path),o=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return No(a).ee({range:l,Y:!0},((d,p,g)=>{const[v,T,A]=d;v===t&&T===o&&(c=!0),g.done()})).next((()=>c))}function sa(a){return Ke(a,yi)}function No(a){return Ke(a,ko)}function H1(a){return Ke(a,ku)}class Ts{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ts(0)}static ar(){return new Ts(-1)}}class KD{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const r=new Ts(e.highestTargetId);return e.highestTargetId=r.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Tt.fromTimestamp(new Jt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,r){return this.ur(t).next((o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.cr(t,o))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((r=>(r.targetCount+=1,this.hr(e,r),this.cr(t,r))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Ro(t).delete(e.targetId))).next((()=>this.ur(t))).next((r=>(_t(r.targetCount>0,8065),r.targetCount-=1,this.cr(t,r))))}removeTargets(t,e,r){let o=0;const l=[];return Ro(t).ee(((c,d)=>{const p=Eu(d);p.sequenceNumber<=e&&r.get(p.targetId)===null&&(o++,l.push(this.removeTargetData(t,p)))})).next((()=>U.waitFor(l))).next((()=>o))}forEachTarget(t,e){return Ro(t).ee(((r,o)=>{const l=Eu(o);e(l)}))}ur(t){return iT(t).get(vf).next((e=>(_t(e!==null,2888),e)))}cr(t,e){return iT(t).put(vf,e)}lr(t,e){return Ro(t).put(U1(this.serializer,e))}hr(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const r=_s(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Ro(t).ee({range:o,index:LS},((c,d,p)=>{const g=Eu(d);tc(e,g.target)&&(l=g,p.done())})).next((()=>l))}addMatchingKeys(t,e,r){const o=[],l=la(t);return e.forEach((c=>{const d=fn(c.path);o.push(l.put({targetId:r,path:d})),o.push(this.referenceDelegate.addReference(t,r,c))})),U.waitFor(o)}removeMatchingKeys(t,e,r){const o=la(t);return U.forEach(e,(l=>{const c=fn(l.path);return U.waitFor([o.delete([r,c]),this.referenceDelegate.removeReference(t,r,l)])}))}removeMatchingKeysForTargetId(t,e){const r=la(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=la(t);let l=Nt();return o.ee({range:r,Y:!0},((c,d,p)=>{const g=Qi(c[1]),v=new lt(g);l=l.add(v)})).next((()=>l))}containsKey(t,e){const r=fn(e.path),o=IDBKeyRange.bound([r],[wS(r)],!1,!0);let l=0;return la(t).ee({index:Dg,Y:!0,range:o},(([c,d],p,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(t,e){return Ro(t).get(e).next((r=>r?Eu(r):null))}}function Ro(a){return Ke(a,Bo)}function iT(a){return Ke(a,fs)}function la(a){return Ke(a,qo)}const rT="LruGarbageCollector",G1=1048576;function aT([a,t],[e,r]){const o=Rt(a,e);return o===0?Rt(t,r):o}class QD{constructor(t){this.Pr=t,this.buffer=new te(aT),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();aT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class K1{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(rT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ta(e)?at(rT,"Ignoring IndexedDB error during garbage collection: ",e):await Rs(e)}await this.Ar(3e5)}))}}class YD{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return U.resolve(ni.ce);const r=new QD(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(nT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nT):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,d=Date.now(),this.removeTargets(t,r,e)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),Co()<=qt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function Q1(a,t){return new YD(a,t)}class XD{constructor(t,e){this.db=t,this.garbageCollector=Q1(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((r,o)=>e(o)))}addReference(t,e,r){return Gh(t,r)}removeReference(t,e,r){return Gh(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Gh(t,e)}wr(t,e){return(function(o,l){let c=!1;return H1(o).te((d=>F1(o,d,l).next((p=>(p&&(c=!0),U.resolve(!p)))))).next((()=>c))})(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.yr(t,((c,d)=>{if(d<=e){const p=this.wr(t,c).next((g=>{if(!g)return l++,r.getEntry(t,c).next((()=>(r.removeEntry(c,Tt.min()),la(t).delete((function(T){return[0,fn(T.path)]})(c)))))}));o.push(p)}})).next((()=>U.waitFor(o))).next((()=>r.apply(t))).next((()=>l))}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Gh(t,e)}yr(t,e){const r=la(t);let o,l=ni.ce;return r.ee({index:Dg},(([c,d],{path:p,sequenceNumber:g})=>{c===0?(l!==ni.ce&&e(new lt(Qi(o)),l),l=g,o=p):l=ni.ce})).next((()=>{l!==ni.ce&&e(new lt(Qi(o)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Gh(a,t){return la(a).put((function(r,o){return{targetId:0,path:fn(r.path),sequenceNumber:o}})(t,a.currentSequenceNumber))}class Y1{constructor(){this.changes=new br((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Te.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?U.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $D{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return es(t).put(r)}removeEntry(t,e,r){return es(t).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Rf(c),d[d.length-1]]})(e,r))}updateMetadata(t,e){return this.getMetadata(t).next((r=>(r.byteSize+=e,this.br(t,r))))}getEntry(t,e){let r=Te.newInvalidDocument(e);return es(t).ee({index:nf,range:IDBKeyRange.only(mu(e))},((o,l)=>{r=this.Sr(e,l)})).next((()=>r))}Dr(t,e){let r={size:0,document:Te.newInvalidDocument(e)};return es(t).ee({index:nf,range:IDBKeyRange.only(mu(e))},((o,l)=>{r={document:this.Sr(e,l),size:wf(l)}})).next((()=>r))}getEntries(t,e){let r=kn();return this.Cr(t,e,((o,l)=>{const c=this.Sr(o,l);r=r.insert(o,c)})).next((()=>r))}vr(t,e){let r=kn(),o=new ge(lt.comparator);return this.Cr(t,e,((l,c)=>{const d=this.Sr(l,c);r=r.insert(l,d),o=o.insert(l,wf(c))})).next((()=>({documents:r,Fr:o})))}Cr(t,e,r){if(e.isEmpty())return U.resolve();let o=new te(lT);e.forEach((p=>o=o.add(p)));const l=IDBKeyRange.bound(mu(o.first()),mu(o.last())),c=o.getIterator();let d=c.getNext();return es(t).ee({index:nf,range:l},((p,g,v)=>{const T=lt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&lT(d,T)<0;)r(d,null),d=c.getNext();d&&d.isEqual(T)&&(r(d,g),d=c.hasNext()?c.getNext():null),d?v.j(mu(d)):v.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,e,r,o,l){const c=e.path,d=[c.popLast().toArray(),c.lastSegment(),Rf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return es(t).H(IDBKeyRange.bound(d,p,!0)).next((g=>{l?.incrementDocumentReadCount(g.length);let v=kn();for(const T of g){const A=this.Sr(lt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);A.isFoundDocument()&&(ec(e,A)||o.has(A.key))&&(v=v.insert(A.key,A))}return v}))}getAllFromCollectionGroup(t,e,r,o){let l=kn();const c=oT(e,r),d=oT(e,Bn.max());return es(t).ee({index:PS,range:IDBKeyRange.bound(c,d,!0)},((p,g,v)=>{const T=this.Sr(lt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(T.key,T),l.size===o&&v.done()})).next((()=>l))}newChangeBuffer(t){return new ZD(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return sT(t).get(qp).next((e=>(_t(!!e,20021),e)))}br(t,e){return sT(t).put(qp,e)}Sr(t,e){if(e){const r=LD(this.serializer,e);if(!(r.isNoDocument()&&r.version.isEqual(Tt.min())))return r}return Te.newInvalidDocument(t)}}function X1(a){return new $D(a)}class ZD extends Y1{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new br((r=>r.toString()),((r,o)=>r.isEqual(o)))}applyChanges(t){const e=[];let r=0,o=new te(((l,c)=>Rt(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const p=F0(this.Mr.serializer,c);o=o.add(l.path.popLast());const g=wf(p);r+=g-d.size,e.push(this.Mr.addEntry(t,l,p))}else if(r-=d.size,this.trackRemovals){const p=F0(this.Mr.serializer,c.convertToNoDocument(Tt.min()));e.push(this.Mr.addEntry(t,l,p))}})),o.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,r)),U.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((r=>(this.Or.set(e,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:r,Fr:o})=>(o.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function sT(a){return Ke(a,Bu)}function es(a){return Ke(a,_f)}function mu(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function oT(a,t){const e=t.documentKey.path.toArray();return[a,Rf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function lT(a,t){const e=a.path.toArray(),r=t.path.toArray();let o=0;for(let l=0;l<e.length-2&&l<r.length-2;++l)if(o=Rt(e[l],r[l]),o)return o;return o=Rt(e.length,r.length),o||(o=Rt(e[e.length-2],r[r.length-2]),o||Rt(e[e.length-1],r[r.length-1]))}class JD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class $1{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Vu(r.mutation,o,Cn.empty(),Jt.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Nt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Nt()){const o=Yi();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((l=>{let c=_u();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Yi();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Nt())))}populateOverlays(t,e,r){const o=[];return r.forEach((l=>{e.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(t,o).next((l=>{l.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,r,o){let l=kn();const c=xu(),d=(function(){return xu()})();return e.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Rr)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Vu(v.mutation,g,v.mutation.getFieldMask(),Jt.now())):c.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),e.forEach(((g,v)=>d.set(g,new JD(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const r=xu();let o=new ge(((c,d)=>c-d)),l=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=e.get(p);if(g===null)return;let v=r.get(p)||Cn.empty();v=d.applyToLocalView(g,v),r.set(p,v);const T=(o.get(d.batchId)||Nt()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=f1();v.forEach((A=>{if(!l.has(A)){const x=_1(e.get(A),r.get(A));x!==null&&T.set(A,x),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return U.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return tD(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):o1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-l.size):U.resolve(Yi());let d=Lu,p=l;return c.next((g=>U.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?U.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,p,g,Nt()))).next((v=>({batchId:d,changes:h1(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new lt(e)).next((r=>{let o=_u();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const l=e.collectionGroup;let c=_u();return this.indexManager.getCollectionParents(t,l).next((d=>U.forEach(d,(p=>{const g=(function(T,A){return new el(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,o)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Te.newInvalidDocument(v)))}));let d=_u();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Vu(v.mutation,g,Cn.empty(),Jt.now()),ec(e,g)&&(d=d.insert(p,g))})),d}))}}class WD{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return U.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:vn(o.createTime)}})(e)),U.resolve()}getNamedQuery(t,e){return U.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:z1(o.bundledQuery),readTime:vn(o.readTime)}})(e)),U.resolve()}}class tx{constructor(){this.overlays=new ge(lt.comparator),this.Lr=new Map}getOverlay(t,e){return U.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Yi();return U.forEach(e,(o=>this.getOverlay(t,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,l)=>{this.bt(t,e,l)})),U.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),U.resolve()}getOverlaysForCollection(t,e,r){const o=Yi(),l=e.length+1,c=new lt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return U.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let l=new ge(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let v=l.get(g.largestBatchId);v===null&&(v=Yi(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Yi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return U.resolve(d)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Bg(e,r));let l=this.Lr.get(e);l===void 0&&(l=Nt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(r.key))}}class ex{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,U.resolve()}}class Gg{constructor(){this.kr=new te($e.Kr),this.qr=new te($e.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new $e(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new $e(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new lt(new Qt([])),r=new $e(e,t),o=new $e(e,t+1),l=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new lt(new Qt([])),r=new $e(e,t),o=new $e(e,t+1);let l=Nt();return this.qr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new $e(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class $e{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return lt.comparator(t.key,e.key)||Rt(t.Hr,e.Hr)}static Ur(t,e){return Rt(t.Hr,e.Hr)||lt.comparator(t.key,e.key)}}class nx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new te($e.Kr)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zg(l,e,r,o);this.mutationQueue.push(c);for(const d of o)this.Jr=this.Jr.add(new $e(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return U.resolve(c)}lookupMutationBatch(t,e){return U.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),l=o<0?0:o;return U.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?hs:this.Yn-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new $e(e,0),o=new $e(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,o],(c=>{const d=this.Zr(c.Hr);l.push(d)})),U.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new te(Rt);return e.forEach((o=>{const l=new $e(o,0),c=new $e(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{r=r.add(d.Hr)}))})),U.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let l=r;lt.isDocumentKey(l)||(l=l.child(""));const c=new $e(new lt(l),0);let d=new te(Rt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),c),U.resolve(this.Yr(d))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){_t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return U.forEach(e.mutations,(o=>{const l=new $e(o.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new $e(e,0),o=this.Jr.firstAfterOrEqual(r);return U.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class ix{constructor(t){this.ti=t,this.docs=(function(){return new ge(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),l=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return U.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(e))}getEntries(t,e){let r=kn();return e.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Te.newInvalidDocument(o))})),U.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let l=kn();const c=e.path,d=new lt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||wg(xS(v),r)<=0||(o.has(v.key)||ec(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return U.resolve(l)}getAllFromCollectionGroup(t,e,r,o){pt(9500)}ni(t,e){return U.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new rx(this)}getSize(t){return U.resolve(this.size)}}class rx extends Y1{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),U.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class ax{constructor(t){this.persistence=t,this.ri=new br((e=>_s(e)),tc),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Gg,this.targetCount=0,this.oi=Ts._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),U.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Ts(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,U.resolve()}updateTargetData(t,e){return this.lr(e),U.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,e,r){let o=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),U.waitFor(l).next((()=>o))}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return U.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),U.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach((c=>{l.push(o.markPotentiallyOrphaned(t,c))})),U.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),U.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return U.resolve(r)}containsKey(t,e){return U.resolve(this.si.containsKey(e))}}class Kg{constructor(t,e){this._i={},this.overlays={},this.ai=new ni(0),this.ui=!1,this.ui=!0,this.ci=new ex,this.referenceDelegate=t(this),this.li=new ax(this),this.indexManager=new HD,this.remoteDocumentCache=(function(o){return new ix(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new L1(e),this.Pi=new WD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tx,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new nx(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){at("MemoryPersistence","Starting transaction:",t);const o=new sx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(t,e){return U.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class sx extends NS{constructor(t){super(),this.currentSequenceNumber=t}}class $f{constructor(t){this.persistence=t,this.Ri=new Gg,this.Ai=null}static Vi(t){return new $f(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),U.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),U.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),U.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,(r=>{const o=lt.fromPath(r);return this.mi(t,o).next((l=>{l||e.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return U.or([()=>U.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Cf{constructor(t,e){this.persistence=t,this.fi=new br((r=>fn(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Q1(this,e)}static Vi(t,e){return new Cf(t,e)}Ti(){}Ii(t){return U.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return U.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((l=>l?U.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((d=>{d||(r++,l.removeEntry(c,Tt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),U.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),U.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),U.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=af(t.data.value)),e}wr(t,e,r){return U.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return U.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ox{constructor(t){this.serializer=t}k(t,e,r,o){const l=new Lf("createOrUpgrade",e);r<1&&o>=1&&((function(p){p.createObjectStore(Wu)})(t),(function(p){p.createObjectStore(ku,{keyPath:pC}),p.createObjectStore(yi,{keyPath:v0,autoIncrement:!0}).createIndex(cs,E0,{unique:!0}),p.createObjectStore(ko)})(t),uT(t),(function(p){p.createObjectStore(as)})(t));let c=U.resolve();return r<3&&o>=3&&(r!==0&&((function(p){p.deleteObjectStore(qo),p.deleteObjectStore(Bo),p.deleteObjectStore(fs)})(t),uT(t)),c=c.next((()=>(function(p){const g=p.store(fs),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return g.put(vf,v)})(l)))),r<4&&o>=4&&(r!==0&&(c=c.next((()=>(function(p,g){return g.store(yi).H().next((T=>{p.deleteObjectStore(yi),p.createObjectStore(yi,{keyPath:v0,autoIncrement:!0}).createIndex(cs,E0,{unique:!0});const A=g.store(yi),x=T.map((H=>A.put(H)));return U.waitFor(x)}))})(t,l)))),c=c.next((()=>{(function(p){p.createObjectStore(jo,{keyPath:bC})})(t)}))),r<5&&o>=5&&(c=c.next((()=>this.gi(l)))),r<6&&o>=6&&(c=c.next((()=>((function(p){p.createObjectStore(Bu)})(t),this.pi(l))))),r<7&&o>=7&&(c=c.next((()=>this.yi(l)))),r<8&&o>=8&&(c=c.next((()=>this.wi(t,l)))),r<9&&o>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&o>=10&&(c=c.next((()=>this.bi(l)))),r<11&&o>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(zf,{keyPath:RC})})(t),(function(p){p.createObjectStore(kf,{keyPath:IC})})(t)}))),r<12&&o>=12&&(c=c.next((()=>{(function(p){const g=p.createObjectStore(Bf,{keyPath:OC});g.createIndex(Fp,MC,{unique:!1}),g.createIndex(kS,PC,{unique:!1})})(t)}))),r<13&&o>=13&&(c=c.next((()=>(function(p){const g=p.createObjectStore(_f,{keyPath:yC});g.createIndex(nf,_C),g.createIndex(PS,vC)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(as)))),r<14&&o>=14&&(c=c.next((()=>this.Di(t,l)))),r<15&&o>=15&&(c=c.next((()=>(function(p){p.createObjectStore(xg,{keyPath:wC,autoIncrement:!0}).createIndex(jp,CC,{unique:!1}),p.createObjectStore(Iu,{keyPath:DC}).createIndex(US,xC,{unique:!1}),p.createObjectStore(wu,{keyPath:VC}).createIndex(zS,NC,{unique:!1})})(t)))),r<16&&o>=16&&(c=c.next((()=>{e.objectStore(Iu).clear()})).next((()=>{e.objectStore(wu).clear()}))),r<17&&o>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(Vg,{keyPath:LC})})(t)}))),r<18&&o>=18&&hS()&&(c=c.next((()=>{e.objectStore(Iu).clear()})).next((()=>{e.objectStore(wu).clear()}))),c}pi(t){let e=0;return t.store(as).ee(((r,o)=>{e+=wf(o)})).next((()=>{const r={byteSize:e};return t.store(Bu).put(qp,r)}))}gi(t){const e=t.store(ku),r=t.store(yi);return e.H().next((o=>U.forEach(o,(l=>{const c=IDBKeyRange.bound([l.userId,hs],[l.userId,l.lastAcknowledgedBatchId]);return r.H(cs,c).next((d=>U.forEach(d,(p=>{_t(p.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const g=os(this.serializer,p);return j1(t,l.userId,g).next((()=>{}))}))))}))))}yi(t){const e=t.store(qo),r=t.store(as);return t.store(fs).get(vf).next((o=>{const l=[];return r.ee(((c,d)=>{const p=new Qt(c),g=(function(T){return[0,fn(T)]})(p);l.push(e.get(g).next((v=>v?U.resolve():(T=>e.put({targetId:0,path:fn(T),sequenceNumber:o.highestListenSequenceNumber}))(p))))})).next((()=>U.waitFor(l)))}))}wi(t,e){t.createObjectStore(qu,{keyPath:AC});const r=e.store(qu),o=new Hg,l=c=>{if(o.add(c)){const d=c.lastSegment(),p=c.popLast();return r.put({collectionId:d,parent:fn(p)})}};return e.store(as).ee({Y:!0},((c,d)=>{const p=new Qt(c);return l(p.popLast())})).next((()=>e.store(ko).ee({Y:!0},(([c,d,p],g)=>{const v=Qi(d);return l(v.popLast())}))))}bi(t){const e=t.store(Bo);return e.ee(((r,o)=>{const l=Eu(o),c=U1(this.serializer,l);return e.put(c)}))}Si(t,e){const r=e.store(as),o=[];return r.ee(((l,c)=>{const d=e.store(_f),p=(function(T){return T.document?new lt(Qt.fromString(T.document.name).popFirst(5)):T.noDocument?lt.fromSegments(T.noDocument.path):T.unknownDocument?lt.fromSegments(T.unknownDocument.path):pt(36783)})(c).path.toArray(),g={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(d.put(g))})).next((()=>U.waitFor(o)))}Di(t,e){const r=e.store(yi),o=X1(this.serializer),l=new Kg($f.Vi,this.serializer.yt);return r.H().next((c=>{const d=new Map;return c.forEach((p=>{let g=d.get(p.userId)??Nt();os(this.serializer,p).keys().forEach((v=>g=g.add(v))),d.set(p.userId,g)})),U.forEach(d,((p,g)=>{const v=new yn(g),T=Yf.wt(this.serializer,v),A=l.getIndexManager(v),x=Xf.wt(v,this.serializer,A,l.referenceDelegate);return new $1(o,x,T,A).recalculateAndSaveOverlaysForDocumentKeys(new Hp(e,ni.ce),p).next()}))}))}}function uT(a){a.createObjectStore(qo,{keyPath:TC}).createIndex(Dg,SC,{unique:!0}),a.createObjectStore(Bo,{keyPath:"targetId"}).createIndex(LS,EC,{unique:!0}),a.createObjectStore(fs)}const oa="IndexedDbPersistence",Tp=18e5,Sp=5e3,Ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lx="main";class Qg{constructor(t,e,r,o,l,c,d,p,g,v,T=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Ci=l,this.window=c,this.document=d,this.Fi=g,this.Mi=v,this.xi=T,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=A=>Promise.resolve(),!Qg.v())throw new st(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XD(this,o),this.Ki=e+lx,this.serializer=new L1(p),this.qi=new ma(this.Ki,this.xi,new ox(this.serializer)),this.ci=new zD,this.li=new KD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=X1(this.serializer),this.Pi=new UD,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,v===!1&&_n(oa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Y.FAILED_PRECONDITION,Ap);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new ni(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Kh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Ta(t))return at(oa,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(oa,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return pu(t).get(Eo).next((e=>U.resolve(this.Xi(e))))}Yi(t){return Kh(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Tp)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const r=Ke(e,jo);return r.H().next((o=>{const l=this.ns(o,Tp),c=o.filter((d=>l.indexOf(d)===-1));return U.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?U.resolve(!0):pu(t).get(Eo).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,Sp)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new st(Y.FAILED_PRECONDITION,Ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kh(t).H().next((r=>this.ns(r,Sp).find((o=>{if(this.clientId!==o.clientId){const l=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,d=this.networkEnabled===o.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&at(oa,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Wu,jo],(t=>{const e=new Hp(t,ni.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((r=>this.ts(r.updateTimeMs,e)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>Kh(t).H().next((e=>this.ns(e,Tp).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Xf.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new GD(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Yf.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,r){at(oa,"Starting transaction:",t);const o=e==="readonly"?"readonly":"readwrite",l=(function(p){return p===18?kC:p===17?FS:p===16?zC:p===15?Ng:p===14?jS:p===13?qS:p===12?UC:p===11?BS:void pt(60245)})(this.xi);let c;return this.qi.runTransaction(t,o,l,(d=>(c=new Hp(d,this.ai?this.ai.next():ni.ce),e==="readwrite-primary"?this.ji(c).next((p=>!!p||this.Hi(c))).next((p=>{if(!p)throw _n(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new st(Y.FAILED_PRECONDITION,VS);return r(c)})).next((p=>this.Zi(c).next((()=>p)))):this.Ps(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(t){return pu(t).get(Eo).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,Sp)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new st(Y.FAILED_PRECONDITION,Ap)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pu(t).put(Eo,e)}static v(){return ma.v()}Ji(t){const e=pu(t);return e.get(Eo).next((r=>this.Xi(r)?(at(oa,"Releasing primary lease."),e.delete(Eo)):U.resolve()))}ts(t,e){const r=Date.now();return!(t<r-e)&&(!(t>r)||(_n(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;cS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return at(oa,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return _n(oa,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){_n("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function pu(a){return Ke(a,Wu)}function Kh(a){return Ke(a,jo)}function ux(a,t){let e=a.projectId;return a.isDefaultDatabase||(e+="."+a.database),"firestore/"+t+"/"+e+"/"}class Yg{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Nt(),o=Nt();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Yg(t,e.fromCache,r,o)}}class cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Z1{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cS()?8:OS(Uo())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const l={result:null};return this.gs(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,e,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new cx;return this.ys(t,e,c).next((d=>{if(l.result=d,this.As)return this.ws(t,e,c,d.size)}))})).next((()=>l.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(Co()<=qt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Do(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Co()<=qt.DEBUG&&at("QueryEngine","Query:",Do(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Co()<=qt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Do(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(e))):U.resolve())}gs(t,e){if(O0(e))return U.resolve(null);let r=ii(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Zp(e,null,"F"),r=ii(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=Nt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(e,d);return this.Ss(e,g,c,p.readTime)?this.gs(t,Zp(e,null,"F")):this.Ds(t,g,e,p)}))))})))))}ps(t,e,r,o){return O0(e)||o.isEqual(Tt.min())?U.resolve(null):this.fs.getDocuments(t,r).next((l=>{const c=this.bs(e,l);return this.Ss(e,c,r,o)?U.resolve(null):(Co()<=qt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(e)),this.Ds(t,c,e,lC(o,Lu)).next((d=>d)))}))}bs(t,e){let r=new te(u1(t));return e.forEach(((o,l)=>{ec(t,l)&&(r=r.add(l))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(t,e,r){return Co()<=qt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Do(e)),this.fs.getDocumentsMatchingQuery(t,e,Bn.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Xg="LocalStore",hx=3e8;class fx{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new ge(Rt),this.Fs=new br((l=>_s(l)),tc),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $1(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function J1(a,t,e,r){return new fx(a,t,e,r)}async function W1(a,t){const e=It(a);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let p=Nt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function dx(a,t){const e=It(a);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,A=T.keys();let x=U.resolve();return A.forEach((H=>{x=x.next((()=>v.getEntry(p,H))).next((K=>{const j=g.docVersions.get(H);_t(j!==null,48541),K.version.compareTo(j)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(e,r,t,l).next((()=>l.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Nt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function tA(a){const t=It(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function mx(a,t){const e=It(a),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const d=[];t.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;d.push(e.li.removeMatchingKeys(l,v.removedDocuments,T).next((()=>e.li.addMatchingKeys(l,v.addedDocuments,T))));let x=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(Be.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),o=o.insert(T,x),(function(K,j,nt){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=hx?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(A,x,v)&&d.push(e.li.updateTargetData(l,x))}));let p=kn(),g=Nt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(px(l,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(Tt.min())){const v=e.li.getLastRemoteSnapshotVersion(l).next((T=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(v)}return U.waitFor(d).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(e.vs=o,l)))}function px(a,t,e){let r=Nt(),o=Nt();return e.forEach((l=>r=r.add(l))),t.getEntries(a,r).next((l=>{let c=kn();return e.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):at(Xg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function gx(a,t){const e=It(a);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=hs),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function yx(a,t){const e=It(a);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((l=>l?(o=l,U.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new yr(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function ag(a,t,e){const r=It(a),o=r.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ta(c))throw c;at(Xg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function cT(a,t,e){const r=It(a);let o=Tt.min(),l=Nt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=It(p),A=T.Fs.get(v);return A!==void 0?U.resolve(T.vs.get(A)):T.li.getTargetData(g,v)})(r,c,ii(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:Tt.min(),e?l:Nt()))).next((d=>(_x(r,iD(t),d),{documents:d,ks:l})))))}function _x(a,t,e){let r=a.Ms.get(t)||Tt.min();e.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),a.Ms.set(t,r)}class hT{constructor(){this.activeTargetIds=uD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eA{constructor(){this.vo=new hT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new hT,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vx{Mo(t){}shutdown(){}}const fT="ConnectivityMonitor";class dT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(fT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(fT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qh=null;function sg(){return Qh===null?Qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qh++,"0x"+Qh.toString(16)}const bp="RestConnection",Ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Tx{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Ef?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,l){const c=sg(),d=this.Qo(t,e.toUriEncodedString());at(bp,`Sending RPC '${t}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,l);const{host:g}=new URL(d),v=Ag(g);return this.zo(t,d,p,r,v).then((T=>(at(bp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw gs(bp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",r),T}))}jo(t,e,r,o,l,c){return this.Wo(t,e,r,o,l)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,l)=>t[l]=o)),r&&r.headers.forEach(((o,l)=>t[l]=o))}Qo(t,e){const r=Ex[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Sx{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const ln="WebChannelConnection",gu=(a,t,e)=>{a.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Mo extends Tx{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Mo.c_){const t=bS();gu(t,AS.STAT_EVENT,(e=>{e.stat===zp.PROXY?at(ln,"STAT_EVENT: detected buffering proxy"):e.stat===zp.NOPROXY&&at(ln,"STAT_EVENT: detected no buffering proxy")})),Mo.c_=!0}}zo(t,e,r,o,l){const c=sg();return new Promise(((d,p)=>{const g=new TS;g.setWithCredentials(!0),g.listenOnce(SS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wh.NO_ERROR:const T=g.getResponseJson();at(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Wh.TIMEOUT:at(ln,`RPC '${t}' ${c} timed out`),p(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const A=g.getStatus();if(at(ln,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x?.error;if(H&&H.status&&H.message){const K=(function(nt){const et=nt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(et)>=0?et:Y.UNKNOWN})(H.status);p(new st(K,H.message))}else p(new st(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new st(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{at(ln,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);at(ln,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=sg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,e,r),d.encodeInitMessageHeaders=!0;const g=l.join("");at(ln,`Creating RPC '${t}' stream ${o}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let T=!1,A=!1;const x=new Sx({Ho:H=>{A?at(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(T||(at(ln,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),at(ln,`RPC '${t}' stream ${o} sending:`,H),v.send(H))},Jo:()=>v.close()});return gu(v,yu.EventType.OPEN,(()=>{A||(at(ln,`RPC '${t}' stream ${o} transport opened.`),x.i_())})),gu(v,yu.EventType.CLOSE,(()=>{A||(A=!0,at(ln,`RPC '${t}' stream ${o} transport closed`),x.o_(),this.E_(v))})),gu(v,yu.EventType.ERROR,(H=>{A||(A=!0,gs(ln,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),x.o_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),gu(v,yu.EventType.MESSAGE,(H=>{if(!A){const K=H.data[0];_t(!!K,16349);const j=K,nt=j?.error||j[0]?.error;if(nt){at(ln,`RPC '${t}' stream ${o} received error:`,nt);const et=nt.status;let it=(function(vt){const I=ze[vt];if(I!==void 0)return T1(I)})(et),gt=nt.message;et==="NOT_FOUND"&&gt.includes("database")&&gt.includes("does not exist")&&gt.includes(this.databaseId.database)&&gs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),it===void 0&&(it=Y.INTERNAL,gt="Unknown error status: "+et+" with message "+nt.message),A=!0,x.o_(new st(it,gt)),v.close()}else at(ln,`RPC '${t}' stream ${o} received:`,K),x.__(K)}})),Mo.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RS()}}function Ax(a){return new Mo(a)}function bx(){return typeof window<"u"?window:null}function cf(){return typeof document<"u"?document:null}function Zf(a){return new ID(a,!0)}Mo.c_=!1;class nA{constructor(t,e,r=1e3,o=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mT="PersistentStream";class iA{constructor(t,e,r,o,l,c,d,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Y.RESOURCE_EXHAUSTED?(_n(e.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new st(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(mT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(at(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rx extends iA{constructor(t,e,r,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=DD(this.serializer,t),r=(function(l){if(!("targetChange"in l))return Tt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Tt.min():c.readTime?vn(c.readTime):Tt.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=tg(this.serializer),e.addTarget=(function(l,c){let d;const p=c.target;if(d=Tf(p)?{documents:D1(l,p)}:{query:x1(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=b1(l,c.resumeToken);const g=Jp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Tt.min())>0){d.readTime=Xo(l,c.snapshotVersion.toTimestamp());const g=Jp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=VD(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=tg(this.serializer),e.removeTarget=t,this.K_(e)}}class Ix extends iA{constructor(t,e,r,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=xD(t.writeResults,t.commitTime),r=vn(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=tg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>bf(this.serializer,r)))};this.K_(e)}}class wx{}class Cx extends wx{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,Wp(e,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new st(Y.UNKNOWN,l.toString())}))}jo(t,e,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Wp(e,r),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Y.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Dx(a,t,e,r){return new Cx(a,t,e,r)}class xx{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_n(e),this.aa=!1):at("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ss="RemoteStore";class Vx{constructor(t,e,r,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Is(this)&&(at(Ss,"Restarting streams for network reachability change."),await(async function(p){const g=It(p);g.Ea.add(4),await rc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Jf(g)})(this))}))})),this.Va=new xx(r,o)}}async function Jf(a){if(Is(a))for(const t of a.Ra)await t(!0)}async function rc(a){for(const t of a.Ra)await t(!1)}function rA(a,t){const e=It(a);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Wg(e)?Jg(e):il(e).O_()&&Zg(e,t))}function $g(a,t){const e=It(a),r=il(e);e.Ia.delete(t),r.O_()&&aA(e,t),e.Ia.size===0&&(r.O_()?r.L_():Is(e)&&e.Va.set("Unknown"))}function Zg(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}il(a).Z_(t)}function aA(a,t){a.da.$e(t),il(a).X_(t)}function Jg(a){a.da=new SD({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),il(a).start(),a.Va.ua()}function Wg(a){return Is(a)&&!il(a).x_()&&a.Ia.size>0}function Is(a){return It(a).Ea.size===0}function sA(a){a.da=void 0}async function Nx(a){a.Va.set("Online")}async function Ox(a){a.Ia.forEach(((t,e)=>{Zg(a,t)}))}async function Mx(a,t){sA(a),Wg(a)?(a.Va.ha(t),Jg(a)):a.Va.set("Unknown")}async function Px(a,t,e){if(a.Va.set("Online"),t instanceof A1&&t.state===2&&t.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.da.removeTarget(d))})(a,t)}catch(r){at(Ss,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Df(a,r)}else if(t instanceof lf?a.da.Xe(t):t instanceof S1?a.da.st(t):a.da.tt(t),!e.isEqual(Tt.min()))try{const r=await tA(a.localStore);e.compareTo(r)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Be.EMPTY_BYTE_STRING,v.snapshotVersion)),aA(l,p);const T=new yr(v.target,p,g,v.sequenceNumber);Zg(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(a,e)}catch(r){at(Ss,"Failed to raise snapshot:",r),await Df(a,r)}}async function Df(a,t,e){if(!Ta(t))throw t;a.Ea.add(1),await rc(a),a.Va.set("Offline"),e||(e=()=>tA(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Ss,"Retrying IndexedDB access"),await e(),a.Ea.delete(1),await Jf(a)}))}function oA(a,t){return t().catch((e=>Df(a,e,t)))}async function ac(a){const t=It(a),e=_a(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hs;for(;Lx(t);)try{const o=await gx(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,Ux(t,o)}catch(o){await Df(t,o)}lA(t)&&uA(t)}function Lx(a){return Is(a)&&a.Ta.length<10}function Ux(a,t){a.Ta.push(t);const e=_a(a);e.O_()&&e.Y_&&e.ea(t.mutations)}function lA(a){return Is(a)&&!_a(a).x_()&&a.Ta.length>0}function uA(a){_a(a).start()}async function zx(a){_a(a).ra()}async function kx(a){const t=_a(a);for(const e of a.Ta)t.ea(e.mutations)}async function Bx(a,t,e){const r=a.Ta.shift(),o=kg.from(r,t,e);await oA(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await ac(a)}async function qx(a,t){t&&_a(a).Y_&&await(async function(r,o){if((function(c){return vD(c)&&c!==Y.ABORTED})(o.code)){const l=r.Ta.shift();_a(r).B_(),await oA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ac(r)}})(a,t),lA(a)&&uA(a)}async function pT(a,t){const e=It(a);e.asyncQueue.verifyOperationInProgress(),at(Ss,"RemoteStore received new credentials");const r=Is(e);e.Ea.add(3),await rc(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Jf(e)}async function jx(a,t){const e=It(a);t?(e.Ea.delete(2),await Jf(e)):t||(e.Ea.add(2),await rc(e),e.Va.set("Unknown"))}function il(a){return a.ma||(a.ma=(function(e,r,o){const l=It(e);return l.sa(),new Rx(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(a.datastore,a.asyncQueue,{Zo:Nx.bind(null,a),Yo:Ox.bind(null,a),t_:Mx.bind(null,a),J_:Px.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),Wg(a)?Jg(a):a.Va.set("Unknown")):(await a.ma.stop(),sA(a))}))),a.ma}function _a(a){return a.fa||(a.fa=(function(e,r,o){const l=It(e);return l.sa(),new Ix(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zx.bind(null,a),t_:qx.bind(null,a),ta:kx.bind(null,a),na:Bx.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await ac(a)):(await a.fa.stop(),a.Ta.length>0&&(at(Ss,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class ty{constructor(t,e,r,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,l){const c=Date.now()+r,d=new ty(t,e,c,o,l);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(a,t){if(_n("AsyncQueue",`${t}: ${a}`),Ta(a))return new st(Y.UNAVAILABLE,`${t}: ${a}`);throw a}class Po{static emptySet(t){return new Po(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||lt.comparator(e.key,r.key):(e,r)=>lt.comparator(e.key,r.key),this.keyedMap=_u(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Po)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Po;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class gT{constructor(){this.ga=new ge(lt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class $o{constructor(t,e,r,o,l,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,o,l){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new $o(t,e,Po.emptySet(e),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class Fx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Hx{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=It(e),l=o.queries;o.queries=yT(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(r)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function yT(){return new br((a=>l1(a)),Hf)}async function cA(a,t){const e=It(a);let r=3;const o=t.query;let l=e.queries.get(o);l?!l.Sa()&&t.Da()&&(r=2):(l=new Fx,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await e.onListen(o,!0);break;case 1:l.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=ey(c,`Initialization of query '${Do(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&ny(e)}async function hA(a,t){const e=It(a),r=t.query;let o=3;const l=e.queries.get(r);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?o=t.Da()?0:1:!l.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Gx(a,t){const e=It(a);let r=!1;for(const o of t){const l=o.query,c=e.queries.get(l);if(c){for(const d of c.ba)d.Fa(o)&&(r=!0);c.wa=o}}r&&ny(e)}function Kx(a,t,e){const r=It(a),o=r.queries.get(t);if(o)for(const l of o.ba)l.onError(e);r.queries.delete(t)}function ny(a){a.Ca.forEach((t=>{t.next()}))}var og,_T;(_T=og||(og={})).Ma="default",_T.Cache="cache";class fA{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new $o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=$o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==og.Cache}}class dA{constructor(t){this.key=t}}class mA{constructor(t){this.key=t}}class Qx{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.eu=u1(t),this.tu=new Po(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new gT,o=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const A=o.get(v),x=ec(this.query,T)?T:null,H=!!A&&this.mutatedKeys.has(A.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;A&&x?A.data.isEqual(x.data)?H!==K&&(r.track({type:3,doc:x}),j=!0):this.su(A,x)||(r.track({type:2,doc:x}),j=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(d=!0)):!A&&x?(r.track({type:0,doc:x}),j=!0):A&&!x&&(r.track({type:1,doc:A}),j=!0,(p||g)&&(d=!0)),j&&(x?(c=c.add(x),l=K?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:d,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(x,H){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:j})}};return K(x)-K(H)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const d=e&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new $o(this.query,t.tu,l,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new mA(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new dA(r))})),e}cu(t){this.Za=t.ks,this.Ya=Nt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const iy="SyncEngine";class Yx{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Xx{constructor(t){this.key=t,this.hu=!1}}class $x{constructor(t,e,r,o,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new br((d=>l1(d)),Hf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(lt.comparator),this.Au=new Map,this.Vu=new Gg,this.du={},this.mu=new Map,this.fu=Ts.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zx(a,t,e=!0){const r=EA(a);let o;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await pA(r,t,e,!0),o}async function Jx(a,t){const e=EA(a);await pA(e,t,!0,!1)}async function pA(a,t,e,r){const o=await yx(a.localStore,ii(t)),l=o.targetId,c=a.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await Wx(a,t,l,c==="current",o.resumeToken)),a.isPrimaryClient&&e&&rA(a.remoteStore,o),d}async function Wx(a,t,e,r,o){a.pu=(T,A,x)=>(async function(K,j,nt,et){let it=j.view.ru(nt);it.Ss&&(it=await cT(K.localStore,j.query,!1).then((({documents:I})=>j.view.ru(I,it))));const gt=et&&et.targetChanges.get(j.targetId),dt=et&&et.targetMismatches.get(j.targetId)!=null,vt=j.view.applyChanges(it,K.isPrimaryClient,gt,dt);return ET(K,j.targetId,vt.au),vt.snapshot})(a,T,A,x);const l=await cT(a.localStore,t,!0),c=new Qx(t,l.ks),d=c.ru(l.documents),p=ic.createSynthesizedTargetChangeForCurrentChange(e,r&&a.onlineState!=="Offline",o),g=c.applyChanges(d,a.isPrimaryClient,p);ET(a,e,g.au);const v=new Yx(t,e,c);return a.Tu.set(t,v),a.Iu.has(e)?a.Iu.get(e).push(t):a.Iu.set(e,[t]),g.snapshot}async function tV(a,t,e){const r=It(a),o=r.Tu.get(t),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((c=>!Hf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ag(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&$g(r.remoteStore,o.targetId),lg(r,o.targetId)})).catch(Rs)):(lg(r,o.targetId),await ag(r.localStore,o.targetId,!0))}async function eV(a,t){const e=It(a),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),$g(e.remoteStore,r.targetId))}async function nV(a,t,e){const r=TA(a);try{const o=await(function(c,d){const p=It(c),g=Jt.now(),v=d.reduce(((x,H)=>x.add(H.key)),Nt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let H=kn(),K=Nt();return p.xs.getEntries(x,v).next((j=>{H=j,H.forEach(((nt,et)=>{et.isValidDocument()||(K=K.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,H))).next((j=>{T=j;const nt=[];for(const et of d){const it=yD(et,T.get(et.key).overlayedDocument);it!=null&&nt.push(new Rr(et.key,it,WS(it.value.mapValue),Ze.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,nt,d)})).next((j=>{A=j;const nt=j.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(x,j.batchId,nt)}))})).then((()=>({batchId:A.batchId,changes:h1(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new ge(Rt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,e),await sc(r,o.changes),await ac(r.remoteStore)}catch(o){const l=ey(o,"Failed to persist write");e.reject(l)}}async function gA(a,t){const e=It(a);try{const r=await mx(e.localStore,t);t.targetChanges.forEach(((o,l)=>{const c=e.Au.get(l);c&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?_t(c.hu,14607):o.removedDocuments.size>0&&(_t(c.hu,42227),c.hu=!1))})),await sc(e,r,t)}catch(r){await Rs(r)}}function vT(a,t,e){const r=It(a);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=It(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const A of T.ba)A.va(d)&&(g=!0)})),g&&ny(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function iV(a,t,e){const r=It(a);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),l=o&&o.key;if(l){let c=new ge(lt.comparator);c=c.insert(l,Te.newNoDocument(l,Tt.min()));const d=Nt().add(l),p=new Qf(Tt.min(),new Map,new ge(Rt),c,d);await gA(r,p),r.Ru=r.Ru.remove(l),r.Au.delete(t),ry(r)}else await ag(r.localStore,t,!1).then((()=>lg(r,t,e))).catch(Rs)}async function rV(a,t){const e=It(a),r=t.batch.batchId;try{const o=await dx(e.localStore,t);_A(e,r,null),yA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await sc(e,o)}catch(o){await Rs(o)}}async function aV(a,t,e){const r=It(a);try{const o=await(function(c,d){const p=It(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(_t(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);_A(r,t,e),yA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await sc(r,o)}catch(o){await Rs(o)}}function yA(a,t){(a.mu.get(t)||[]).forEach((e=>{e.resolve()})),a.mu.delete(t)}function _A(a,t,e){const r=It(a);let o=r.du[r.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function lg(a,t,e=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),e&&a.Pu.yu(r,e);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||vA(a,r)}))}function vA(a,t){a.Eu.delete(t.path.canonicalString());const e=a.Ru.get(t);e!==null&&($g(a.remoteStore,e),a.Ru=a.Ru.remove(t),a.Au.delete(e),ry(a))}function ET(a,t,e){for(const r of e)r instanceof dA?(a.Vu.addReference(r.key,t),sV(a,r)):r instanceof mA?(at(iy,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||vA(a,r.key)):pt(19791,{wu:r})}function sV(a,t){const e=t.key,r=e.path.canonicalString();a.Ru.get(e)||a.Eu.has(r)||(at(iy,"New document in limbo: "+e),a.Eu.add(r),ry(a))}function ry(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const e=new lt(Qt.fromString(t)),r=a.fu.next();a.Au.set(r,new Xx(e)),a.Ru=a.Ru.insert(e,r),rA(a.remoteStore,new yr(ii(Ff(e.path)),r,"TargetPurposeLimboResolution",ni.ce))}}async function sc(a,t,e){const r=It(a),o=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,t,e).then((g=>{if((g||e)&&r.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Yg.Es(p.targetId,g);l.push(v)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const v=It(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>U.forEach(g,(A=>U.forEach(A.Ts,(x=>v.persistence.referenceDelegate.addReference(T,A.targetId,x))).next((()=>U.forEach(A.Is,(x=>v.persistence.referenceDelegate.removeReference(T,A.targetId,x)))))))))}catch(T){if(!Ta(T))throw T;at(Xg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const x=v.vs.get(A),H=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(H);v.vs=v.vs.insert(A,K)}}})(r.localStore,l))}async function oV(a,t){const e=It(a);if(!e.currentUser.isEqual(t)){at(iy,"User change. New user:",t.toKey());const r=await W1(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new st(Y.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sc(e,r.Ns)}}function lV(a,t){const e=It(a),r=e.Au.get(t);if(r&&r.hu)return Nt().add(r.key);{let o=Nt();const l=e.Iu.get(t);if(!l)return o;for(const c of l){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function EA(a){const t=It(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iV.bind(null,t),t.Pu.J_=Gx.bind(null,t.eventManager),t.Pu.yu=Kx.bind(null,t.eventManager),t}function TA(a){const t=It(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aV.bind(null,t),t}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return J1(this.persistence,new Z1,t.initialUser,this.serializer)}Cu(t){return new Kg($f.Vi,this.serializer)}Du(t){return new eA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class uV extends Xu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof Cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new K1(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Kg((r=>Cf.Vi(r,e)),this.serializer)}}class cV extends Xu{constructor(t,e,r){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await TA(this.xu.syncEngine),await ac(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return J1(this.persistence,new Z1,t.initialUser,this.serializer)}Fu(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new K1(r,t.asyncQueue,e)}Mu(t,e){const r=new fC(e,this.persistence);return new hC(t.asyncQueue,r)}Cu(t){const e=ux(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Qg(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,bx(),cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new eA}}class xf{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oV.bind(null,this.syncEngine),await jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Hx})()}createDatastore(t){const e=Zf(t.databaseInfo.databaseId),r=Ax(t.databaseInfo);return Dx(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,l,c,d){return new Vx(r,o,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>vT(this.syncEngine,e,0)),(function(){return dT.v()?new dT:new vx})())}createSyncEngine(t,e){return(function(o,l,c,d,p,g,v){const T=new $x(o,l,c,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=It(e);at(Ss,"RemoteStore shutting down."),r.Ea.add(5),await rc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xf.provider={build:()=>new xf};class SA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_n("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const va="FirestoreClient";class hV{constructor(t,e,r,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{at(va,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(at(va,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=ey(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Rp(a,t){a.asyncQueue.verifyOperationInProgress(),at(va,"Initializing OfflineComponentProvider");const e=a.configuration;await t.initialize(e);let r=e.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await W1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function TT(a,t){a.asyncQueue.verifyOperationInProgress();const e=await fV(a);at(va,"Initializing OnlineComponentProvider"),await t.initialize(e,a.configuration),a.setCredentialChangeListener((r=>pT(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>pT(t.remoteStore,o))),a._onlineComponents=t}async function fV(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(va,"Using user provided OfflineComponentProvider");try{await Rp(a,a._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;gs("Error using user provided cache. Falling back to memory cache: "+e),await Rp(a,new Xu)}}else at(va,"Using default OfflineComponentProvider"),await Rp(a,new uV(void 0));return a._offlineComponents}async function AA(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(va,"Using user provided OnlineComponentProvider"),await TT(a,a._uninitializedComponentsProvider._online)):(at(va,"Using default OnlineComponentProvider"),await TT(a,new xf))),a._onlineComponents}function dV(a){return AA(a).then((t=>t.syncEngine))}async function bA(a){const t=await AA(a),e=t.eventManager;return e.onListen=Zx.bind(null,t.syncEngine),e.onUnlisten=tV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Jx.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=eV.bind(null,t.syncEngine),e}function mV(a,t,e={}){const r=new Xi;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new SA({next:A=>{v.Nu(),c.enqueueAndForget((()=>hA(l,T)));const x=A.docs.has(d);!x&&A.fromCache?g.reject(new st(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&p&&p.source==="server"?g.reject(new st(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new fA(Ff(d.path),v,{includeMetadataChanges:!0,Ka:!0});return cA(l,T)})(await bA(a),a.asyncQueue,t,e,r))),r.promise}function pV(a,t,e={}){const r=new Xi;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new SA({next:A=>{v.Nu(),c.enqueueAndForget((()=>hA(l,T))),A.fromCache&&p.source==="server"?g.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new fA(d,v,{includeMetadataChanges:!0,Ka:!0});return cA(l,T)})(await bA(a),a.asyncQueue,t,e,r))),r.promise}function gV(a,t){const e=new Xi;return a.asyncQueue.enqueueAndForget((async()=>nV(await dV(a),t,e))),e.promise}function RA(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const yV="ComponentProvider",ST=new Map;function _V(a,t,e,r,o){return new qC(a,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,RA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const vV="firestore.googleapis.com",AT=!0;class bT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vV,this.ssl=AT}else this.host=t.host,this.ssl=t.ssl??AT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<G1)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ay{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new J2;switch(r.type){case"firstParty":return new eC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=ST.get(e);r&&(at(yV,"Removing Datastore"),ST.delete(e),r.terminate())})(this),Promise.resolve()}}class ws{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ws(this.firestore,t,this._query)}}class we{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Ju(e,we._jsonSchema))return new we(t,r||null,new lt(Qt.fromString(e.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:ke("string",we._jsonSchemaVersion),referencePath:ke("string")};class pa extends ws{constructor(t,e,r){super(t,e,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new lt(t))}withConverter(t){return new pa(this.firestore,t,this._path)}}function oc(a,t,...e){if(a=vi(a),CS("collection","path",t),a instanceof ay){const r=Qt.fromString(t,...e);return m0(r),new pa(a,null,r)}{if(!(a instanceof we||a instanceof pa))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Qt.fromString(t,...e));return m0(r),new pa(a.firestore,null,r)}}function me(a,t,...e){if(a=vi(a),arguments.length===1&&(t=Ig.newId()),CS("doc","path",t),a instanceof ay){const r=Qt.fromString(t,...e);return d0(r),new we(a,null,new lt(r))}{if(!(a instanceof we||a instanceof pa))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Qt.fromString(t,...e));return d0(r),new we(a.firestore,a instanceof pa?a.converter:null,new lt(r))}}const RT="AsyncQueue";class IT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const r=cf();r&&at(RT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=cf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=cf();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ta(t))throw t;at(RT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,_n("INTERNAL UNHANDLED ERROR: ",wT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=ty.createAndSchedule(this,t,e,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:wT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function wT(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}const EV=-1;class Aa extends ay{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new IT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IT(t),this._firestoreClient=void 0,await t}}}function TV(a,t,e){e||(e=Ef);const r=O2(a,"firestore");if(r.isInitialized(e)){const o=r.getImmediate({identifier:e}),l=r.getOptions(e);if(df(l,t))return o;throw new st(Y.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new st(Y.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<G1)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Ag(t.host)&&Cw(t.host),r.initialize({options:t,instanceIdentifier:e})}function Wf(a){if(a._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||IA(a),a._firestoreClient}function IA(a){const t=a._freezeSettings(),e=_V(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new hV(a._authCredentials,a._appCheckCredentials,a._queue,e,a._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(a._componentsProvider))}function SV(a,t){gs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=a._freezeSettings();return AV(a,xf.provider,{build:r=>new cV(r,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function AV(a,t,e){if((a=Ei(a,Aa))._firestoreClient||a._terminated)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new st(Y.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:e},IA(a)}class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(Be.fromBase64String(t))}catch(e){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ei(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ju(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:ke("string",ei._jsonSchemaVersion),bytes:ke("string")};class td{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sy{constructor(t){this._methodName=t}}class $i{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(t){if(Ju(t,$i._jsonSchema))return new $i(t.latitude,t.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:ke("string",$i._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class _i{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ju(t,_i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new _i(t.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:ke("string",_i._jsonSchemaVersion),vectorValues:ke("object")};const bV=/^__.*__$/;class RV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Rr(t,this.data,this.fieldMask,e,this.fieldTransforms):new nl(t,this.data,e,this.fieldTransforms)}}class wA{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Rr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function CA(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:a})}}class oy{constructor(t,e,r,o,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new oy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Vf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(CA(this.dataSource)&&bV.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class IV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Zf(t)}createContext(t,e,r,o=!1){return new oy({dataSource:t,methodName:e,targetDoc:r,path:ye.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ed(a){const t=a._freezeSettings(),e=Zf(a._databaseId);return new IV(a._databaseId,!!t.ignoreUndefinedProperties,e)}function DA(a,t,e,r,o,l={}){const c=a.createContext(l.merge||l.mergeFields?2:0,t,e,o);ly("Data must be an object, but it was:",c,r);const d=NA(r,c);let p,g;if(l.merge)p=new Cn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const A=As(t,T,e);if(!c.contains(A))throw new st(Y.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);PA(v,A)||v.push(A)}p=new Cn(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new RV(new hn(d),p,g)}class nd extends sy{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nd}}function xA(a,t,e,r){const o=a.createContext(1,t,e);ly("Data must be an object, but it was:",o,r);const l=[],c=hn.empty();Sa(r,((p,g)=>{const v=MA(t,p,e);g=vi(g);const T=o.childContextForFieldPath(v);if(g instanceof nd)l.push(v);else{const A=lc(g,T);A!=null&&(l.push(v),c.set(v,A))}}));const d=new Cn(l);return new wA(c,d,o.fieldTransforms)}function VA(a,t,e,r,o,l){const c=a.createContext(1,t,e),d=[As(t,r,e)],p=[o];if(l.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(As(t,l[A])),p.push(l[A+1]);const g=[],v=hn.empty();for(let A=d.length-1;A>=0;--A)if(!PA(g,d[A])){const x=d[A];let H=p[A];H=vi(H);const K=c.childContextForFieldPath(x);if(H instanceof nd)g.push(x);else{const j=lc(H,K);j!=null&&(g.push(x),v.set(x,j))}}const T=new Cn(g);return new wA(v,T,c.fieldTransforms)}function wV(a,t,e,r=!1){return lc(e,a.createContext(r?4:3,t))}function lc(a,t){if(OA(a=vi(a)))return ly("Unsupported field value:",t,a),NA(a,t);if(a instanceof sy)return(function(r,o){if(!CA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const d of r){let p=lc(d,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(a,t)}return(function(r,o){if((r=vi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Jt.fromDate(r);return{timestampValue:Xo(o.serializer,l)}}if(r instanceof Jt){const l=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xo(o.serializer,l)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:b1(o.serializer,r._byteString)};if(r instanceof we){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof _i)return(function(c,d){const p=c instanceof _i?c.toArray():c;return{mapValue:{fields:{[Mg]:{stringValue:Pg},[Fo]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Ug(d.serializer,v)}))}}}}}})(r,o);if(P1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Pf(r)}`)})(a,t)}function NA(a,t){const e={};return HS(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(a,((r,o)=>{const l=lc(o,t.childContextForField(r));l!=null&&(e[r]=l)})),{mapValue:{fields:e}}}function OA(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Jt||a instanceof $i||a instanceof ei||a instanceof we||a instanceof sy||a instanceof _i||P1(a))}function ly(a,t,e){if(!OA(e)||!DS(e)){const r=Pf(e);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function As(a,t,e){if((t=vi(t))instanceof td)return t._internalPath;if(typeof t=="string")return MA(a,t);throw Vf("Field path arguments must be of type string or ",a,!1,void 0,e)}const CV=new RegExp("[~\\*/\\[\\]]");function MA(a,t,e){if(t.search(CV)>=0)throw Vf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,e);try{return new td(...t.split("."))._internalPath}catch{throw Vf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,e)}}function Vf(a,t,e,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new st(Y.INVALID_ARGUMENT,d+a+p)}function PA(a,t){return a.some((e=>e.isEqual(t)))}class DV{convertValue(t,e="none"){switch(ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Sa(t,((o,l)=>{r[o]=this.convertValue(l,e)})),r}convertVectorValue(t){const e=t.fields?.[Fo].arrayValue?.values?.map((r=>de(r.doubleValue)));return new _i(e)}convertGeoPoint(t){return new $i(de(t.latitude),de(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=qf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(ju(t));default:return null}}convertTimestamp(t){const e=Tr(t);return new Jt(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Qt.fromString(t);_t(M1(r),9688,{name:t});const o=new ys(r.get(1),r.get(3)),l=new lt(r.popFirst(5));return o.isEqual(e)||_n(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class LA extends DV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,e)}}const CT="@firebase/firestore",DT="4.11.0";class UA{constructor(t,e,r,o,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(As("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class xV extends UA{data(){return super.data()}}function VV(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class zA extends uy{}function kA(a,t,...e){let r=[];t instanceof uy&&r.push(t),r=r.concat(e),(function(l){const c=l.filter((p=>p instanceof cy)).length,d=l.filter((p=>p instanceof id)).length;if(c>1||c>0&&d>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class id extends zA{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new id(t,e,r)}_apply(t){const e=this._parse(t);return BA(t._query,e),new ws(t.firestore,t.converter,$p(t._query,e))}_parse(t){const e=ed(t.firestore);return(function(l,c,d,p,g,v,T){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){VT(T,v);const H=[];for(const K of T)H.push(xT(p,l,K));A={arrayValue:{values:H}}}else A=xT(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||VT(T,v),A=wV(d,c,T,v==="in"||v==="not-in");return Ut.create(g,v,A)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function NV(a,t,e){const r=t,o=As("where",a);return id._create(o,r,e)}class cy extends uy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new cy(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Wt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)BA(c,p),c=$p(c,p)})(t._query,e),new ws(t.firestore,t.converter,$p(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hy extends zA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new hy(t,e)}_apply(t){const e=(function(o,l,c){if(o.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ku(l,c)})(t._query,this._field,this._direction);return new ws(t.firestore,t.converter,nD(t._query,e))}}function OV(a,t="asc"){const e=t,r=As("orderBy",a);return hy._create(r,e)}function xT(a,t,e){if(typeof(e=vi(e))=="string"){if(e==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o1(t)&&e.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Qt.fromString(e));if(!lt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hu(a,new lt(r))}if(e instanceof we)return Hu(a,e._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(e)}.`)}function VT(a,t){if(!Array.isArray(a)||a.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BA(a,t){const e=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function qA(a,t,e){let r;return r=a?e&&(e.merge||e.mergeFields)?a.toFirestore(t,e):a.toFirestore(t):t,r}class Tu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ms extends UA{constructor(t,e,r,o,l,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(As("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ms._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",ms._jsonSchema={type:ke("string",ms._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class hf extends ms{data(t={}){return super.data(t)}}class Lo{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Tu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new hf(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new hf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Tu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new hf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Tu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:MV(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MV(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:a})}}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:ke("string",Lo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class PV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ed(t)}set(t,e,r){this._verifyNotCommitted();const o=Ip(t,this._firestore),l=qA(o.converter,e,r),c=DA(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,Ze.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const l=Ip(t,this._firestore);let c;return c=typeof(e=vi(e))=="string"||e instanceof td?VA(this._dataReader,"WriteBatch.update",l._key,e,r,o):xA(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(c.toMutation(l._key,Ze.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ip(t,this._firestore);return this._mutations=this._mutations.concat(new nc(e._key,Ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ip(a,t){if((a=vi(a)).firestore!==t)throw new st(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function ua(a){a=Ei(a,we);const t=Ei(a.firestore,Aa),e=Wf(t);return mV(e,a._key).then((r=>LV(t,a,r)))}function rd(a){a=Ei(a,ws);const t=Ei(a.firestore,Aa),e=Wf(t),r=new LA(t);return VV(a._query),pV(e,a._query).then((o=>new Lo(t,r,a,o)))}function Ki(a,t,e){a=Ei(a,we);const r=Ei(a.firestore,Aa),o=qA(a.converter,t,e),l=ed(r);return ad(r,[DA(l,"setDoc",a._key,o,a.converter!==null,e).toMutation(a._key,Ze.none())])}function jA(a,t,e,...r){a=Ei(a,we);const o=Ei(a.firestore,Aa),l=ed(o);let c;return c=typeof(t=vi(t))=="string"||t instanceof td?VA(l,"updateDoc",a._key,t,e,r):xA(l,"updateDoc",a._key,t),ad(o,[c.toMutation(a._key,Ze.exists(!0))])}function fy(a){return ad(Ei(a.firestore,Aa),[new nc(a._key,Ze.none())])}function ad(a,t){const e=Wf(a);return gV(e,t)}function LV(a,t,e){const r=e.docs.get(t._key),o=new LA(a);return new ms(a,o,t._key,r,new Tu(e.hasPendingWrites,e.fromCache),t.converter)}function ug(a){return a=Ei(a,Aa),Wf(a),new PV(a,(t=>ad(a,t)))}(function(t,e=!0){$2(U2),pf(new Mu("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Aa(new W2(r.getProvider("auth-internal")),new nC(c,r.getProvider("app-check-internal")),jC(c,o),c);return l={useFetchStreams:e,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Oo(CT,DT,t),Oo(CT,DT,"esm2020")})();const UV={BASE_URL:"/Sistema_ISP/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:"",VITE_GEMINI_API_KEY:"",VITE_GOOGLE_API_KEY:"AIzaSyDcQj9F2Sj-vLwr3Bht80fPsii1SkrVi0A",VITE_GOOGLE_CLIENT_ID:"",VITE_GOOGLE_SHEET_ID:""},Hi=a=>{if(typeof window<"u"&&window.ENV_CONFIG&&window.ENV_CONFIG[a])return window.ENV_CONFIG[a];if(typeof window<"u"){const t=`isp_${a.toLowerCase()}`,e=localStorage.getItem(t);if(e)return e}return UV[`VITE_${a}`]||""},zV={get GOOGLE_API_KEY(){return Hi("GOOGLE_API_KEY")},get GOOGLE_CLIENT_ID(){return Hi("GOOGLE_CLIENT_ID")},get GOOGLE_SHEET_ID(){return Hi("GOOGLE_SHEET_ID")},get GEMINI_API_KEY(){return Hi("GEMINI_API_KEY")},FIREBASE:{get apiKey(){return Hi("FIREBASE_API_KEY")},get authDomain(){return Hi("FIREBASE_AUTH_DOMAIN")},get projectId(){return Hi("FIREBASE_PROJECT_ID")},get storageBucket(){return Hi("FIREBASE_STORAGE_BUCKET")},get messagingSenderId(){return Hi("FIREBASE_MESSAGING_SENDER_ID")},get appId(){return Hi("FIREBASE_APP_ID")}}},kV=()=>zV.FIREBASE;let wp=null,Nu=null;const Je=()=>{const a=kV();if(!a.apiKey||!a.projectId)return console.warn("Firebase config missing"),null;if(!Nu)try{Nu=yS(a),wp=TV(Nu,{cacheSizeBytes:EV}),SV(wp).catch(t=>{t.code=="failed-precondition"?console.warn("Persistencia fall: Multiples pestaas abiertas."):t.code=="unimplemented"&&console.warn("Persistencia no soportada por el navegador.")}),console.log("Firebase initialized with persistence")}catch(t){console.error("Error initializing Firebase",t)}return wp},l4=()=>(Nu||Je(),Nu),cg=async(a,t)=>{const e=Je();if(!e)return!1;try{const r=t.id||me(oc(e,a)).id,o={...t,updatedAt:new Date().toISOString()};return o.id||(o.id=r),await Ki(me(e,a,r),o,{merge:!0}),!0}catch(r){return console.error(`Error saving document to ${a}:`,r),!1}},FA=async(a,t)=>{const e=Je();if(!e)return!1;try{return await fy(me(e,a,t)),!0}catch(r){return console.error(`Error deleting from ${a}:`,r),!1}},BV=async a=>{const t=Je();if(!t)return!1;console.log("Iniciando migracin de datos...");const e=["clients","tickets","averias","tecnicos","equipos","visitas","instalaciones","derivaciones","postVenta","sesionesRemoto","movimientosEquipos","whatsappLogs","templates"];try{let o=ug(t),l=0;for(const c of e){const d=a[c]||[];console.log(`Migrando ${d.length} items de ${c}...`);for(const p of d){if(!p.id)continue;const g=me(t,c,p.id),v={...p,updatedAt:new Date().toISOString()};v.createdAt||(v.createdAt=new Date().toISOString()),o.set(g,v,{merge:!0}),l++,l>=450&&(await o.commit(),o=ug(t),l=0)}}return l>0&&await o.commit(),await Ki(me(t,"config","app_settings"),{columnPrefs:a.columnPrefs||{},cleaningOptions:a.cleaningOptions||{},importHistory:a.importHistory||[],branding:a.branding||{},customRolePermissions:a.customRolePermissions||null,whatsappCategories:a.whatsappCategories||[]},{merge:!0}),console.log("Migracin completada exitosamente."),!0}catch(r){return console.error("Error during migration:",r),!1}},Su=a=>new Promise(t=>setTimeout(t,a)),Cp=200,qV=async(a,t=()=>{})=>{const e=Je();if(!e)throw new Error("Firebase no configurado");const r=new Date,o=r.toISOString().replace(/[:.]/g,"-"),l=r.toISOString(),c=a.clients||[],p=Math.max(1,Math.ceil(c.length/Cp))+4;let g=0;const v=j=>{g++,t({step:g,totalSteps:p,label:j,percent:Math.round(g/p*100)})},T={createdAt:l,versionId:o,totalClients:c.length,totalTickets:(a.tickets||[]).length,totalAverias:(a.averias||[]).length,totalEquipos:(a.equipos||[]).length,totalVisitas:(a.visitas||[]).length,totalTecnicos:(a.tecnicos||[]).length,label:`Respaldo ${r.toLocaleDateString("es-PE")} ${r.toLocaleTimeString("es-PE")}`};await Ki(me(e,"backups_history",o),T),v("Metadata guardada");const A=[];for(let j=0;j<c.length;j+=Cp)A.push(c.slice(j,j+Cp));for(let j=0;j<A.length;j++){const nt=me(e,"backups_history",o,"data",`clients_${j}`);await Ki(nt,{data:A[j]}),v(`Clientes ${j+1}/${A.length}`),j<A.length-1&&await Su(300)}const x=["tickets","averias","tecnicos","equipos","visitas","instalaciones","derivaciones","postVenta","sesionesRemoto","movimientosEquipos","requerimientos","whatsappLogs","templates"],H=8e5,K={};for(const j of x){const nt=a[j]||[],et=new Blob([JSON.stringify(nt)]).size;if(et>H&&Array.isArray(nt)&&nt.length>0){const it=Math.ceil(nt.length/Math.ceil(et/H)),gt=[];for(let dt=0;dt<nt.length;dt+=it)gt.push(nt.slice(dt,dt+it));K[j]=gt.length;for(let dt=0;dt<gt.length;dt++)await Ki(me(e,"backups_history",o,"data",`${j}_${dt}`),{data:gt[dt]}),dt<gt.length-1&&await Su(200)}else K[j]=1,await Ki(me(e,"backups_history",o,"data",j),{data:nt});await Su(150)}return v("Colecciones guardadas"),await Su(300),await Ki(me(e,"backups_history",o,"data","config"),{columnPrefs:a.columnPrefs||{},cleaningOptions:a.cleaningOptions||{},importHistory:a.importHistory||[],branding:a.branding||{},customRolePermissions:a.customRolePermissions||null,whatsappCategories:a.whatsappCategories||[]}),v("Configuracin guardada"),await Ki(me(e,"backups_history",o,"data","_meta"),{clientChunks:A.length,collectionChunks:K}),v("Backup completado!"),{success:!0,versionId:o,timestamp:l}},jV=async()=>{if(!Je())throw new Error("Firebase no configurado");const t=await HA();if(t.length===0)throw new Error("No hay backups disponibles");return hg(t[0].id)},HA=async()=>{const a=Je();if(!a)throw new Error("Firebase no configurado");const t=await rd(oc(a,"backups_history")),e=[];return t.forEach(r=>{const o=r.data();o.createdAt&&e.push({id:r.id,...o})}),e.sort((r,o)=>new Date(o.createdAt)-new Date(r.createdAt)),e},hg=async a=>{const t=Je();if(!t)throw new Error("Firebase no configurado");const e=await ua(me(t,"backups_history",a,"data","_meta")),r=e.exists()?e.data():{clientChunks:0,collectionChunks:{}};let o=[];for(let v=0;v<(r.clientChunks||0);v++){const T=await ua(me(t,"backups_history",a,"data",`clients_${v}`));T.exists()&&(o=[...o,...T.data().data||[]])}const l=["tickets","averias","tecnicos","equipos","visitas","instalaciones","derivaciones","postVenta","sesionesRemoto","movimientosEquipos","requerimientos","whatsappLogs","templates"],c={},d=r.collectionChunks||{};for(const v of l){const T=d[v]||1;let A=[];if(T>1)for(let x=0;x<T;x++){const H=await ua(me(t,"backups_history",a,"data",`${v}_${x}`));H.exists()&&(A=[...A,...H.data().data||[]])}else{const x=await ua(me(t,"backups_history",a,"data",v));x.exists()&&(A=x.data().data||[])}c[v]=A}const p=await ua(me(t,"backups_history",a,"data","config")),g=p.exists()?p.data():{};return{clients:o,tickets:c.tickets||[],averias:c.averias||[],tecnicos:c.tecnicos||[],equipos:c.equipos||[],visitas:c.visitas||[],instalaciones:c.instalaciones||[],derivaciones:c.derivaciones||[],postVenta:c.postVenta||[],sesionesRemoto:c.sesionesRemoto||[],movimientosEquipos:c.movimientosEquipos||[],requerimientos:c.requerimientos||[],whatsappLogs:c.whatsappLogs||[],templates:c.templates||[],columnPrefs:g.columnPrefs,cleaningOptions:g.cleaningOptions,importHistory:g.importHistory,branding:g.branding,customRolePermissions:g.customRolePermissions,whatsappCategories:g.whatsappCategories}},FV=async a=>{const t=Je();if(!t)return console.warn("Firebase no configurado, settings solo guardados localmente"),!1;try{return await Ki(me(t,"settings","app"),{...a,updatedAt:new Date().toISOString()}),!0}catch(e){return console.error("Error pushing settings to Firebase:",e),!1}},HV=async()=>{const a=Je();if(!a)return null;try{const t=await ua(me(a,"settings","app"));return t.exists()?t.data():null}catch(t){return console.error("Error pulling settings from Firebase:",t),null}},GV=async a=>{const t=Je();if(!t)throw new Error("Firebase no configurado");const e=await rd(oc(t,"backups_history",a,"data")),r=[];e.forEach(l=>r.push(l.ref));const o=450;for(let l=0;l<r.length;l+=o){const c=ug(t);r.slice(l,l+o).forEach(d=>c.delete(d)),await c.commit(),l+o<r.length&&await Su(200)}return await fy(me(t,"backups_history",a)),!0},KV="ISP_DB",Ea="keyval",QV=1;let Yh=null;function dy(){return Yh||(Yh=new Promise((a,t)=>{const e=indexedDB.open(KV,QV);e.onupgradeneeded=r=>{const o=r.target.result;o.objectStoreNames.contains(Ea)||o.createObjectStore(Ea)},e.onsuccess=r=>{a(r.target.result)},e.onerror=r=>{t(`IndexedDB error: ${r.target.errorCode}`)}}),Yh)}async function NT(a){const t=await dy();return new Promise((e,r)=>{const c=t.transaction(Ea,"readonly").objectStore(Ea).get(a);c.onsuccess=()=>e(c.result),c.onerror=()=>r(c.error)})}async function uc(a,t){const e=await dy();return new Promise((r,o)=>{const d=e.transaction(Ea,"readwrite").objectStore(Ea).put(t,a);d.onsuccess=()=>r(),d.onerror=()=>o(d.error)})}async function YV(){const a=await dy();return new Promise((t,e)=>{const l=a.transaction(Ea,"readonly").objectStore(Ea).getAllKeys();l.onsuccess=()=>t(l.result),l.onerror=()=>e(l.error)})}async function ns(a,t){try{await uc(a,t)}catch(e){console.error(`Error saving to DB (${a}):`,e)}}const XV=(a,t)=>({clients:[],clientsLoading:!1,dataSource:"demo",setClients:e=>{a({clients:e}),ns("isp_clients",e)},importClients:e=>{a({clients:e,dataSource:"excel"}),ns("isp_clients",e),ns("isp_dataSource","excel")},columnPrefs:{visible:["id","nombre","tecnologia","plan","precio","estado_cuenta","status","deuda_monto"],order:["id","nombre","tecnologia","plan","precio","estado_cuenta","status","deuda_monto"]},setColumnPrefs:e=>{a({columnPrefs:e}),ns("isp_col_prefs",e)},lastImport:null,setLastImport:e=>{a({lastImport:e}),ns("isp_lastImport",e)},importHistory:[],addImportRecord:e=>a(r=>{const o=r.importHistory.reduce((c,d)=>{const p=parseInt(d.id.split("-")[1]||0);return p>c?p:c},0),l=[{...e,id:`IMP-${String(o+1).padStart(3,"0")}`,fecha:new Date().toISOString()},...r.importHistory];return ns("isp_importHistory",l),{importHistory:l}}),cleaningOptions:{separateNameStatus:!0,classifyEmail:!0,splitMobile:!0,parseDebt:!0,parsePrices:!0,inferTechnology:!0,separateTV:!0,normalizeCortePorDeuda:!0,formatDNI:!0},setCleaningOptions:e=>{a({cleaningOptions:e}),ns("isp_cleaningOptions",e)}});async function wn(a,t){try{await uc(a,t)}catch(e){console.error(`Error saving to DB (${a}):`,e)}}function Xh(a,t,e="id"){if(!a||a.length===0)return`${t}-001`;const r=a.reduce((o,l)=>{if(!l[e])return o;const c=l[e].split("-"),d=parseInt(c[c.length-1]||0);return!isNaN(d)&&d>o?d:o},0);return`${t}-${String(r+1).padStart(3,"0")}`}const $V=(a,t)=>({tickets:[],addTicket:e=>a(r=>{const o=[{...e,id:Xh(r.tickets,"TK"),fecha:new Date().toISOString().split("T")[0],fechaUpdate:new Date().toISOString().split("T")[0],historial:[]},...r.tickets];return wn("isp_tickets",o),{tickets:o}}),updateTicket:(e,r)=>a(o=>{const l=o.tickets.map(c=>{if(c.id===e){const d={...c,...r,fechaUpdate:new Date().toISOString().split("T")[0]};if(r.estado&&r.estado!==c.estado){const p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r._historyEstadoLabel||r.estado,motivo:r._historyComment||null};d.historial=[p,...c.historial||[]],delete d._historyComment,delete d._historyEstadoLabel}return d}return c});return wn("isp_tickets",l),{tickets:l}}),deleteTicket:e=>a(r=>{const o=r.tickets.filter(l=>l.id!==e);return wn("isp_tickets",o),{tickets:o}}),deleteTicketCascade:e=>a(r=>{const o=r.tickets.filter(d=>d.id!==e),l=r.visitas.filter(d=>d.ticketId!==e),c=r.sesionesRemoto.filter(d=>d.ticketId!==e);return wn("isp_tickets",o),wn("isp_visitas",l),wn("isp_sesionesRemoto",c),{tickets:o,visitas:l,sesionesRemoto:c}}),averias:[],addAveria:e=>a(r=>{const o=[{...e,id:Xh(r.averias,"AV"),fecha:new Date().toISOString().split("T")[0],fechaResolucion:null,historial:[]},...r.averias];return wn("isp_averias",o),{averias:o}}),updateAveria:(e,r)=>a(o=>{const l=o.averias.map(c=>{if(c.id===e){const d={...c,...r};if(r.estado&&r.estado!==c.estado){const p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r.estado,motivo:r._historyComment||null};d.historial=[p,...c.historial||[]],delete d._historyComment}return d}return c});return wn("isp_averias",l),{averias:l}}),sesionesRemoto:[],addSesionRemoto:e=>a(r=>{const o=[{...e,id:Xh(r.sesionesRemoto,"SR"),fecha:new Date().toISOString().split("T")[0]},...r.sesionesRemoto];return wn("isp_sesionesRemoto",o),{sesionesRemoto:o}}),updateSesionRemoto:(e,r)=>a(o=>{const l=o.sesionesRemoto.map(c=>{if(c.id===e){const d={...c,...r};if(r.estado&&r.estado!==c.estado){const p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r._historyEstadoLabel||r.estado,motivo:r._historyComment||null};d.historial=[p,...c.historial||[]],delete d._historyComment,delete d._historyEstadoLabel}return d}return c});return wn("isp_sesionesRemoto",l),{sesionesRemoto:l}}),deleteSesionRemoto:e=>a(r=>{const o=r.sesionesRemoto.filter(l=>l.id!==e);return wn("isp_sesionesRemoto",o),{sesionesRemoto:o}}),visitas:[],addVisita:e=>a(r=>{const o=Xh(r.visitas,"VT"),l=[{...e,id:o,fecha:e.fecha||new Date().toISOString().split("T")[0]},...r.visitas];return wn("isp_visitas",l),{visitas:l}}),updateVisita:(e,r)=>a(o=>{const l=o.visitas.map(c=>{if(c.id===e){const d={...c,...r};let p=null;return r._historyEntry?(p={fecha:new Date().toISOString(),...r._historyEntry},delete d._historyEntry):r.estado&&r.estado!==c.estado&&(p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r.estado,motivo:r._historyComment||null},delete d._historyComment),p&&(d.historial=[p,...c.historial||[]]),d}return c});return wn("isp_visitas",l),{visitas:l}}),deleteVisita:e=>a(r=>{const o=r.visitas.filter(l=>l.id!==e);return wn("isp_visitas",o),{visitas:o}})});async function gn(a,t){try{await uc(a,t)}catch(e){console.error(`Error saving to DB (${a}):`,e)}}function Io(a,t,e="id"){if(!a||a.length===0)return`${t}-001`;const r=a.reduce((o,l)=>{if(!l[e])return o;const c=l[e].split("-"),d=parseInt(c[c.length-1]||0);return!isNaN(d)&&d>o?d:o},0);return`${t}-${String(r+1).padStart(3,"0")}`}const ZV=(a,t)=>({equipos:[],addEquipo:e=>a(r=>{const o=[{...e,id:Io(r.equipos,"EQ")},...r.equipos];return gn("isp_equipos",o),{equipos:o}}),updateEquipo:(e,r)=>a(o=>{const l=o.equipos.map(c=>c.id===e?{...c,...r}:c);return gn("isp_equipos",l),{equipos:l}}),instalaciones:[],addInstalacion:e=>a(r=>{const o=Io(r.instalaciones,"INS"),l=[{...e,id:o,fecha:e.fecha||new Date().toISOString().split("T")[0]},...r.instalaciones];return gn("isp_instalaciones",l),{instalaciones:l}}),updateInstalacion:(e,r)=>a(o=>{const l=o.instalaciones.map(c=>c.id===e?{...c,...r}:c);return gn("isp_instalaciones",l),{instalaciones:l}}),deleteInstalacion:e=>a(r=>{const o=r.instalaciones.filter(l=>l.id!==e);return gn("isp_instalaciones",o),{instalaciones:o}}),derivaciones:[],addDerivacion:e=>a(r=>{const o=Io(r.derivaciones,"DPE"),l=[{...e,id:o,fecha:e.fecha||new Date().toISOString().split("T")[0],fechaCompletado:null},...r.derivaciones];return gn("isp_derivaciones",l),{derivaciones:l}}),updateDerivacion:(e,r)=>a(o=>{const l=o.derivaciones.map(c=>{if(c.id===e){const d={...c,...r};if(r.estado&&r.estado!==c.estado){const p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r._historyEstadoLabel||r.estado,motivo:r._historyComment||null};d.historial=[p,...c.historial||[]],delete d._historyComment,delete d._historyEstadoLabel}return d}return c});return gn("isp_derivaciones",l),{derivaciones:l}}),deleteDerivacion:e=>a(r=>{const o=r.derivaciones.filter(l=>l.id!==e);return gn("isp_derivaciones",o),{derivaciones:o}}),postVenta:[],addPostVenta:e=>a(r=>{const o=[{...e,id:Io(r.postVenta,"PV"),fecha:e.fecha||new Date().toISOString().split("T")[0]},...r.postVenta];return gn("isp_postVenta",o),{postVenta:o}}),updatePostVenta:(e,r)=>a(o=>{const l=o.postVenta.map(c=>{if(c.id===e){const d={...c,...r};if(r.estado&&r.estado!==c.estado){const p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r._historyEstadoLabel||r.estado,motivo:r._historyComment||null};d.historial=[p,...c.historial||[]],delete d._historyComment,delete d._historyEstadoLabel}return d}return c});return gn("isp_postVenta",l),{postVenta:l}}),deletePostVenta:e=>a(r=>{const o=r.postVenta.filter(l=>l.id!==e);return gn("isp_postVenta",o),{postVenta:o}}),requerimientos:[],addRequerimiento:e=>a(r=>{const o=Io(r.requerimientos,"REQ"),l=[{...e,id:o,fecha:e.fecha||new Date().toISOString().split("T")[0],historial:[]},...r.requerimientos];return gn("isp_requerimientos",l),{requerimientos:l}}),updateRequerimiento:(e,r)=>a(o=>{const l=o.requerimientos.map(c=>{if(c.id===e){const d={...c,...r};if(r.estado&&r.estado!==c.estado){const p={fecha:new Date().toISOString(),estadoAnterior:c.estado,estadoNuevo:r.estado,motivo:r._historyComment||null};d.historial=[p,...c.historial||[]],delete d._historyComment}return d}return c});return gn("isp_requerimientos",l),{requerimientos:l}}),deleteRequerimiento:e=>a(r=>{const o=r.requerimientos.filter(l=>l.id!==e);return gn("isp_requerimientos",o),{requerimientos:o}}),movimientosEquipos:[],addMovimientoEquipo:e=>a(r=>{const o=Io(r.movimientosEquipos,"MOV"),l=[{...e,id:o,fecha:new Date().toISOString().split("T")[0]},...r.movimientosEquipos];return gn("isp_movimientosEquipos",l),{movimientosEquipos:l}})});async function un(a,t){try{await uc(a,t)}catch(e){console.error(`Error saving to DB (${a}):`,e)}}async function wo(a){try{const{branding:t,customRolePermissions:e,whatsappCategories:r,theme:o}=a();await FV({branding:t||{},customRolePermissions:e||null,whatsappCategories:r||[],theme:o||"default"})}catch(t){console.warn("Error syncing settings to cloud:",t)}}function OT(a,t,e="id"){if(!a||a.length===0)return`${t}-001`;const r=a.reduce((o,l)=>{if(!l[e])return o;const c=l[e].split("-"),d=parseInt(c[c.length-1]||0);return!isNaN(d)&&d>o?d:o},0);return`${t}-${String(r+1).padStart(3,"0")}`}const JV=(a,t)=>({user:null,loading:!0,setUser:e=>{a({user:e,currentUser:e}),e?localStorage.setItem("isp_user",JSON.stringify(e)):localStorage.removeItem("isp_user")},initAuth:()=>{const e=localStorage.getItem("isp_user");if(e)try{const r=JSON.parse(e);a({user:r,currentUser:r,loading:!1})}catch{localStorage.removeItem("isp_user"),a({loading:!1})}else a({loading:!1});t().loadAuthorizedEmails?.()},logout:()=>{a({user:null,currentUser:null}),localStorage.removeItem("isp_user")},theme:"default",setTheme:e=>{a({theme:e}),un("isp_theme",e),e==="default"?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",e),setTimeout(()=>wo(t),100)},activePage:"dashboard",setActivePage:e=>a({activePage:e}),prefillVisita:null,setPrefillVisita:e=>a({prefillVisita:e}),clearPrefillVisita:()=>a({prefillVisita:null}),prefillSoporte:null,setPrefillSoporte:e=>a({prefillSoporte:e}),clearPrefillSoporte:()=>a({prefillSoporte:null}),templates:[],addTemplate:e=>a(r=>{const o=OT(r.templates,"TPL"),l=[{...e,id:o,uso:0},...r.templates];return un("isp_templates",l),{templates:l}}),updateTemplate:(e,r)=>a(o=>{const l=o.templates.map(c=>c.id===e?{...c,...r}:c);return un("isp_templates",l),{templates:l}}),deleteTemplate:e=>a(r=>{const o=r.templates.filter(l=>l.id!==e);return un("isp_templates",o),{templates:o}}),incrementTemplateUse:e=>a(r=>{const o=r.templates.map(l=>l.id===e?{...l,uso:(l.uso||0)+1}:l);return un("isp_templates",o),{templates:o}}),whatsappLogs:[],addWhatsappLog:e=>a(r=>{const o=OT(r.whatsappLogs,"WA"),l=[{...e,id:o,fecha:new Date().toISOString()},...r.whatsappLogs];return un("isp_whatsappLogs",l),{whatsappLogs:l}}),campaignActive:!1,campaignQueue:[],campaignIndex:0,setCampaign:e=>a(e),whatsappCategories:[],addCategory:e=>{a(r=>{const o=r.whatsappCategories.length>0?r.whatsappCategories:["Cobranza","General","Soporte","Promocin"];if(o.includes(e))return{};const l=[...o,e];return un("isp_whatsappCategories",l),{whatsappCategories:l}}),setTimeout(()=>wo(t),100)},deleteCategory:e=>{a(r=>{const l=(r.whatsappCategories.length>0?r.whatsappCategories:["Cobranza","General","Soporte","Promocin"]).filter(c=>c!==e);return un("isp_whatsappCategories",l),{whatsappCategories:l}}),setTimeout(()=>wo(t),100)},updateCategory:(e,r)=>{a(o=>{const c=(o.whatsappCategories.length>0?o.whatsappCategories:["Cobranza","General","Soporte","Promocin"]).map(p=>p===e?r:p);un("isp_whatsappCategories",c);const d=o.templates.map(p=>p.categoria===e?{...p,categoria:r}:p);return un("isp_templates",d),{whatsappCategories:c,templates:d}}),setTimeout(()=>wo(t),100)},branding:{appName:"ISP System",appVersion:"v2.0 Mobile",appIcon:null,zoneName:"CARABAYLLO",syncLabel:""},setBranding:e=>{a(r=>{const o={...r.branding||{},...e};return un("isp_branding",o),{branding:o}}),setTimeout(()=>wo(t),100)},customRolePermissions:null,setCustomRolePermissions:e=>{a(()=>(un("isp_customRolePermissions",e),{customRolePermissions:e})),setTimeout(()=>wo(t),100)},loadSettingsFromCloud:async()=>{try{const e=await HV();if(e){const r={};e.branding&&(r.branding=e.branding),e.customRolePermissions!==void 0&&(r.customRolePermissions=e.customRolePermissions),e.whatsappCategories&&(r.whatsappCategories=e.whatsappCategories),e.theme&&(r.theme=e.theme,e.theme==="default"?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",e.theme)),Object.keys(r).length>0&&(a(r),r.branding&&un("isp_branding",r.branding),r.customRolePermissions!==void 0&&un("isp_customRolePermissions",r.customRolePermissions),r.whatsappCategories&&un("isp_whatsappCategories",r.whatsappCategories),r.theme&&un("isp_theme",r.theme))}}catch(e){console.warn("Error loading settings from cloud:",e)}},uploadImage:async(e,r)=>(console.log(`[STORE] Mock uploading ${e.name} to ${r}`),new Promise(o=>{setTimeout(()=>{o(URL.createObjectURL(e))},800)})),toasts:[],addToast:e=>a(r=>{const l={id:Date.now()+Math.random(),duration:3e3,type:"success",...e};return{toasts:[...r.toasts,l]}}),removeToast:e=>a(r=>({toasts:r.toasts.filter(o=>o.id!==e)}))}),WV=(a,t)=>({authorizedEmails:[],loadAuthorizedEmails:()=>{const e=localStorage.getItem("isp_authorized_emails");if(e)try{a({authorizedEmails:JSON.parse(e)})}catch(r){console.error("Error loading authorized emails:",r)}},addAuthorizedEmail:e=>{const r=t().authorizedEmails,o=e.toLowerCase().trim();if(!r.includes(o)){const l=[...r,o];return a({authorizedEmails:l}),localStorage.setItem("isp_authorized_emails",JSON.stringify(l)),!0}return!1},removeAuthorizedEmail:e=>{const r=t().authorizedEmails.filter(o=>o!==e.toLowerCase().trim());a({authorizedEmails:r}),localStorage.setItem("isp_authorized_emails",JSON.stringify(r))},isEmailAuthorized:e=>{const r=t().authorizedEmails;return r.length===0?!0:r.includes(e?.toLowerCase()?.trim())}}),Ee={SUPER_ADMIN:"SUPER_ADMIN",ADMIN:"ADMIN",TECNICO:"TECNICO",VIEWER:"VIEWER"},ht={NONE:"none",READ:"read",WRITE:"write",ADMIN:"admin"},rt={DASHBOARD:"dashboard",CLIENTES:"clientes",TICKETS:"tickets",AVERIAS:"averias",INSTALACIONES:"instalaciones",VISITAS:"visitas",TECNICOS:"tecnicos",EQUIPOS:"equipos",PLANTA_EXTERNA:"planta_externa",POST_VENTA:"post_venta",SOPORTE_REMOTO:"soporte_remoto",REQUERIMIENTOS:"requerimientos",WHATSAPP:"whatsapp",REPORTES:"reportes",CONFIGURACION:"configuracion",USUARIOS:"usuarios"},GA={[Ee.SUPER_ADMIN]:{[rt.DASHBOARD]:ht.ADMIN,[rt.CLIENTES]:ht.ADMIN,[rt.TICKETS]:ht.ADMIN,[rt.AVERIAS]:ht.ADMIN,[rt.INSTALACIONES]:ht.ADMIN,[rt.VISITAS]:ht.ADMIN,[rt.TECNICOS]:ht.ADMIN,[rt.EQUIPOS]:ht.ADMIN,[rt.PLANTA_EXTERNA]:ht.ADMIN,[rt.POST_VENTA]:ht.ADMIN,[rt.SOPORTE_REMOTO]:ht.ADMIN,[rt.REQUERIMIENTOS]:ht.ADMIN,[rt.WHATSAPP]:ht.ADMIN,[rt.REPORTES]:ht.ADMIN,[rt.CONFIGURACION]:ht.ADMIN,[rt.USUARIOS]:ht.ADMIN},[Ee.ADMIN]:{[rt.DASHBOARD]:ht.ADMIN,[rt.CLIENTES]:ht.ADMIN,[rt.TICKETS]:ht.ADMIN,[rt.AVERIAS]:ht.ADMIN,[rt.INSTALACIONES]:ht.ADMIN,[rt.VISITAS]:ht.ADMIN,[rt.TECNICOS]:ht.ADMIN,[rt.EQUIPOS]:ht.ADMIN,[rt.PLANTA_EXTERNA]:ht.ADMIN,[rt.POST_VENTA]:ht.ADMIN,[rt.SOPORTE_REMOTO]:ht.ADMIN,[rt.REQUERIMIENTOS]:ht.ADMIN,[rt.WHATSAPP]:ht.ADMIN,[rt.REPORTES]:ht.ADMIN,[rt.CONFIGURACION]:ht.WRITE,[rt.USUARIOS]:ht.NONE},[Ee.TECNICO]:{[rt.DASHBOARD]:ht.READ,[rt.CLIENTES]:ht.WRITE,[rt.TICKETS]:ht.WRITE,[rt.AVERIAS]:ht.WRITE,[rt.INSTALACIONES]:ht.WRITE,[rt.VISITAS]:ht.WRITE,[rt.TECNICOS]:ht.READ,[rt.EQUIPOS]:ht.WRITE,[rt.PLANTA_EXTERNA]:ht.WRITE,[rt.POST_VENTA]:ht.WRITE,[rt.SOPORTE_REMOTO]:ht.WRITE,[rt.REQUERIMIENTOS]:ht.WRITE,[rt.WHATSAPP]:ht.WRITE,[rt.REPORTES]:ht.READ,[rt.CONFIGURACION]:ht.NONE,[rt.USUARIOS]:ht.NONE},[Ee.VIEWER]:{[rt.DASHBOARD]:ht.READ,[rt.CLIENTES]:ht.READ,[rt.TICKETS]:ht.READ,[rt.AVERIAS]:ht.READ,[rt.INSTALACIONES]:ht.READ,[rt.VISITAS]:ht.READ,[rt.TECNICOS]:ht.READ,[rt.EQUIPOS]:ht.READ,[rt.PLANTA_EXTERNA]:ht.READ,[rt.POST_VENTA]:ht.READ,[rt.SOPORTE_REMOTO]:ht.READ,[rt.REQUERIMIENTOS]:ht.READ,[rt.WHATSAPP]:ht.READ,[rt.REPORTES]:ht.READ,[rt.CONFIGURACION]:ht.NONE,[rt.USUARIOS]:ht.NONE}},u4={[rt.DASHBOARD]:"Dashboard",[rt.CLIENTES]:"Clientes",[rt.TICKETS]:"Tickets",[rt.AVERIAS]:"Averas",[rt.INSTALACIONES]:"Instalaciones",[rt.VISITAS]:"Visitas Tcnicas",[rt.TECNICOS]:"Tcnicos",[rt.EQUIPOS]:"Equipos",[rt.PLANTA_EXTERNA]:"Planta Externa",[rt.POST_VENTA]:"Post-Venta",[rt.SOPORTE_REMOTO]:"Soporte Remoto",[rt.REQUERIMIENTOS]:"Requerimientos",[rt.WHATSAPP]:"WhatsApp",[rt.REPORTES]:"Reportes",[rt.CONFIGURACION]:"Configuracin",[rt.USUARIOS]:"Usuarios"},c4={[Ee.SUPER_ADMIN]:{label:"Super Administrador",desc:"Acceso total + gestin de usuarios",color:"purple"},[Ee.ADMIN]:{label:"Administrador",desc:"Acceso total operativo",color:"blue"},[Ee.TECNICO]:{label:"Tcnico",desc:"Acceso a mdulos operativos",color:"green"},[Ee.VIEWER]:{label:"Visualizador",desc:"Solo lectura",color:"gray"}},Cs="users",tN=async()=>{const a=Je();if(!a)throw new Error("Firebase no configurado");const t=kA(oc(a,Cs),OV("createdAt","desc")),e=await rd(t),r=[];return e.forEach(o=>{r.push({uid:o.id,...o.data()})}),r},KA=async a=>{const t=Je();if(!t)throw new Error("Firebase no configurado");const e=kA(oc(t,Cs),NV("email","==",a)),r=await rd(e);if(r.empty)return null;const o=r.docs[0];return{uid:o.id,...o.data()}},eN=async a=>{const t=Je();if(!t)throw new Error("Firebase no configurado");const e=me(t,Cs,a),r=await ua(e);return r.exists()?{uid:r.id,...r.data()}:null},nN=async(a,t,e=null)=>{const r=Je();if(!r)throw new Error("Firebase no configurado");if(await KA(a.email))throw new Error("Ya existe un usuario con este email");const l=e||`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c=new Date().toISOString(),d={email:a.email,nombre:a.nombre,foto:a.foto||null,rol:a.rol||Ee.VIEWER,permisos:a.permisos||GA[a.rol||Ee.VIEWER],authType:a.authType||"google_oauth",activo:!0,createdAt:c,updatedAt:c,createdBy:t,ultimoAcceso:null};return await Ki(me(r,Cs,l),d),{uid:l,...d}},iN=async(a,t)=>{const e=Je();if(!e)throw new Error("Firebase no configurado");const r=me(e,Cs,a),o=await ua(r);if(!o.exists())throw new Error("Usuario no encontrado");const l={...t,updatedAt:new Date().toISOString()};return await jA(r,l),{uid:a,...o.data(),...l}},MT=async a=>{const t=Je();if(!t)throw new Error("Firebase no configurado");const e=me(t,Cs,a);await jA(e,{ultimoAcceso:new Date().toISOString()})},rN=async a=>{const t=Je();if(!t)throw new Error("Firebase no configurado");return await fy(me(t,Cs,a)),!0},aN=(a,t)=>({currentUser:null,allUsers:[],usersLoading:!1,usersError:null,setCurrentUser:e=>a({currentUser:e}),clearCurrentUser:()=>a({currentUser:null}),loadCurrentUserByEmail:async e=>{try{a({usersLoading:!0,usersError:null});const r=await KA(e);return r?r.activo?(await MT(r.uid),a({currentUser:r,user:r,usersLoading:!1}),localStorage.setItem("isp_user",JSON.stringify(r)),r):(a({currentUser:null,usersLoading:!1,usersError:"Tu cuenta ha sido desactivada. Contacta al administrador."}),null):(a({currentUser:null,usersLoading:!1,usersError:"Usuario no autorizado. Contacta al administrador."}),null)}catch(r){return console.error("Error loading current user:",r),a({currentUser:null,usersLoading:!1,usersError:r.message}),null}},getUserByUid:async e=>{try{const r=await eN(e);return!r||!r.activo?null:(await MT(r.uid),r)}catch(r){return console.error("Error loading user by UID:",r),null}},loadAllUsers:async()=>{try{a({usersLoading:!0,usersError:null});const e=await tN();return a({allUsers:e,usersLoading:!1}),e}catch(e){return console.error("Error loading users:",e),a({usersError:e.message,usersLoading:!1}),[]}},createUser:async e=>{try{a({usersLoading:!0,usersError:null});const r=t().currentUser,o=await nN(e,r?.uid||"system"),l=t().allUsers;return a({allUsers:[o,...l],usersLoading:!1}),o}catch(r){throw console.error("Error creating user:",r),a({usersError:r.message,usersLoading:!1}),r}},updateUser:async(e,r)=>{try{a({usersLoading:!0,usersError:null});const o=await iN(e,r),l=t().allUsers.map(d=>d.uid===e?o:d);a({allUsers:l,usersLoading:!1});const c=t().currentUser;if(c?.uid===e){a({currentUser:{...c,...o}});const d=localStorage.getItem("isp_user");if(d)try{const p=JSON.parse(d);p.uid===e&&localStorage.setItem("isp_user",JSON.stringify({...p,...o}))}catch{}}return o}catch(o){throw console.error("Error updating user:",o),a({usersError:o.message,usersLoading:!1}),o}},deleteUser:async e=>{try{a({usersLoading:!0,usersError:null}),await rN(e);const r=t().allUsers.filter(o=>o.uid!==e);return a({allUsers:r,usersLoading:!1}),!0}catch(r){throw console.error("Error deleting user:",r),a({usersError:r.message,usersLoading:!1}),r}},toggleUserStatus:async e=>{try{const r=t().allUsers.find(l=>l.uid===e);if(!r)throw new Error("Usuario no encontrado");const o=!r.activo;return await t().updateUser(e,{activo:o}),o}catch(r){throw console.error("Error toggling user status:",r),r}},updateUserPermissions:async(e,r)=>{try{return await t().updateUser(e,{permisos:r})}catch(o){throw console.error("Error updating permissions:",o),o}},hasPermission:(e,r=ht.READ)=>{const o=t().currentUser;if(!o)return!1;if(o.rol==="SUPER_ADMIN")return!0;let l=o.permisos?.[e];if(!l){Object.values(Ee).find(T=>T===o.rol)||Ee.VIEWER;const v=t().customRolePermissions?.[o.rol]||GA[o.rol];v&&(l=v[e])}if(!l)return!1;const c=[ht.NONE,ht.READ,ht.WRITE,ht.ADMIN],d=c.indexOf(l),p=c.indexOf(r);return d>=p},canRead:e=>t().hasPermission(e,ht.READ),canWrite:e=>t().hasPermission(e,ht.WRITE),canAdmin:e=>t().hasPermission(e,ht.ADMIN),canManageUsers:()=>t().hasPermission(rt.USUARIOS,ht.ADMIN),getAccessibleModules:()=>t().currentUser?Object.keys(rt).filter(r=>{const o=rt[r];return t().hasPermission(o,ht.READ)}):[]}),sN=[{id:"CAT-01",nombre:"Falla de Internet",descripcion:"Problemas de navegacin, velocidad y latencia"},{id:"CAT-02",nombre:"Falla de Cable",descripcion:"Problemas con seal de TV o decodificadores"},{id:"CAT-03",nombre:"Configuracin",descripcion:"Cambios lgicos (WiFi, puertos, reseteo)"},{id:"CAT-04",nombre:"Infraestructura",descripcion:"Daos en red externa (postes, cajas, cables)"},{id:"CAT-05",nombre:"Hardware",descripcion:"Fallas fsicas en equipos del cliente"},{id:"CAT-06",nombre:"Administrativo",descripcion:"Facturacin, cortes por pago, planes"}],oN=[{id:"SUB-101",categoriaId:"CAT-01",nombre:"Corte Total de Internet",tipoAtencion:"Soporte Remoto"},{id:"SUB-102",categoriaId:"CAT-01",nombre:"Baja Velocidad",tipoAtencion:"Soporte Remoto"},{id:"SUB-103",categoriaId:"CAT-01",nombre:"Intermitencia",tipoAtencion:"Soporte Remoto"},{id:"SUB-104",categoriaId:"CAT-01",nombre:"Pginas Especficas",tipoAtencion:"Soporte Remoto"},{id:"SUB-105",categoriaId:"CAT-01",nombre:"Internet Lento",tipoAtencion:"Soporte Remoto"},{id:"SUB-201",categoriaId:"CAT-02",nombre:"Sin Seal de TV",tipoAtencion:"Visita Tcnica"},{id:"SUB-202",categoriaId:"CAT-02",nombre:"Imagen Congelada",tipoAtencion:"Visita Tcnica"},{id:"SUB-203",categoriaId:"CAT-02",nombre:"Decodificador",tipoAtencion:"Visita Tcnica"},{id:"SUB-301",categoriaId:"CAT-03",nombre:"Configurar WiFi",tipoAtencion:"Soporte Remoto"},{id:"SUB-302",categoriaId:"CAT-03",nombre:"Abrir Puertos",tipoAtencion:"Soporte Remoto"},{id:"SUB-303",categoriaId:"CAT-03",nombre:"Reseteo de Equipo",tipoAtencion:"Soporte Remoto"},{id:"SUB-401",categoriaId:"CAT-04",nombre:"Dao en Acometida",tipoAtencion:"Visita Tcnica"},{id:"SUB-402",categoriaId:"CAT-04",nombre:"Dao en NAP",tipoAtencion:"Visita Tcnica"},{id:"SUB-403",categoriaId:"CAT-04",nombre:"Traslado de Servicio",tipoAtencion:"Visita Tcnica"},{id:"SUB-501",categoriaId:"CAT-05",nombre:"Router/ONT Averiado",tipoAtencion:"Visita Tcnica"},{id:"SUB-502",categoriaId:"CAT-05",nombre:"Transformador/POE",tipoAtencion:"Visita Tcnica"},{id:"SUB-503",categoriaId:"CAT-05",nombre:"Puerto LAN Daado",tipoAtencion:"Visita Tcnica"},{id:"SUB-601",categoriaId:"CAT-06",nombre:"Reconexin por Pago",tipoAtencion:"Soporte Remoto"},{id:"SUB-602",categoriaId:"CAT-06",nombre:"Cambio de Plan",tipoAtencion:"Soporte Remoto"},{id:"SUB-603",categoriaId:"CAT-06",nombre:"Facturacin",tipoAtencion:"Soporte Remoto"}],lN=[{id:"PRI-01",subcategoriaId:"SUB-101",prioridad:"Crtica",tiempoLimite:"4 horas",impacto:"Cliente incomunicado"},{id:"PRI-02",subcategoriaId:"SUB-102",prioridad:"Media",tiempoLimite:"24 horas",impacto:"Servicio degradado"},{id:"PRI-03",subcategoriaId:"SUB-201",prioridad:"Alta",tiempoLimite:"12 horas",impacto:"Sin TV"},{id:"PRI-04",subcategoriaId:"SUB-301",prioridad:"Baja",tiempoLimite:"48 horas",impacto:"Cambio esttico"},{id:"PRI-05",subcategoriaId:"SUB-501",prioridad:"Alta",tiempoLimite:"8 horas",impacto:"Hardware daado"},{id:"PRI-06",subcategoriaId:"SUB-601",prioridad:"Media",tiempoLimite:"4 horas",impacto:"Reconexin"},{id:"PRI-07",subcategoriaId:"SUB-401",prioridad:"Alta",tiempoLimite:"12 horas",impacto:"Infraestructura daada"}],uN=[{id:"EST-01",entidad:"Ticket",nombre:"Abierto",color:"#ef4444",orden:1,esFinal:!1},{id:"EST-02",entidad:"Ticket",nombre:"En Proceso",color:"#f59e0b",orden:2,esFinal:!1},{id:"EST-03",entidad:"Ticket",nombre:"Escalado",color:"#f97316",orden:3,esFinal:!1},{id:"EST-04",entidad:"Ticket",nombre:"Resuelto",color:"#10b981",orden:4,esFinal:!0},{id:"EST-05",entidad:"Ticket",nombre:"Cerrado",color:"#6b7280",orden:5,esFinal:!0},{id:"EST-06",entidad:"Ticket",nombre:"Cancelado",color:"#9ca3af",orden:6,esFinal:!0},{id:"EST-07",entidad:"Cliente",nombre:"Activo",color:"#10b981",orden:1,esFinal:!1},{id:"EST-08",entidad:"Cliente",nombre:"Suspendido",color:"#f59e0b",orden:2,esFinal:!1},{id:"EST-09",entidad:"Cliente",nombre:"Retirado",color:"#ef4444",orden:3,esFinal:!0},{id:"EST-10",entidad:"Visita",nombre:"Programada",color:"#3b82f6",orden:1,esFinal:!1},{id:"EST-11",entidad:"Visita",nombre:"En Ruta",color:"#8b5cf6",orden:2,esFinal:!1},{id:"EST-12",entidad:"Visita",nombre:"En Sitio",color:"#f59e0b",orden:3,esFinal:!1},{id:"EST-13",entidad:"Visita",nombre:"Completada",color:"#10b981",orden:4,esFinal:!0},{id:"EST-14",entidad:"Visita",nombre:"Cancelada",color:"#9ca3af",orden:5,esFinal:!0},{id:"EST-15",entidad:"Solicitud",nombre:"Pendiente",color:"#f59e0b",orden:1,esFinal:!1},{id:"EST-16",entidad:"Solicitud",nombre:"Aprobada",color:"#3b82f6",orden:2,esFinal:!1},{id:"EST-17",entidad:"Solicitud",nombre:"En Ejecucin",color:"#8b5cf6",orden:3,esFinal:!1},{id:"EST-18",entidad:"Solicitud",nombre:"Ejecutada",color:"#10b981",orden:4,esFinal:!0},{id:"EST-19",entidad:"Solicitud",nombre:"Rechazada",color:"#ef4444",orden:5,esFinal:!0}],cN=[{id:"SRV-01",nombre:"Punto Adicional CATV",tipo:"Presencial",precio:15,descripcion:"Instalacin de punto adicional de cable TV"},{id:"SRV-02",nombre:"Punto Adicional Red",tipo:"Presencial",precio:80,descripcion:"Instalacin de punto de red cableado"},{id:"SRV-03",nombre:"Traslado de Servicio",tipo:"Presencial",precio:120,descripcion:"Reubicacin del servicio a otra direccin"},{id:"SRV-04",nombre:"Configuracin IPTV",tipo:"Remoto",precio:0,descripcion:"Configuracin de IPTV (solo Radio Enlace)"},{id:"SRV-05",nombre:"Repetidor WiFi",tipo:"Presencial",precio:50,descripcion:"Instalacin de repetidor WiFi"},{id:"SRV-06",nombre:"Cambio de Plan",tipo:"Remoto",precio:0,descripcion:"Upgrade o downgrade de plan de internet"},{id:"SRV-07",nombre:"Reconexin",tipo:"Remoto",precio:0,descripcion:"Reconexin de servicio por pago"}],hN=[{id:"TREQ-01",nombre:"Compra de Materiales",categoria:"Operativo"},{id:"TREQ-02",nombre:"Compra de Equipos",categoria:"Operativo"},{id:"TREQ-03",nombre:"Solicitud de Presupuesto",categoria:"Administrativo"},{id:"TREQ-04",nombre:"Contratacin de Servicio",categoria:"Administrativo"},{id:"TREQ-05",nombre:"Permiso Municipal",categoria:"Legal"},{id:"TREQ-06",nombre:"Trmite Legal",categoria:"Legal"},{id:"TREQ-07",nombre:"Pago a Proveedor",categoria:"Financiero"},{id:"TREQ-08",nombre:"Solicitud de Boleta",categoria:"Financiero"},{id:"TREQ-09",nombre:"Solicitud de Factura",categoria:"Financiero"},{id:"TREQ-10",nombre:"Cambio de Titularidad",categoria:"Administrativo"},{id:"TREQ-11",nombre:"Otro",categoria:"General"}],Se=iS((a,t)=>({storeReady:!1,isMigrating:!1,...XV(a),...$V(a),...ZV(a),...JV(a,t),...WV(a,t),...aN(a,t),hydrateStore:async()=>{try{const e=await YV(),r=e.some(d=>d.startsWith("isp_")),o=localStorage.getItem("migration_v1_done");if(r&&!o){a({isMigrating:!0}),console.log("Detectados datos legacy. Iniciando migracin...");const d={};for(const g of e)if(g.startsWith("isp_")){const v=await NT(g);d[g.replace("isp_","")]=v}await BV(d)?(localStorage.setItem("migration_v1_done","true"),console.log("Migracin finalizada.")):console.error("Fall la migracin."),a({isMigrating:!1})}const l={isp_clients:"clients",isp_tickets:"tickets",isp_averias:"averias",isp_equipos:"equipos",isp_visitas:"visitas",isp_instalaciones:"instalaciones",isp_derivaciones:"derivaciones",isp_postVenta:"postVenta",isp_sesionesRemoto:"sesionesRemoto",isp_movimientosEquipos:"movimientosEquipos",isp_whatsappLogs:"whatsappLogs",isp_templates:"templates",isp_requerimientos:"requerimientos",isp_col_prefs:"columnPrefs",isp_cleaningOptions:"cleaningOptions",isp_importHistory:"importHistory",isp_branding:"branding",isp_customRolePermissions:"customRolePermissions",isp_whatsappCategories:"whatsappCategories",isp_theme:"theme",isp_categorias:"categorias",isp_subcategorias:"subcategorias",isp_prioridadesSLA:"prioridadesSLA",isp_estadosCatalogo:"estadosCatalogo",isp_catalogoServicios:"catalogoServicios",isp_tiposRequerimiento:"tiposRequerimiento"},c={};for(const[d,p]of Object.entries(l))try{const g=await NT(d);g!=null&&(c[p]=g)}catch{}Object.keys(c).length>0&&a(c),c.theme&&c.theme!=="default"&&document.documentElement.setAttribute("data-theme",c.theme),t().loadSettingsFromCloud?.(),a({storeReady:!0})}catch(e){console.error("Error durante hydrateStore:",e),a({storeReady:!0})}},tecnicos:[],addTecnico:e=>{const r=t(),l=((d,p)=>{if(!d||d.length===0)return`${p}-001`;const g=d.reduce((v,T)=>{const A=T.id.split("-"),x=parseInt(A[A.length-1]||0);return!isNaN(x)&&x>v?x:v},0);return`${p}-${String(g+1).padStart(3,"0")}`})(r.tecnicos,"TEC"),c={...e,id:l};a(d=>({tecnicos:[c,...d.tecnicos]})),cg("tecnicos",c)},updateTecnico:(e,r)=>{a(o=>({tecnicos:o.tecnicos.map(l=>l.id===e?{...l,...r}:l)})),cg("tecnicos",{id:e,...r})},deleteTecnico:e=>{a(r=>({tecnicos:r.tecnicos.filter(o=>o.id!==e)})),FA("tecnicos",e)},restoreSystem:e=>{const r=["clients","tickets","averias","tecnicos","equipos","visitas","instalaciones","derivaciones","postVenta","sesionesRemoto","movimientosEquipos","whatsappLogs","templates","requerimientos","columnPrefs","cleaningOptions","importHistory","branding","customRolePermissions","whatsappCategories"],o={};for(const l of r)e[l]!==void 0&&(o[l]=e[l]);if(Object.keys(o).length>0){a(o);const l={clients:"isp_clients",tickets:"isp_tickets",averias:"isp_averias",equipos:"isp_equipos",visitas:"isp_visitas",instalaciones:"isp_instalaciones",derivaciones:"isp_derivaciones",postVenta:"isp_postVenta",sesionesRemoto:"isp_sesionesRemoto",movimientosEquipos:"isp_movimientosEquipos",whatsappLogs:"isp_whatsappLogs",templates:"isp_templates",requerimientos:"isp_requerimientos",columnPrefs:"isp_col_prefs",cleaningOptions:"isp_cleaningOptions",importHistory:"isp_importHistory",branding:"isp_branding",customRolePermissions:"isp_customRolePermissions",whatsappCategories:"isp_whatsappCategories",categorias:"isp_categorias",subcategorias:"isp_subcategorias",prioridadesSLA:"isp_prioridadesSLA",estadosCatalogo:"isp_estadosCatalogo",catalogoServicios:"isp_catalogoServicios",tiposRequerimiento:"isp_tiposRequerimiento"};for(const[c,d]of Object.entries(l))o[c]!==void 0&&uc(d,o[c]).catch(()=>{})}e.theme&&(a({theme:e.theme}),e.theme==="default"?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",e.theme))},categorias:sN,subcategorias:oN,prioridadesSLA:lN,estadosCatalogo:uN,catalogoServicios:cN,tiposRequerimiento:hN,addServicioCatalogo:e=>a(r=>{const o=r.catalogoServicios.reduce((c,d)=>{const p=parseInt(d.id.split("-")[1]||0);return!isNaN(p)&&p>c?p:c},0),l=`SRV-${String(o+1).padStart(2,"0")}`;return{catalogoServicios:[...r.catalogoServicios,{...e,id:l}]}}),deleteServicioCatalogo:e=>a(r=>({catalogoServicios:r.catalogoServicios.filter(o=>o.id!==e)})),addTipoRequerimiento:e=>a(r=>{const o=r.tiposRequerimiento.reduce((c,d)=>{const p=parseInt(d.id.split("-")[1]||0);return!isNaN(p)&&p>c?p:c},0),l=`TREQ-${String(o+1).padStart(2,"0")}`;return{tiposRequerimiento:[...r.tiposRequerimiento,{...e,id:l}]}}),updateTipoRequerimiento:(e,r)=>a(o=>({tiposRequerimiento:o.tiposRequerimiento.map(l=>l.id===e?{...l,...r}:l)})),deleteTipoRequerimiento:e=>a(r=>({tiposRequerimiento:r.tiposRequerimiento.filter(o=>o.id!==e)})),getSubcategoriasByCategoria:e=>t().subcategorias.filter(r=>r.categoriaId===e),getEstadosByEntidad:e=>t().estadosCatalogo.filter(r=>r.entidad===e),getSLABySubcategoria:e=>t().prioridadesSLA.find(r=>r.subcategoriaId===e)})),fg={SUPER_ADMIN:{label:"Super Administrador",color:"#a855f7",permissions:["*"]},ADMIN:{label:"Administrador",color:"#3b82f6",permissions:["*"]},TECNICO:{label:"Tcnico",color:"#10b981",permissions:["visitas","equipos","tickets","clientes","averias","instalaciones"]},VIEWER:{label:"Visualizador",color:"#64748b",permissions:["dashboard","reportes"]}},QA=q.createContext(null);function fN({children:a}){const t=Se(p=>p.user),e=Se(p=>p.loading),r=Se(p=>p.setUser),o=Se(p=>p.logout),l=Se(p=>p.initAuth);q.useEffect(()=>{l()},[l]);const c=q.useCallback(p=>{r(p)},[r]),d=q.useCallback(p=>{if(!t)return!1;const g=fg[t.rol];return g?g.permissions.includes("*")||g.permissions.includes(p):!1},[t]);return X.jsx(QA.Provider,{value:{user:t,login:c,logout:o,loading:e,hasPermission:d},children:a})}function sd(){const a=q.useContext(QA);if(!a)throw new Error("useAuth must be used within AuthProvider");return a}const YA=(...a)=>a.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim();const dN=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mN=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase());const PT=a=>{const t=mN(a);return t.charAt(0).toUpperCase()+t.slice(1)};var pN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gN=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const yN=q.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},p)=>q.createElement("svg",{ref:p,...pN,width:t,height:t,stroke:a,strokeWidth:r?Number(e)*24/Number(t):e,className:YA("lucide",o),...!l&&!gN(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>q.createElement(g,v)),...Array.isArray(l)?l:[l]]));const se=(a,t)=>{const e=q.forwardRef(({className:r,...o},l)=>q.createElement(yN,{ref:l,iconNode:t,className:YA(`lucide-${dN(PT(a))}`,`lucide-${a}`,r),...o}));return e.displayName=PT(a),e};const _N=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],vN=se("box",_N);const EN=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],TN=se("cable",EN);const SN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],AN=se("calendar",SN);const bN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RN=se("chart-column",bN);const IN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wN=se("circle-check-big",IN);const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],DN=se("circle-x",CN);const xN=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VN=se("cloud-off",xN);const NN=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ON=se("cloud-upload",NN);const MN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],PN=se("cloud",MN);const LN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UN=se("file-text",LN);const zN=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],kN=se("hard-hat",zN);const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],XA=se("info",BN);const qN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jN=se("layout-dashboard",qN);const FN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],HN=se("loader-circle",FN);const GN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dg=se("log-out",GN);const KN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],QN=se("menu",KN);const YN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XN=se("message-square",YN);const $N=[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]],ZN=se("monitor-smartphone",$N);const JN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WN=se("settings",JN);const tO=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],eO=se("shopping-bag",tO);const nO=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],iO=se("ticket",nO);const rO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$A=se("triangle-alert",rO);const aO=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sO=se("user-cog",aO);const oO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lO=se("users",oO);const uO=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],cO=se("wifi",uO);const hO=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],fO=se("wrench",hO);const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mO=se("x",dO),pO=[{label:"Principal",items:[{to:"/",label:"Dashboard",icon:jN},{to:"/clientes",label:"Clientes",icon:lO}]},{label:"Soporte",items:[{to:"/tickets",label:"Tickets",icon:iO},{to:"/averias",label:"Averas",icon:$A},{to:"/soporte",label:"Soporte Remoto",icon:ZN},{to:"/whatsapp",label:"WhatsApp",icon:XN}]},{label:"Operaciones",items:[{to:"/tecnicos",label:"Tcnicos",icon:fO},{to:"/visitas",label:"Visitas Tcnicas",icon:AN},{to:"/instalaciones",label:"Instalaciones",icon:kN},{to:"/planta-externa",label:"Planta Externa",icon:TN},{to:"/post-venta",label:"Post-Venta",icon:eO},{to:"/requerimientos",label:"Requerimientos",icon:UN}]},{label:"Sistema",items:[{to:"/equipos",label:"Equipos",icon:vN},{to:"/reportes",label:"Reportes",icon:RN},{to:"/usuarios",label:"Usuarios",icon:sO},{to:"/importar",label:"Importar Datos",icon:ON},{to:"/config",label:"Configuracin",icon:WN}]}],gO={"/":rt.DASHBOARD,"/clientes":rt.CLIENTES,"/tickets":rt.TICKETS,"/averias":rt.AVERIAS,"/soporte":rt.SOPORTE_REMOTO,"/whatsapp":rt.WHATSAPP,"/tecnicos":rt.TECNICOS,"/visitas":rt.VISITAS,"/instalaciones":rt.INSTALACIONES,"/planta-externa":rt.PLANTA_EXTERNA,"/post-venta":rt.POST_VENTA,"/requerimientos":rt.REQUERIMIENTOS,"/equipos":rt.EQUIPOS,"/reportes":rt.REPORTES,"/usuarios":rt.USUARIOS,"/config":rt.CONFIGURACION,"/importar":rt.CLIENTES};function yO({isOpen:a,onClose:t}){const{user:e,logout:r}=sd(),o=fg[e?.rol]||fg.TECNICO,l=Se(g=>g.hasPermission),c=Se(g=>g.branding),d=g=>g.filter(v=>{if(v.to==="/usuarios")return e?.rol===Ee.SUPER_ADMIN;const T=gO[v.to];return T?e?.rol===Ee.SUPER_ADMIN?!0:l(T,"read"):!0}),p=X.jsxs("div",{className:"w-64 h-full bg-bg-sidebar border-r border-border flex flex-col py-5 px-3 shadow-2xl lg:shadow-none",children:[X.jsxs("div",{className:"flex items-center gap-2.5 px-2 mb-8",children:[c?.appIcon?X.jsx("img",{src:c.appIcon,className:"w-9 h-9 rounded-[10px] object-cover shrink-0",alt:"Logo"}):X.jsx("div",{className:"w-9 h-9 rounded-[10px] flex items-center justify-center text-white shrink-0",style:{background:"linear-gradient(135deg, #3b82f6, #8b5cf6)"},children:X.jsx(cO,{size:18})}),X.jsxs("div",{children:[X.jsx("p",{className:"font-bold text-sm tracking-tight text-white",children:c?.appName||"ISP System"}),X.jsx("p",{className:"text-[10px] text-text-muted",children:c?.appVersion||"v2.0 Mobile"})]}),X.jsx("button",{onClick:t,className:"lg:hidden ml-auto text-text-muted p-1",children:X.jsx(dg,{size:18,className:"rotate-180"})})]}),X.jsx("nav",{className:"flex-1 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:pO.map((g,v)=>{const T=d(g.items);return T.length===0?null:X.jsxs("div",{children:[X.jsx("p",{className:"text-[9px] uppercase tracking-widest text-text-muted px-3 pt-3 pb-1 font-semibold",children:g.label}),T.map(A=>{const x=A.icon;return X.jsxs(eS,{to:A.to,onClick:()=>{t&&t()},className:({isActive:H})=>`flex items-center gap-2.5 py-2 px-3 rounded-[10px] border-none text-[13px] cursor-pointer transition-all w-full text-left
                      ${H?"bg-accent-blue/12 text-accent-blue font-semibold":"bg-transparent text-text-secondary font-normal hover:bg-white/[0.04]"}`,children:[X.jsx(x,{size:16}),A.label]},A.to)})]},v)})}),X.jsxs("div",{className:"p-3 rounded-xl bg-bg-secondary border border-border mt-2",children:[X.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[X.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold shrink-0",style:{background:o.color+"30",color:o.color},children:e?.nombre?.[0]||"?"}),X.jsxs("div",{className:"flex-1 min-w-0",children:[X.jsx("p",{className:"text-xs font-semibold truncate text-text-primary",children:e?.nombre}),X.jsx("p",{className:"text-[10px] font-medium",style:{color:o.color},children:o.label})]})]}),X.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 w-full justify-center py-1.5 rounded-lg border border-border bg-transparent text-text-muted text-[11px] cursor-pointer hover:border-accent-red hover:text-accent-red transition-colors",children:[X.jsx(dg,{size:12}),"Cerrar Sesin"]})]})]});return X.jsxs(X.Fragment,{children:[a&&X.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm",onClick:t}),X.jsx("div",{className:`
        fixed inset-y-0 left-0 z-50 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:z-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:p})]})}`${Date.now()}${Math.random().toString(36).slice(2,8)}`;function _O(){const a=Se.getState();return{clients:a.clients,tickets:a.tickets,averias:a.averias,tecnicos:a.tecnicos,equipos:a.equipos,visitas:a.visitas,instalaciones:a.instalaciones,derivaciones:a.derivaciones,postVenta:a.postVenta,sesionesRemoto:a.sesionesRemoto,movimientosEquipos:a.movimientosEquipos,requerimientos:a.requerimientos,whatsappLogs:a.whatsappLogs,templates:a.templates,columnPrefs:a.columnPrefs,cleaningOptions:a.cleaningOptions,importHistory:a.importHistory,branding:a.branding,customRolePermissions:a.customRolePermissions,whatsappCategories:a.whatsappCategories}}const mg=iS((a,t)=>({isSyncing:!1,lastSync:localStorage.getItem("isp_last_sync")||null,syncError:null,syncMode:"manual",backupVersions:[],loadingVersions:!1,restoringVersion:null,syncProgress:null,liveEnabled:!1,livePushing:!1,lastLiveUpdate:null,liveUnsubscribe:null,setSyncMode:e=>a({syncMode:e}),startLiveSync:()=>{if(t().liveEnabled)return;const e=[],r=Se.subscribe((o,l)=>{if(!t().liveEnabled)return;const c=["clients","tickets","averias","tecnicos","equipos","visitas","instalaciones","derivaciones","postVenta","sesionesRemoto","movimientosEquipos","requerimientos","whatsappLogs","templates","whatsappCategories","categorias","subcategorias","prioridadesSLA","estadosCatalogo","catalogoServicios","tiposRequerimiento"],d=[];c.forEach(p=>{const g=l[p]||[],v=o[p]||[];if(g===v)return;const T=new Map(g.map(x=>[x.id,x])),A=new Map(v.map(x=>[x.id,x]));for(const[x,H]of A.entries()){const K=T.get(x);K?JSON.stringify(K)!==JSON.stringify(H)&&d.push({col:p,action:"update",id:x,data:H}):d.push({col:p,action:"insert",id:x,data:H})}for(const x of T.keys())A.has(x)||d.push({col:p,action:"delete",id:x})}),d.length>0&&(d.forEach(p=>{const g=p.col==="clients"?"clients":p.col;p.action==="delete"?FA(g,p.id).catch(console.error):cg(g,p.data).catch(console.error)}),console.log(`[LiveSync] Se sincronizaron nativamente ${d.length} cambios atmicos.`))});a({liveEnabled:!0,liveUnsubscribe:()=>{e.forEach(o=>o()),r()}}),console.log("[LiveSync] Escuchador atmico de operaciones activado")},stopLiveSync:()=>{const e=t().liveUnsubscribe;e&&e(),a({liveEnabled:!1,liveUnsubscribe:null}),console.log("[LiveSync] Sincronizacin en tiempo real desactivada")},debouncedLivePush:()=>{},livePull:async()=>{},syncPush:async()=>{a({isSyncing:!0,syncError:null,syncProgress:{step:0,totalSteps:1,label:"Preparando datos...",percent:0}});try{const e=_O(),o=await qV(e,c=>a({syncProgress:c})),l=new Date().toISOString();return localStorage.setItem("isp_last_sync",l),a({lastSync:l,isSyncing:!1,syncProgress:null}),t().loadVersions(),o}catch(e){return console.error("Sync Push Error:",e),a({isSyncing:!1,syncError:e.message,syncProgress:null}),!1}},syncPull:async()=>{a({isSyncing:!0,syncError:null});try{const e=await jV();if(e){const r=Se.getState().restoreSystem;r&&r(e);const o=new Date().toISOString();return localStorage.setItem("isp_last_sync",o),a({lastSync:o,isSyncing:!1}),!0}else throw new Error("No se encontraron datos de respaldo en la nube.")}catch(e){return console.error("Sync Pull Error:",e),a({isSyncing:!1,syncError:e.message}),!1}},loadVersions:async()=>{a({loadingVersions:!0});try{const e=await HA();return a({backupVersions:e,loadingVersions:!1}),e}catch(e){return console.error("Error loading versions:",e),a({loadingVersions:!1,syncError:e.message}),[]}},restoreVersion:async e=>{a({restoringVersion:e,syncError:null});try{const r=await hg(e);if(r){const o=Se.getState().restoreSystem;o&&o(r);const l=new Date().toISOString();return localStorage.setItem("isp_last_sync",l),a({restoringVersion:null,lastSync:l}),!0}throw new Error("No se encontraron datos para esa versin.")}catch(r){return console.error("Restore Version Error:",r),a({restoringVersion:null,syncError:r.message}),!1}},removeVersion:async e=>{try{return await GV(e),a(r=>({backupVersions:r.backupVersions.filter(o=>o.id!==e)})),!0}catch(r){return console.error("Delete Version Error:",r),a({syncError:r.message}),!1}},downloadVersionData:async e=>{a({restoringVersion:e});try{const r=await hg(e);return a({restoringVersion:null}),r}catch(r){return console.error("Download Version Error:",r),a({restoringVersion:null,syncError:r.message}),null}}}));function vO({onMenuClick:a}){const{user:t,logout:e}=sd(),r=Se(T=>T.dataSource),o=Se(T=>T.lastImport),l=Se(T=>T.branding),c=mg(T=>T.liveEnabled),d=mg(T=>T.livePushing),p=o?`ltima: ${new Date(o.date).toLocaleDateString("es-PE")}`:r==="demo"?"Demo":"Sincronizado",g=l?.syncLabel||p,v=()=>{window.confirm("Ests seguro de que deseas cerrar sesin?")&&e()};return X.jsxs("div",{className:"h-14 border-b border-border bg-bg-secondary flex items-center justify-between px-4 lg:px-6 shrink-0 relative z-10 text-text-primary",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("button",{onClick:a,className:"lg:hidden p-2 -ml-2 text-text-secondary hover:bg-white/5 rounded-lg active:scale-95 transition-all",children:X.jsx(QN,{size:20})}),X.jsxs("div",{className:"text-xs text-text-muted flex flex-col sm:flex-row sm:items-center sm:gap-1",children:[X.jsx("span",{className:"hidden sm:inline",children:"Zona:"}),X.jsx("span",{className:"text-text-primary font-medium",children:l?.zoneName||"CARABAYLLO"}),X.jsx("span",{className:"hidden sm:inline",children:""}),X.jsx("span",{className:"text-accent-green text-[10px] sm:text-xs bg-accent-green/10 px-2 py-0.5 rounded-full mt-0.5 sm:mt-0 w-fit",children:g})]})]}),X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsxs("div",{className:"flex items-center gap-1.5",title:c?d?"Sincronizando...":"Sync en vivo activo":"Sync desconectado",children:[d?X.jsx(HN,{size:14,className:"text-accent-blue animate-spin"}):c?X.jsx(PN,{size:14,className:"text-accent-green"}):X.jsx(VN,{size:14,className:"text-text-muted"}),X.jsx("span",{className:`text-[10px] font-medium hidden sm:inline ${d?"text-accent-blue":c?"text-accent-green":"text-text-muted"}`,children:d?"Sincronizando":c?"En vivo":"Offline"})]}),X.jsx("span",{className:"text-xs text-text-secondary hidden sm:block",children:t?.email}),X.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-red-500 hover:bg-red-500/10 rounded-lg transition-colors cursor-pointer border border-red-500/20 hover:border-red-500/40 bg-transparent font-medium",title:"Cerrar sesin",children:[X.jsx(dg,{size:14}),X.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesin"})]})]})]})}function EO({children:a}){const[t,e]=q.useState(!1);return X.jsxs("div",{className:"flex h-screen overflow-hidden bg-bg-primary",children:[X.jsx(yO,{isOpen:t,onClose:()=>e(!1)}),X.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full relative",children:[X.jsx(vO,{onMenuClick:()=>e(!0)}),X.jsx("div",{className:"flex-1 overflow-hidden relative",children:a})]})]})}function Dp(){return X.jsx("div",{className:"h-screen flex items-center justify-center bg-bg-primary",children:X.jsxs("div",{className:"text-center",children:[X.jsx("div",{className:"w-12 h-12 border-[3px] border-border border-t-accent-blue rounded-full animate-spin-slow mx-auto mb-4"}),X.jsx("p",{className:"text-text-secondary text-sm",children:"Cargando sistema..."})]})})}function TO(){return null}const SO={success:wN,warning:$A,error:DN,info:XA},LT={success:"bg-emerald-500/10 border-emerald-500/30 text-emerald-400",warning:"bg-amber-500/10 border-amber-500/30 text-amber-400",error:"bg-red-500/10 border-red-500/30 text-red-400",info:"bg-blue-500/10 border-blue-500/30 text-blue-400"};function AO({toast:a}){const t=Se(r=>r.removeToast),e=SO[a.type]||XA;return q.useEffect(()=>{if(a.duration>0){const r=setTimeout(()=>t(a.id),a.duration);return()=>clearTimeout(r)}},[a.id,a.duration,t]),X.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl border backdrop-blur-sm shadow-lg animate-fade min-w-[280px] max-w-[420px] ${LT[a.type]||LT.info}`,children:[X.jsx(e,{size:18,className:"flex-shrink-0"}),X.jsx("span",{className:"text-sm font-medium flex-1",children:a.message}),X.jsx("button",{onClick:()=>t(a.id),className:"flex-shrink-0 p-0.5 rounded-md hover:bg-white/10 border-none bg-transparent cursor-pointer text-current opacity-60 hover:opacity-100 transition-opacity",children:X.jsx(mO,{size:14})})]})}function bO(){const a=Se(t=>t.toasts);return a.length===0?null:X.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] flex flex-col gap-2",children:a.map(t=>X.jsx(AO,{toast:t},t.id))})}function $h({children:a,requiredRole:t,allowedRoles:e}){const{user:r,loading:o}=sd(),l=Ar();return o?X.jsx("div",{className:"flex items-center justify-center h-screen",children:"Cargando..."}):r?t&&r.rol!==t?X.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[X.jsx("h1",{className:"text-2xl font-bold text-accent-red mb-2",children:"Acceso Denegado"}),X.jsx("p",{className:"text-text-secondary",children:"No tienes permisos para ver esta pgina."})]}):e&&!e.includes(r.rol)?X.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[X.jsx("h1",{className:"text-2xl font-bold text-accent-red mb-2",children:"Acceso Denegado"}),X.jsx("p",{className:"text-text-secondary",children:"No tienes permisos para ver esta pgina."})]}):a:X.jsx(Vp,{to:"/login",state:{from:l},replace:!0})}const RO=q.lazy(()=>Ge(()=>import("./LoginPage-BiUfoeq2.js"),__vite__mapDeps([0,1,2,3]))),IO=q.lazy(()=>Ge(()=>import("./DashboardPage-CVLNsoVa.js"),__vite__mapDeps([4,5,6]))),wO=q.lazy(()=>Ge(()=>import("./ClientesPage-C0WgG2FI.js"),__vite__mapDeps([7,8,9,10,11,12,3,13,14,15,16,17,18,19,20]))),CO=q.lazy(()=>Ge(()=>import("./ClienteDetalle-CBeIsEbq.js"),__vite__mapDeps([21,15,11,12,3,13,14,22,23,24,25,26,27,28,17]))),DO=q.lazy(()=>Ge(()=>import("./ImportacionPage-BGm_W9Or.js"),__vite__mapDeps([29,30,31,5,32,33,23,13,12,34,35]))),xO=q.lazy(()=>Ge(()=>import("./TicketsPage-DpMRH3wI.js"),__vite__mapDeps([36,8,9,11,12,3,13,14,37,25,38,18,39,40,24,16,17,33,34,23,41,22,42,43,27,26,28,35,6,44]))),VO=q.lazy(()=>Ge(()=>import("./AveriasPage-D-o5MXOQ.js"),__vite__mapDeps([45,11,12,3,13,14,37,25,38,35,28,9,17,41,46]))),NO=q.lazy(()=>Ge(()=>import("./SoporteRemotoPage-Bghm9yuF.js"),__vite__mapDeps([47,11,12,3,13,14,37,25,42,43,24,27,38,35,22,9,23,26]))),OO=q.lazy(()=>Ge(()=>import("./ReportesPage-piAPgOQl.js"),__vite__mapDeps([48,30,5,40,39,49,13]))),MO=q.lazy(()=>Ge(()=>import("./EquiposPage-BHpmaZsW.js"),__vite__mapDeps([50,8,9,5,38,18,39,40,35,22,51]))),PO=q.lazy(()=>Ge(()=>import("./ConfiguracionPage-BqsaNPx6.js"),__vite__mapDeps([52,40,18,53,6,35,2,34,31,46,54,51,32,23]))),LO=q.lazy(()=>Ge(()=>import("./WhatsAppPage-DSeaRmaz.js"),__vite__mapDeps([55,5,38,56,9,35,3,33,34,54,13,19,14,12]))),UO=q.lazy(()=>Ge(()=>import("./TecnicosPage-6nXbCEG0.js"),__vite__mapDeps([57,35,20,25,17,6,9,27,56,3,33,34,2,53,23,43]))),zO=q.lazy(()=>Ge(()=>import("./VisitasTecnicasPage-4vTwzIeO.js"),__vite__mapDeps([58,11,12,3,13,14,37,25,42,43,24,27,38,35,17,23,9,20,33,34,32,59]))),kO=q.lazy(()=>Ge(()=>import("./InstalacionesPage-mN61ge8l.js"),__vite__mapDeps([60,38,35,23,25,9,14,17,20,59]))),BO=q.lazy(()=>Ge(()=>import("./PlantaExternaPage-C167db5B.js"),__vite__mapDeps([61,11,12,3,13,14,37,25,35,23,9,17]))),qO=q.lazy(()=>Ge(()=>import("./PostVentaPage-GwtMy0xX.js"),__vite__mapDeps([62,38,35,9,46,34,49,10,17]))),jO=q.lazy(()=>Ge(()=>import("./RequerimientosPage-CbdiEXQX.js"),__vite__mapDeps([63,35,23,6,25,9,59,46,34]))),FO=q.lazy(()=>Ge(()=>import("./UsuariosPage-BsGjQ5Pc.js"),__vite__mapDeps([64,1,53,20,35,9,25,2,23,3,33,34,6])));function HO(){const{user:a,loading:t}=sd(),e=Se(p=>p.loadDemoData),r=Se(p=>p.clients),o=Se(p=>p.dataSource),l=Se(p=>p.hydrateStore),c=Se(p=>p.storeReady),d=Se(p=>p.theme);return q.useEffect(()=>{l()},[l]),q.useEffect(()=>{d==="default"?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",d)},[d]),q.useEffect(()=>{c&&a&&r.length===0&&o==="demo"&&e()},[c,a,r.length,o,e]),q.useEffect(()=>{if(c&&a){const{startLiveSync:p,stopLiveSync:g}=mg.getState();return p(),()=>g()}},[c,a]),t||!c?X.jsx(Dp,{}):a?X.jsx(EO,{children:X.jsx(q.Suspense,{fallback:X.jsx(Dp,{}),children:X.jsxs(PI,{children:[X.jsx(Ue,{path:"/",element:X.jsx(IO,{})}),X.jsx(Ue,{path:"/clientes",element:X.jsx(wO,{})}),X.jsx(Ue,{path:"/clientes/:id",element:X.jsx(CO,{})}),X.jsx(Ue,{path:"/tickets",element:X.jsx(xO,{})}),X.jsx(Ue,{path:"/averias",element:X.jsx(VO,{})}),X.jsx(Ue,{path:"/instalaciones",element:X.jsx(kO,{})}),X.jsx(Ue,{path:"/tecnicos",element:X.jsx($h,{allowedRoles:[Ee.SUPER_ADMIN,Ee.ADMIN,Ee.TECNICO],children:X.jsx(UO,{})})}),X.jsx(Ue,{path:"/visitas",element:X.jsx($h,{allowedRoles:[Ee.SUPER_ADMIN,Ee.ADMIN,Ee.TECNICO],children:X.jsx(zO,{})})}),X.jsx(Ue,{path:"/planta-externa",element:X.jsx(BO,{})}),X.jsx(Ue,{path:"/post-venta",element:X.jsx(qO,{})}),X.jsx(Ue,{path:"/requerimientos",element:X.jsx(jO,{})}),X.jsx(Ue,{path:"/soporte",element:X.jsx(NO,{})}),X.jsx(Ue,{path:"/whatsapp",element:X.jsx(LO,{})}),X.jsx(Ue,{path:"/equipos",element:X.jsx(MO,{})}),X.jsx(Ue,{path:"/reportes",element:X.jsx(OO,{})}),X.jsx(Ue,{path:"/importar",element:X.jsx(DO,{})}),X.jsx(Ue,{path:"/usuarios",element:X.jsx($h,{requiredRole:Ee.SUPER_ADMIN,children:X.jsx(FO,{})})}),X.jsx(Ue,{path:"/config",element:X.jsx($h,{requiredRole:Ee.SUPER_ADMIN,children:X.jsx(PO,{})})}),X.jsx(Ue,{path:"*",element:X.jsx(Vp,{to:"/",replace:!0})})]})})}):X.jsxs(q.Suspense,{fallback:X.jsx(Dp,{}),children:[X.jsx(Vp,{to:"/",replace:!0}),X.jsx(RO,{})]})}function GO(){return X.jsxs(fN,{children:[X.jsx(HO,{}),X.jsx(TO,{}),X.jsx(bO,{})]})}const ZA=document.getElementById("root");if(!ZA)throw new Error("Failed to find the root element");zR.createRoot(ZA).render(X.jsx(q.StrictMode,{children:X.jsx(aw,{children:X.jsx(GO,{})})}));export{e4 as $,YO as A,vN as B,zV as C,GA as D,QO as E,UN as F,s4 as G,df as H,Ag as I,Cw as J,XO as K,HN as L,rt as M,dS as N,i4 as O,ht as P,r4 as Q,kh as R,eO as S,$A as T,lO as U,Wo as V,cO as W,mO as X,Uo as Y,t4 as Z,Ge as _,Se as a,U2 as a0,n4 as a1,Aw as a2,$O as a3,WO as a4,mS as a5,qt as a6,JO as a7,ZO as a8,pf as a9,Mu as aa,Oo as ab,a4 as ac,l4 as ad,QT as b,se as c,KO as d,iO as e,fO as f,ON as g,WN as h,wN as i,X as j,VN as k,AN as l,mg as m,Ee as n,fg as o,c4 as p,u4 as q,q as r,cg as s,XN as t,sd as u,TN as v,DN as w,M2 as x,vi as y,O2 as z};
