import{a as u,r as c,j as e,F as te,L as se,o as k,X as L,g as ae,y as oe,W as le}from"./index-Cv24CwsR.js";import{C as S,g as P}from"./CopyButton-BLj0ojLp.js";import{P as ne}from"./plus-BKUvgC9B.js";import{C as re}from"./clock-qjczqwHK.js";import{C as ce}from"./circle-check-uQPvHq6U.js";import{S as ie}from"./search-Cwsi32eX.js";import{C as $}from"./chevron-right-DmXAAVHy.js";import{M as A}from"./map-pin-1on7Zjrb.js";import{U as E}from"./user-BXiWrPdh.js";import{A as q}from"./arrow-right-B8Au58-S.js";import"./check-C-NCJrVP.js";const de=["Pendiente","Aprobada","Programada","En Instalación","Completada","Derivada","Cancelada"],h={Pendiente:{bg:"#f59e0b20",text:"#f59e0b",tailBg:"bg-yellow-500/20",tailText:"text-yellow-400"},Aprobada:{bg:"#3b82f620",text:"#3b82f6",tailBg:"bg-blue-500/20",tailText:"text-blue-400"},Programada:{bg:"#8b5cf620",text:"#8b5cf6",tailBg:"bg-purple-500/20",tailText:"text-purple-400"},"En Instalación":{bg:"#f9731620",text:"#f97316",tailBg:"bg-orange-500/20",tailText:"text-orange-400"},Completada:{bg:"#10b98120",text:"#10b981",tailBg:"bg-green-500/20",tailText:"text-green-400"},Derivada:{bg:"#ef444420",text:"#ef4444",tailBg:"bg-red-500/20",tailText:"text-red-400"},Cancelada:{bg:"#6b728020",text:"#6b7280",tailBg:"bg-gray-500/20",tailText:"text-gray-400"}},g=["Pendiente","Aprobada","Programada","En Instalación","Completada"],xe=["INTERNET FIBRA 100MB","INTERNET FIBRA 200MB","INTERNET FIBRA 300MB","INTERNET RADIO 30MB","INTERNET RADIO 50MB","INTERNET RADIO 65MB","INTERNET RADIO 100MB"],Z=["Radio Enlace","Fibra Óptica"],me={Pendiente:["Aprobada","Cancelada"],Aprobada:["Programada","Cancelada"],Programada:["En Instalación","Cancelada"],"En Instalación":["Completada","Derivada"],Completada:[],Derivada:["En Instalación"],Cancelada:[]};function W({estado:n,size:d="sm"}){const p=h[n]||h.Pendiente,x=d==="sm"?"py-[3px] px-2.5":"py-1 px-3",N=d==="sm"?"text-[11px]":"text-xs";return e.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full font-semibold whitespace-nowrap ${x} ${N}`,style:{background:p.bg,color:p.text},children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full",style:{background:p.text,boxShadow:`0 0 6px ${p.text}`}}),n]})}function F({tecnologia:n}){const d=n==="Fibra Óptica";return e.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full py-[3px] px-2.5 text-[11px] font-semibold whitespace-nowrap ${d?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:[d?e.jsx(oe,{size:10}):e.jsx(le,{size:10}),n]})}function Ie(){const n=u(t=>t.instalaciones),d=u(t=>t.addInstalacion),p=u(t=>t.updateInstalacion),x=u(t=>t.clients),N=u(t=>t.tecnicos),B=u(t=>t.derivaciones),[y,_]=c.useState(""),[C,G]=c.useState("all"),[I,H]=c.useState("all"),[w,U]=c.useState("all"),[V,j]=c.useState(!1),[s,m]=c.useState(null);c.useEffect(()=>{if(s){const t=n.find(a=>a.id===s.id);t&&t!==s&&m(t)}},[n,s]);const[f,M]=c.useState("pipeline"),[o,z]=c.useState({prospectoNombre:"",prospectoDNI:"",prospectoTelefono:"",prospectoEmail:"",plan:"",tecnologia:"",zona:"",direccion:"",tecnicoId:"",tecnicoNombre:"",fecha:"",observaciones:""}),X=c.useMemo(()=>N.filter(t=>t.estado==="Activo"),[N]),J=c.useMemo(()=>{const t=new Set(n.map(a=>a.zona).filter(Boolean));return x.forEach(a=>{a.zona&&t.add(a.zona)}),Array.from(t).sort()},[n,x]),b=c.useMemo(()=>({total:n.length,pendientes:n.filter(t=>t.estado==="Pendiente"||t.estado==="Aprobada").length,enCurso:n.filter(t=>t.estado==="Programada"||t.estado==="En Instalación").length,completadas:n.filter(t=>t.estado==="Completada").length}),[n]),R=c.useMemo(()=>n.filter(t=>{const a=y.toLowerCase(),r=t.prospectoNombre||t.clienteNombre,l=!y||r&&r.toLowerCase().includes(a)||t.id&&t.id.toLowerCase().includes(a)||t.direccion&&t.direccion.toLowerCase().includes(a)||t.tecnicoNombre&&t.tecnicoNombre.toLowerCase().includes(a),v=C==="all"||t.estado===C,T=I==="all"||t.zona===I,ee=w==="all"||t.tecnologia===w;return l&&v&&T&&ee}),[n,y,C,I,w]),K=c.useMemo(()=>{const t={};return g.forEach(a=>{t[a]=[]}),t.Derivada=[],n.forEach(a=>{t[a.estado]&&t[a.estado].push(a)}),t},[n]),D=c.useMemo(()=>s?B.filter(t=>t.instalacionId===s.id):[],[B,s]),i=(t,a)=>{if(t==="tecnicoId"){const r=N.find(l=>l.id===a);z(l=>({...l,tecnicoId:a,tecnicoNombre:r?r.nombre:""}))}else z(r=>({...r,[t]:a}))},O=()=>{z({prospectoNombre:"",prospectoDNI:"",prospectoTelefono:"",prospectoEmail:"",plan:"",tecnologia:"",zona:"",direccion:"",tecnicoId:"",tecnicoNombre:"",fecha:"",observaciones:""})},Q=t=>{t.preventDefault(),!(!o.prospectoNombre||!o.plan||!o.tecnologia)&&(d({prospectoNombre:o.prospectoNombre,prospectoDNI:o.prospectoDNI,prospectoTelefono:o.prospectoTelefono,prospectoEmail:o.prospectoEmail,clienteNombre:o.prospectoNombre,tecnicoId:o.tecnicoId||null,tecnicoNombre:o.tecnicoNombre||"Sin asignar",tipo:"Nueva Instalación",estado:"Pendiente",plan:o.plan,tecnologia:o.tecnologia,direccion:o.direccion,zona:o.zona,equipoInstalado:"",fecha:o.fecha||new Date().toISOString().split("T")[0],horaInicio:null,horaFin:null,observaciones:o.observaciones}),j(!1),O())},Y=(t,a)=>{p(t.id,{estado:a}),m(r=>r?{...r,estado:a}:null)};return e.jsxs("div",{className:"animate-fade p-4 sm:p-6 sm:px-8 h-full overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-[26px] font-bold tracking-tight",children:"Instalaciones"}),e.jsxs("p",{className:"text-text-secondary text-sm mt-1",children:["Pipeline de instalaciones - ",b.total," total, ",b.enCurso," en curso"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex bg-bg-secondary rounded-lg border border-border p-0.5",children:[e.jsx("button",{onClick:()=>M("pipeline"),className:`py-1.5 px-3 rounded-md text-xs font-medium cursor-pointer border-none transition-all ${f==="pipeline"?"bg-accent-blue text-white":"bg-transparent text-text-secondary hover:text-text-primary"}`,children:"Pipeline"}),e.jsx("button",{onClick:()=>M("list"),className:`py-1.5 px-3 rounded-md text-xs font-medium cursor-pointer border-none transition-all ${f==="list"?"bg-accent-blue text-white":"bg-transparent text-text-secondary hover:text-text-primary"}`,children:"Lista"})]}),e.jsxs("button",{onClick:()=>j(!0),className:"py-2.5 px-4 rounded-xl bg-accent-blue border-none text-white text-sm font-semibold cursor-pointer flex items-center gap-2 hover:opacity-90",children:[e.jsx(ne,{size:16})," ",e.jsx("span",{className:"hidden sm:inline",children:"Nueva"})," Instalación"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[{label:"Total",value:b.total,icon:e.jsx(te,{size:16}),color:"#3b82f6"},{label:"Pendientes",value:b.pendientes,icon:e.jsx(re,{size:16}),color:"#f59e0b"},{label:"En Curso",value:b.enCurso,icon:e.jsx(se,{size:16}),color:"#f97316"},{label:"Completadas",value:b.completadas,icon:e.jsx(ce,{size:16}),color:"#10b981"}].map(t=>e.jsxs("div",{className:"bg-bg-card rounded-xl p-4 border border-border flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:t.color+"15",color:t.color},children:t.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold font-mono",children:t.value}),e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide",children:t.label})]})]},t.label))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-5",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted"}),e.jsx("input",{placeholder:"Buscar por prospecto, ID, dirección, técnico...",value:y,onChange:t=>_(t.target.value),className:"w-full pl-9"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:[e.jsxs("select",{value:C,onChange:t=>G(t.target.value),className:"flex-1 sm:flex-none sm:min-w-[150px]",children:[e.jsx("option",{value:"all",children:"Todos los estados"}),de.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{value:I,onChange:t=>H(t.target.value),className:"flex-1 sm:flex-none sm:min-w-[140px]",children:[e.jsx("option",{value:"all",children:"Todas las zonas"}),J.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{value:w,onChange:t=>U(t.target.value),className:"flex-1 sm:flex-none sm:min-w-[150px]",children:[e.jsx("option",{value:"all",children:"Toda tecnología"}),Z.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),f==="pipeline"&&e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4",children:[...g,"Derivada"].map(t=>{const a=K[t]||[],r=h[t];return e.jsxs("div",{className:"min-w-[180px] sm:min-w-[240px] flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{background:r.text}}),e.jsx("span",{className:"text-xs font-semibold text-text-primary uppercase tracking-wide",children:t}),e.jsx("span",{className:"text-[10px] font-bold rounded-full px-1.5 py-0.5 ml-auto",style:{background:r.bg,color:r.text},children:a.length})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[a.length===0&&e.jsx("div",{className:"bg-bg-secondary/50 rounded-lg p-4 border border-border/50 border-dashed text-center",children:e.jsx("p",{className:"text-[11px] text-text-muted",children:"Sin instalaciones"})}),a.map(l=>e.jsxs("div",{onClick:()=>m(l),className:"bg-bg-card rounded-lg p-3 border border-border cursor-pointer transition-all hover:border-accent-blue/50 hover:bg-bg-card-hover group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-mono text-[10px] text-text-muted",children:l.id}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{getTextFn:()=>P(l,x.find(v=>v.id===l.clienteId))}),e.jsx($,{size:12,className:"text-text-muted opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),e.jsx("p",{className:"text-xs font-semibold mb-1 truncate",title:l.prospectoNombre||l.clienteNombre,children:l.prospectoNombre||l.clienteNombre}),l.prospectoDNI&&e.jsxs("p",{className:"text-[10px] text-text-muted mb-1",children:["DNI: ",l.prospectoDNI]}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted mb-1.5",children:[e.jsx(A,{size:9}),e.jsx("span",{className:"truncate",children:l.zona||"Sin zona"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(F,{tecnologia:l.tecnologia}),e.jsxs("span",{className:"text-[10px] text-text-muted flex items-center gap-1",children:[e.jsx(k,{size:9}),l.fecha]})]}),l.tecnicoNombre&&e.jsxs("div",{className:"flex items-center gap-1 mt-1.5 text-[10px] text-text-secondary",children:[e.jsx(E,{size:9}),l.tecnicoNombre]})]},l.id))]})]},t)})}),f==="list"&&e.jsxs("div",{className:"flex flex-col gap-3",children:[R.length===0&&e.jsx("div",{className:"bg-bg-card rounded-xl p-8 border border-border text-center",children:e.jsx("p",{className:"text-text-muted text-sm",children:"No se encontraron instalaciones"})}),R.map(t=>e.jsxs("div",{onClick:()=>m(t),className:"bg-bg-card rounded-xl p-4 border border-border cursor-pointer transition-all hover:border-accent-blue/50 hover:bg-bg-card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-mono text-xs text-text-muted",children:t.id}),e.jsx(W,{estado:t.estado}),e.jsx(F,{tecnologia:t.tecnologia})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{getTextFn:()=>P(t,x.find(a=>a.id===t.clienteId))}),e.jsxs("span",{className:"text-[11px] text-text-muted flex items-center gap-1",children:[e.jsx(k,{size:11}),t.fecha]})]})]}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:t.prospectoNombre||t.clienteNombre}),t.prospectoDNI&&e.jsxs("p",{className:"text-[11px] text-text-muted mb-1",children:["DNI: ",t.prospectoDNI]}),e.jsx("p",{className:"text-xs text-text-secondary mb-2",children:t.plan}),e.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-text-muted",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{size:11}),t.direccion||"Sin dirección"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:11}),t.tecnicoNombre||"Sin asignar"]}),t.zona&&e.jsx("span",{className:"bg-bg-secondary px-2 py-0.5 rounded text-[10px]",children:t.zona})]})]},t.id))]}),f==="pipeline"&&e.jsx("div",{className:"mt-6 flex items-center justify-center gap-1",children:g.map((t,a)=>{const r=h[t];return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[10px] font-medium px-2 py-1 rounded",style:{background:r.bg,color:r.text},children:t}),a<g.length-1&&e.jsx(q,{size:12,className:"text-text-muted"})]},t)})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:e.jsxs("div",{className:"bg-bg-card rounded-2xl p-4 sm:p-6 w-full max-w-[560px] border border-border max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Nueva Instalación"}),e.jsx("button",{onClick:()=>j(!1),className:"w-8 h-8 rounded-lg bg-bg-secondary border border-border flex items-center justify-center cursor-pointer text-text-muted hover:text-text-primary",children:e.jsx(L,{size:16})})]}),e.jsxs("form",{onSubmit:Q,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Nombre del Prospecto *"}),e.jsx("input",{type:"text",placeholder:"Nombre completo del prospecto",value:o.prospectoNombre,onChange:t=>i("prospectoNombre",t.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"DNI / Documento"}),e.jsx("input",{type:"text",placeholder:"Número de documento",value:o.prospectoDNI,onChange:t=>i("prospectoDNI",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Teléfono / Celular"}),e.jsx("input",{type:"text",placeholder:"Número de contacto",value:o.prospectoTelefono,onChange:t=>i("prospectoTelefono",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Correo electrónico (opcional)",value:o.prospectoEmail,onChange:t=>i("prospectoEmail",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Plan *"}),e.jsxs("select",{value:o.plan,onChange:t=>i("plan",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar plan..."}),xe.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Tecnología *"}),e.jsxs("select",{value:o.tecnologia,onChange:t=>i("tecnologia",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar tecnología..."}),Z.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Zona"}),e.jsx("input",{type:"text",placeholder:"Zona de instalación",value:o.zona,onChange:t=>i("zona",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Dirección"}),e.jsx("input",{type:"text",placeholder:"Dirección completa",value:o.direccion,onChange:t=>i("direccion",t.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Técnico"}),e.jsxs("select",{value:o.tecnicoId,onChange:t=>i("tecnicoId",t.target.value),children:[e.jsx("option",{value:"",children:"Sin asignar"}),X.map(t=>e.jsxs("option",{value:t.id,children:[t.nombre," — ",t.especialidad]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Fecha programada"}),e.jsx("input",{type:"date",value:o.fecha,onChange:t=>i("fecha",t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-secondary font-medium mb-1.5",children:"Observaciones"}),e.jsx("textarea",{placeholder:"Notas adicionales sobre la instalación...",value:o.observaciones,onChange:t=>i("observaciones",t.target.value),className:"bg-bg-secondary border border-border text-text-primary p-3 rounded-lg text-sm min-h-[80px] resize-y outline-none focus:border-accent-blue w-full"})]}),e.jsxs("div",{className:"flex gap-3 mt-1",children:[e.jsx("button",{type:"button",onClick:()=>{j(!1),O()},className:"flex-1 py-2.5 rounded-lg bg-bg-secondary border border-border text-text-secondary cursor-pointer text-sm hover:text-text-primary",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:!o.prospectoNombre||!o.plan||!o.tecnologia,className:"flex-1 py-2.5 rounded-lg bg-accent-blue border-none text-white cursor-pointer text-sm font-semibold disabled:opacity-40 disabled:cursor-not-allowed hover:opacity-90",children:"Crear Instalación"})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>m(null),children:e.jsxs("div",{className:"bg-bg-card rounded-2xl p-4 sm:p-6 w-full max-w-[600px] border border-border max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-start mb-5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-mono text-sm text-text-muted",children:s.id}),e.jsx(W,{estado:s.estado,size:"md"})]}),e.jsx("h3",{className:"text-lg font-bold",children:s.prospectoNombre||s.clienteNombre})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{getTextFn:()=>P(s,x.find(t=>t.id===s.clienteId))}),e.jsx("button",{onClick:()=>m(null),className:"w-8 h-8 rounded-lg bg-bg-secondary border border-border flex items-center justify-center cursor-pointer text-text-muted hover:text-text-primary",children:e.jsx(L,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-5",children:[e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Prospecto"}),e.jsx("p",{className:"text-sm font-semibold",children:s.prospectoNombre||s.clienteNombre})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"DNI / Documento"}),e.jsx("p",{className:"text-sm font-medium",children:s.prospectoDNI||"No registrado"})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Teléfono"}),e.jsx("p",{className:"text-sm font-medium",children:s.prospectoTelefono||"No registrado"})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Email"}),e.jsx("p",{className:"text-sm font-medium",children:s.prospectoEmail||"No registrado"})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Plan"}),e.jsx("p",{className:"text-sm font-semibold",children:s.plan})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Tecnología"}),e.jsx("div",{className:"mt-0.5",children:e.jsx(F,{tecnologia:s.tecnologia})})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Dirección"}),e.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(A,{size:12,className:"text-text-muted"}),s.direccion||"Sin dirección"]})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Zona"}),e.jsx("p",{className:"text-sm font-medium",children:s.zona||"Sin zona"})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Técnico"}),e.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(E,{size:12,className:"text-text-muted"}),s.tecnicoNombre||"Sin asignar"]})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Fecha"}),e.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx(k,{size:12,className:"text-text-muted"}),s.fecha]})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Tipo"}),e.jsx("p",{className:"text-sm font-medium",children:s.tipo||"Nueva Instalación"})]}),e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Equipo Instalado"}),e.jsx("p",{className:"text-sm font-medium",children:s.equipoInstalado||"Pendiente"})]})]}),(s.horaInicio||s.horaFin)&&e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3 mb-5 flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Hora Inicio"}),e.jsx("p",{className:"text-sm font-mono font-medium",children:s.horaInicio||"—"})]}),e.jsx(q,{size:14,className:"text-text-muted"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase",children:"Hora Fin"}),e.jsx("p",{className:"text-sm font-mono font-medium",children:s.horaFin||"—"})]})]}),s.observaciones&&e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3 mb-5",children:[e.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-1",children:"Observaciones"}),e.jsx("p",{className:"text-sm text-text-secondary",children:s.observaciones})]}),D.length>0&&e.jsxs("div",{className:"mb-5",children:[e.jsxs("p",{className:"text-xs font-semibold text-text-primary mb-2 flex items-center gap-1",children:[e.jsx(ae,{size:12}),"Derivaciones de Planta Externa (",D.length,")"]}),e.jsx("div",{className:"flex flex-col gap-2",children:D.map(t=>e.jsxs("div",{className:"bg-bg-secondary rounded-lg p-3 border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-mono text-[11px] text-text-muted",children:t.id}),e.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full",style:{background:t.estado==="Completada"?"#10b98120":t.estado==="En progreso"?"#f9731620":"#f59e0b20",color:t.estado==="Completada"?"#10b981":t.estado==="En progreso"?"#f97316":"#f59e0b"},children:t.estado})]}),e.jsx("p",{className:"text-xs font-medium",children:t.tipo}),e.jsx("p",{className:"text-[11px] text-text-muted mt-0.5",children:t.descripcion}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] text-text-muted",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:9}),t.tecnicoNombre]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{size:9}),t.fecha]}),t.metraje>0&&e.jsxs("span",{children:[t.metraje,"m"]})]})]},t.id))})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("p",{className:"text-xs font-semibold text-text-primary mb-3",children:"Progreso de Instalación"}),e.jsx("div",{className:"flex items-center gap-1",children:g.map((t,a)=>{const r=g.indexOf(s.estado),l=a<=r,v=t===s.estado,T=h[t];return e.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[e.jsx("div",{className:`h-1.5 rounded-full flex-1 transition-all ${l?"":"opacity-20"}`,style:{background:l?T.text:"#6b7280"}}),v&&e.jsx("span",{className:"text-[9px] font-semibold whitespace-nowrap",style:{color:T.text},children:t})]},t)})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(me[s.estado]||[]).map(t=>{const a=h[t];return e.jsxs("button",{onClick:()=>Y(s,t),className:"py-2 px-4 rounded-lg border-none text-xs font-semibold cursor-pointer flex items-center gap-1.5 hover:opacity-80 transition-opacity",style:{background:a.bg,color:a.text},children:[e.jsx($,{size:12}),t==="Cancelada"?"Cancelar":`Mover a ${t}`]},t)}),e.jsx("button",{onClick:()=>m(null),className:"py-2 px-4 rounded-lg bg-bg-secondary border border-border text-text-secondary text-xs cursor-pointer ml-auto hover:text-text-primary",children:"Cerrar"})]})]})})]})}export{Ie as default};
