import{r as t,j as e,F as P}from"./index-V83AbEuR.js";import{A as $}from"./Adjuntos-qr9JvWqU.js";import{C as A}from"./circle-check-DXlsREZ5.js";function L({open:N,onClose:k,onConfirm:C,title:w,entityId:z,entityLabel:F,newStatus:a,accentColor:l="accent-green"}){const[r,o]=t.useState(""),[f,n]=t.useState(""),[v,c]=t.useState([]),[i,d]=t.useState(""),[x,u]=t.useState(""),[m,b]=t.useState(""),[p,h]=t.useState(""),[g,j]=t.useState("");if(!N)return null;const R=()=>{r.trim()&&(C({solucion:r.trim(),accionesRealizadas:f.trim(),adjuntosResolucion:v,diagnosticosFinales:a==="Resuelto"?{ping:i?parseFloat(i):null,download:x?parseFloat(x):null,upload:m?parseFloat(m):null,packetLoss:p?parseFloat(p):null,jitter:g?parseFloat(g):null}:null}),o(""),n(""),c([]),d(""),u(""),b(""),h(""),j(""))},y=()=>{o(""),n(""),c([]),d(""),u(""),b(""),h(""),j(""),k()};return e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60]",onClick:y,children:e.jsxs("div",{className:"bg-bg-card rounded-2xl p-6 w-[560px] border border-border max-h-[85vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-${l}/20 flex items-center justify-center`,children:e.jsx(P,{size:20,className:`text-${l}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:w||`Cerrar ${F}`}),e.jsxs("p",{className:"text-xs text-text-muted",children:[e.jsx("span",{className:"font-mono",children:z})," → ",e.jsx("span",{className:`text-${l} font-semibold`,children:a})]})]})]}),e.jsx("div",{className:`bg-${l}/10 border border-${l}/20 rounded-lg p-3 mb-5`,children:e.jsxs("p",{className:"text-xs text-text-secondary",children:["Para cambiar el estado a ",e.jsx("strong",{children:a})," es necesario completar el informe de resolucion. Describa la solucion aplicada y las acciones realizadas."]})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-text-secondary font-medium mb-1.5 block",children:"Descripcion de la solucion *"}),e.jsx("textarea",{value:r,onChange:s=>o(s.target.value),placeholder:"Describa detalladamente la solucion aplicada, causa raiz identificada y resultado obtenido...",className:"bg-bg-secondary border border-border text-text-primary p-3 rounded-lg text-sm min-h-[100px] resize-y outline-none focus:border-accent-blue w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-text-secondary font-medium mb-1.5 block",children:"Acciones realizadas"}),e.jsx("textarea",{value:f,onChange:s=>n(s.target.value),placeholder:"Ej: Se reinicio el equipo, se cambio el cable, se reconfiguro la antena, se reemplazo la ONU...",className:"bg-bg-secondary border border-border text-text-primary p-3 rounded-lg text-sm min-h-[70px] resize-y outline-none focus:border-accent-blue w-full"})]}),e.jsx($,{value:v,onChange:c,max:10,label:"Evidencia / Adjuntos"}),a==="Resuelto"&&e.jsxs("div",{className:"bg-bg-secondary/50 border border-border rounded-lg p-4 mt-1",children:[e.jsx("p",{className:"text-[10px] text-accent-blue uppercase tracking-wide font-semibold mb-3",children:"Parámetros Técnicos Finales"}),e.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-text-secondary mb-1 block",children:"Ping (ms)"}),e.jsx("input",{type:"number",value:i,onChange:s=>d(s.target.value),placeholder:"0",className:"w-full text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-text-secondary mb-1 block",children:"Down (Mbps)"}),e.jsx("input",{type:"number",value:x,onChange:s=>u(s.target.value),placeholder:"0",className:"w-full text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-text-secondary mb-1 block",children:"Up (Mbps)"}),e.jsx("input",{type:"number",value:m,onChange:s=>b(s.target.value),placeholder:"0",className:"w-full text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-text-secondary mb-1 block",children:"Pkt Loss (%)"}),e.jsx("input",{type:"number",value:p,onChange:s=>h(s.target.value),placeholder:"0",className:"w-full text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-text-secondary mb-1 block",children:"Jitter (ms)"}),e.jsx("input",{type:"number",value:g,onChange:s=>j(s.target.value),placeholder:"0",className:"w-full text-xs"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-1",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 py-2.5 rounded-lg bg-bg-secondary border border-border text-text-secondary cursor-pointer text-sm hover:bg-bg-card-hover transition-colors",children:"Cancelar"}),e.jsxs("button",{type:"button",onClick:R,disabled:!r.trim(),className:`flex-1 py-2.5 rounded-lg bg-${l} border-none text-white cursor-pointer text-sm font-semibold hover:opacity-90 transition-opacity disabled:opacity-40 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:[e.jsx(A,{size:14}),"Confirmar y ",a==="Cerrado"?"Cerrar":a==="Resuelto"?"Resolver":"Completar"]})]})]})]})})}export{L as R};
